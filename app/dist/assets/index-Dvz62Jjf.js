var Ht=Object.defineProperty;var Ut=(n,e,t)=>e in n?Ht(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Se=(n,e,t)=>(Ut(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function t(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(l){if(l.ep)return;l.ep=!0;const r=t(l);fetch(l.href,r)}})();var Ve=(n=>(n[n.SECOND=1e3]="SECOND",n[n.MINUTE=6e4]="MINUTE",n[n.HALF_HOUR=18e5]="HALF_HOUR",n[n.HOUR=36e5]="HOUR",n[n.DAY=864e5]="DAY",n[n.WEEK=6048e5]="WEEK",n[n.MONTH=2592e6]="MONTH",n))(Ve||{});class we{static set(e,t,o,l){const r=new Date;r.setTime(r.getTime()+o*l);const i=`expires=${r.toUTCString()}`;document.cookie=`${e}=${t};${i};path=/`}static get(e){const t=`${e}=`,o=document.cookie.split(";");for(let l=0;l<o.length;l++){let r=o[l];for(;r.charAt(0)===" ";)r=r.substring(1,r.length);if(r.indexOf(t)===0)return r.substring(t.length,r.length)}return null}static remove(e){document.cookie=`${e}=; Max-Age=-99999999;`}}function ie(n){return{ok:!0,value:n}}function J(n){return{ok:!1,error:n}}var W=(n=>(n.rs3="rs3",n.osrs="osrs",n))(W||{}),ue=(n=>(n.official="Official",n.runelite="RuneLite",n.hdos="HDOS",n))(ue||{});const tt={rs3:["Official"],osrs:["Official","RuneLite","HDOS"]};class Ue{static parseTokenResponse(e){try{const t=JSON.parse(e),o=t.id_token.split(".");if(o.length!==3){const i=`Malformed id_token: ${o.length} sections, expected 3`;return J(i)}const l=JSON.parse(atob(o[0]));if(l.typ!=="JWT"){const i=`Bad id_token header: typ ${l.typ}, expected JWT`;return J(i)}const r=JSON.parse(atob(o[1]));return ie({access_token:t.access_token,id_token:t.id_token,refresh_token:t.refresh_token,sub:r.sub,expiry:Date.now()+t.expires_in*1e3})}catch{return J("Unable to parse token response")}}static parseSessionResponse(e){try{const t=JSON.parse(e);return t.sessionId?ie(t.sessionId):J("sessionId does not exist on parsed object")}catch{return J("Unable to parse session response")}}static decodeBolt(e){const t={};for(const o in e){const l=o,r=e[l];typeof r=="string"?t[l]=atob(r):Array.isArray(r)&&r.every(i=>typeof i=="string")?t[l]=r.map(i=>atob(i)):t[l]=r}return t}}var Ce=(n=>(n.Windows="windows",n.Linux="linux",n.MacOS="mac",n))(Ce||{});const L={env:Ue.decodeBolt(s()),internalUrl:"https://bolt-internal",platform:null,rs3DebInstalledHash:null,rs3ExeInstalledHash:null,rs3AppInstalledHash:null,osrsExeInstalledHash:null,osrsAppInstalledHash:null,runeLiteInstalledId:null,hdosInstalledVersion:null,isFlathub:!1,hasBoltPlugins:!1,pluginList:{}};class Xe{static async makeLoginUrl(e){const t=new TextEncoder().encode(e.pkceCodeVerifier),o=await crypto.subtle.digest("SHA-256",t);let l="";const r=new Uint8Array(o);for(let c=0;c<r.byteLength;c++)l+=String.fromCharCode(r[c]);const i=btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");return e.origin.concat("/oauth2/auth?").concat(new URLSearchParams({auth_method:e.authMethod,login_type:e.loginType,flow:e.flow,response_type:"code",client_id:e.clientid,redirect_uri:e.redirect,code_challenge:i,code_challenge_method:"S256",prompt:"login",scope:"openid offline gamesso.token.create user.profile.read",state:e.pkceState}).toString())}static makeRandomVerifier(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=new Uint32Array(43);return crypto.getRandomValues(t),Array.from(t,function(o){return e[o%e.length]}).join("")}static makeRandomState(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",o=t.length-1,l=crypto.getRandomValues(new Uint8Array(12));return Array.from(l).map(r=>Math.round(r*(o-0)/255+0)).map(r=>t[r]).join("")}}const ye=class ye{static async openLoginWindow(e,t,o){if(ye.pendingLoginWindow!==null)return ye.pendingLoginWindow.window.focus();const l=Xe.makeRandomState(),r=Xe.makeRandomVerifier(),i=new TextEncoder().encode(r),c=await crypto.subtle.digest("SHA-256",i);let u="";const a=new Uint8Array(c);for(let _=0;_<a.byteLength;_++)u+=String.fromCharCode(a[_]);const d=btoa(u).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),f=new URLSearchParams({auth_method:"",login_type:"",flow:"launcher",response_type:"code",client_id:o,redirect_uri:t,code_challenge:d,code_challenge_method:"S256",prompt:"login",scope:"openid offline gamesso.token.create user.profile.read",state:l}),g=`${e}/oauth2/auth?${f.toString()}`;we.set("auth_verifier",r,10,Ve.MINUTE),ye.pendingLoginWindow=window.open(g,"","width=480,height=720")}static navigateToAuthConsent(e,t,o){const l=Xe.makeRandomState(),r=new URLSearchParams({id_token_hint:t,nonce:o,prompt:"consent",redirect_uri:"http://localhost",response_type:"id_token code",state:l,client_id:"1fddee4e-b100-4f4e-b2b0-097f9088f9d2",scope:"openid offline"}),i=`${e}/oauth2/auth?${r.toString()}`;we.set("auth_nonce",o,10,Ve.MINUTE),window.location.href=i}static async refreshOAuthToken(e){return new Promise(t=>{if(e.expiry-Date.now()<3e4){const o=new URLSearchParams({grant_type:"refresh_token",client_id:L.env.clientid,refresh_token:e.refresh_token}),l=new XMLHttpRequest;l.onreadystatechange=()=>{if(l.readyState==4)if(l.status==200){const i=Ue.parseTokenResponse(l.response);i.ok?t(ie(i.value)):t(J(0))}else t(J(l.status))},l.onerror=()=>{t(J(0))};const r=L.env.origin.concat("/oauth2/token");l.open("POST",r,!0),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.setRequestHeader("Accept","application/json"),l.send(o)}else t(ie(e))})}static async getOAuthToken(e,t,o,l,r){const i=`${e}/oauth2/token`;return new Promise(c=>{const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(u.readyState==4)if(u.status==200){const d=Ue.parseTokenResponse(u.response);return d.ok?c(ie(d.value)):c(J(d.error))}else return c(J(`Error: from ${i}: ${u.status}: ${u.response}`))},u.open("POST",i,!0),u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u.setRequestHeader("Accept","application/json");const a=new URLSearchParams({grant_type:"authorization_code",client_id:t,code:r,code_verifier:o,redirect_uri:l});u.send(a)})}static revokeOauthCreds(e){const t=`${L.env.origin}/oauth2/revoke`;return new Promise(o=>{const l=new XMLHttpRequest;l.open("POST",t,!0),l.onreadystatechange=()=>{l.readyState==4&&o(l.status)},l.setRequestHeader("Content-Type","application/x-www-form-urlencoded");const r=new URLSearchParams({token:e,client_id:L.env.clientid});l.send(r)})}static async getSessionId(e,t){const o=`${e}/sessions`;return new Promise(l=>{const r=new XMLHttpRequest;r.onreadystatechange=()=>{if(r.readyState==4)if(r.status==200){const c=Ue.parseSessionResponse(r.response);return c.ok?l(ie(c.value)):l(J(c.error))}else J(`Error: from ${o}: ${r.status}: ${r.response}`)},r.open("POST",o,!0),r.setRequestHeader("Content-Type","application/json"),r.setRequestHeader("Accept","application/json");const i={idToken:t};r.send(JSON.stringify(i))})}static validateIdToken(e,t){const o=e.split(".");if(o.length!==3)return J(`Malformed id_token: ${o.length} sections, expected 3`);const l=JSON.parse(atob(o[0]));return l.typ!=="JWT"?J(`Bad id_token header: typ ${l.typ}, expected JWT`):JSON.parse(atob(o[1])).nonce!==t?J("Incorrect nonce in id_token"):ie(void 0)}};Se(ye,"pendingLoginWindow",null);let ne=ye;class Re{static async buildSession(e,t){const o=await Re.getUser(e.sub,e.access_token);if(!o.ok)return J(`Failed to fetch user. Status: ${o.error}`);const l=await Re.getUserAccounts(t);return l.ok?ie({user:o.value,accounts:l.value,tokens:e,session_id:t}):J(`Failed to fetch game accounts. Status: ${l.error}`)}static getUser(e,t){return new Promise(o=>{const l=`${L.env.api}/users/${e}/displayName`,r=new XMLHttpRequest;r.onreadystatechange=()=>{if(r.readyState==4)if(r.status==200){const i=JSON.parse(r.response);o(ie(i))}else o(J(r.status))},r.open("GET",l,!0),r.setRequestHeader("Authorization","Bearer ".concat(t)),r.send()})}static getUserAccounts(e){const t=`${L.env.auth_api}/accounts`;return new Promise(o=>{const l=new XMLHttpRequest;l.onreadystatechange=async()=>{if(l.readyState==4)if(l.status==200){const r=JSON.parse(l.response);o(ie(r))}else o(J(l.status))},l.open("GET",t,!0),l.setRequestHeader("Accept","application/json"),l.setRequestHeader("Authorization","Bearer ".concat(e)),l.send()})}}function H(){}function Et(n,e){for(const t in e)n[t]=e[t];return n}function Nt(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}function Lt(n){return n()}function nt(){return Object.create(null)}function ee(n){n.forEach(Lt)}function Ae(n){return typeof n=="function"}function Y(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let He;function Mt(n,e){return n===e?!0:(He||(He=document.createElement("a")),He.href=e,n===He.href)}function jt(n){return Object.keys(n).length===0}function Ct(n,...e){if(n==null){for(const o of e)o(void 0);return H}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function se(n){let e;return Ct(n,t=>e=t)(),e}function le(n,e,t){n.$$.on_destroy.push(Ct(e,t))}function qe(n,e,t,o){if(n){const l=Rt(n,e,t,o);return n[0](l)}}function Rt(n,e,t,o){return n[1]&&o?Et(t.ctx.slice(),n[1](o(e))):t.ctx}function De(n,e,t,o){if(n[2]&&o){const l=n[2](o(t));if(e.dirty===void 0)return l;if(typeof l=="object"){const r=[],i=Math.max(e.dirty.length,l.length);for(let c=0;c<i;c+=1)r[c]=e.dirty[c]|l[c];return r}return e.dirty|l}return e.dirty}function Be(n,e,t,o,l,r){if(l){const i=Rt(e,t,o,r);n.p(i,l)}}function Ge(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let o=0;o<t;o++)e[o]=-1;return e}return-1}function Ee(n,e,t){return n.set(t),e}function At(n){return n&&Ae(n.destroy)?n.destroy:H}function k(n,e){n.appendChild(e)}function S(n,e,t){n.insertBefore(e,t||null)}function $(n){n.parentNode&&n.parentNode.removeChild(n)}function Pe(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function m(n){return document.createElement(n)}function B(n){return document.createTextNode(n)}function P(){return B(" ")}function fe(){return B("")}function E(n,e,t,o){return n.addEventListener(e,t,o),()=>n.removeEventListener(e,t,o)}function qt(n){return function(e){e.target===this&&n.call(this,e)}}function h(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Dt(n){return Array.from(n.childNodes)}function re(n,e){e=""+e,n.data!==e&&(n.data=e)}function te(n,e){n.value=e??""}function de(n,e,t){for(let o=0;o<n.options.length;o+=1){const l=n.options[o];if(l.__value===e){l.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function Me(n){const e=n.querySelector(":checked");return e&&e.__value}function F(n,e,t){n.classList.toggle(e,!!t)}function Bt(n,e,{bubbles:t=!1,cancelable:o=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:o})}let Te;function ae(n){Te=n}function Je(){if(!Te)throw new Error("Function called outside component initialization");return Te}function Tt(n){Je().$$.on_mount.push(n)}function xt(n){Je().$$.on_destroy.push(n)}function Gt(){const n=Je();return(e,t,{cancelable:o=!1}={})=>{const l=n.$$.callbacks[e];if(l){const r=Bt(e,t,{cancelable:o});return l.slice().forEach(i=>{i.call(n,r)}),!r.defaultPrevented}return!0}}const ke=[],ce=[];let ve=[];const st=[],Jt=Promise.resolve();let ze=!1;function Xt(){ze||(ze=!0,Jt.then(Ye))}function _e(n){ve.push(n)}const Fe=new Set;let ge=0;function Ye(){if(ge!==0)return;const n=Te;do{try{for(;ge<ke.length;){const e=ke[ge];ge++,ae(e),Ft(e.$$)}}catch(e){throw ke.length=0,ge=0,e}for(ae(null),ke.length=0,ge=0;ce.length;)ce.pop()();for(let e=0;e<ve.length;e+=1){const t=ve[e];Fe.has(t)||(Fe.add(t),t())}ve.length=0}while(ke.length);for(;st.length;)st.pop()();ze=!1,Fe.clear(),ae(n)}function Ft(n){if(n.fragment!==null){n.update(),ee(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(_e)}}function Wt(n){const e=[],t=[];ve.forEach(o=>n.indexOf(o)===-1?e.push(o):t.push(o)),t.forEach(o=>o()),ve=e}const Ne=new Set;let pe;function Ie(){pe={r:0,c:[],p:pe}}function Oe(){pe.r||ee(pe.c),pe=pe.p}function j(n,e){n&&n.i&&(Ne.delete(n),n.i(e))}function A(n,e,t,o){if(n&&n.o){if(Ne.has(n))return;Ne.add(n),pe.c.push(()=>{Ne.delete(n),o&&(t&&n.d(1),o())}),n.o(e)}else o&&o()}function $e(n,e){const t=e.token={};function o(l,r,i,c){if(e.token!==t)return;e.resolved=c;let u=e.ctx;i!==void 0&&(u=u.slice(),u[i]=c);const a=l&&(e.current=l)(u);let d=!1;e.block&&(e.blocks?e.blocks.forEach((f,g)=>{g!==r&&f&&(Ie(),A(f,1,1,()=>{e.blocks[g]===f&&(e.blocks[g]=null)}),Oe())}):e.block.d(1),a.c(),j(a,1),a.m(e.mount(),e.anchor),d=!0),e.block=a,e.blocks&&(e.blocks[r]=a),d&&Ye()}if(Nt(n)){const l=Je();if(n.then(r=>{ae(l),o(e.then,1,e.value,r),ae(null)},r=>{if(ae(l),o(e.catch,2,e.error,r),ae(null),!e.hasCatch)throw r}),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,n),!0;e.resolved=n}}function Ke(n,e,t){const o=e.slice(),{resolved:l}=n;n.current===n.then&&(o[n.value]=l),n.current===n.catch&&(o[n.error]=l),n.block.p(o,t)}function oe(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Vt(n,e){n.d(1),e.delete(n.key)}function zt(n,e,t,o,l,r,i,c,u,a,d,f){let g=n.length,_=r.length,p=g;const y={};for(;p--;)y[n[p].key]=p;const v=[],R=new Map,T=new Map,N=[];for(p=_;p--;){const C=f(l,r,p),w=t(C);let b=i.get(w);b?o&&N.push(()=>b.p(C,e)):(b=a(w,C),b.c()),R.set(w,v[p]=b),w in y&&T.set(w,Math.abs(p-y[w]))}const M=new Set,I=new Set;function D(C){j(C,1),C.m(c,d),i.set(C.key,C),d=C.first,_--}for(;g&&_;){const C=v[_-1],w=n[g-1],b=C.key,O=w.key;C===w?(d=C.first,g--,_--):R.has(O)?!i.has(b)||M.has(b)?D(C):I.has(O)?g--:T.get(b)>T.get(O)?(I.add(b),D(C)):(M.add(O),g--):(u(w,i),g--)}for(;g--;){const C=n[g];R.has(C.key)||u(C,i)}for(;_;)D(v[_-1]);return ee(N),v}function Z(n){n&&n.c()}function V(n,e,t){const{fragment:o,after_update:l}=n.$$;o&&o.m(e,t),_e(()=>{const r=n.$$.on_mount.map(Lt).filter(Ae);n.$$.on_destroy?n.$$.on_destroy.push(...r):ee(r),n.$$.on_mount=[]}),l.forEach(_e)}function z(n,e){const t=n.$$;t.fragment!==null&&(Wt(t.after_update),ee(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Zt(n,e){n.$$.dirty[0]===-1&&(ke.push(n),Xt(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function K(n,e,t,o,l,r,i=null,c=[-1]){const u=Te;ae(n);const a=n.$$={fragment:null,ctx:[],props:r,update:H,not_equal:l,bound:nt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:nt(),dirty:c,skip_bound:!1,root:e.target||u.$$.root};i&&i(a.root);let d=!1;if(a.ctx=t?t(n,e.props||{},(f,g,..._)=>{const p=_.length?_[0]:g;return a.ctx&&l(a.ctx[f],a.ctx[f]=p)&&(!a.skip_bound&&a.bound[f]&&a.bound[f](p),d&&Zt(n,f)),g}):[],a.update(),d=!0,ee(a.before_update),a.fragment=o?o(a.ctx):!1,e.target){if(e.hydrate){const f=Dt(e.target);a.fragment&&a.fragment.l(f),f.forEach($)}else a.fragment&&a.fragment.c();e.intro&&j(n.$$.fragment),V(n,e.target,e.anchor),Ye()}ae(u)}class Q{constructor(){Se(this,"$$");Se(this,"$$set")}$destroy(){z(this,1),this.$destroy=H}$on(e,t){if(!Ae(t))return H;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(t),()=>{const l=o.indexOf(t);l!==-1&&o.splice(l,1)}}$set(e){this.$$set&&!jt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Yt="4",he=[];function je(n,e=H){let t;const o=new Set;function l(c){if(Y(n,c)&&(n=c,t)){const u=!he.length;for(const a of o)a[1](),he.push(a,n);if(u){for(let a=0;a<he.length;a+=2)he[a][0](he[a+1]);he.length=0}}}function r(c){l(c(n))}function i(c,u=H){const a=[c,u];return o.add(a),o.size===1&&(t=e(l,r)||H),c(n),()=>{o.delete(a),o.size===0&&t&&(t(),t=null)}}return{set:l,update:r,subscribe:i}}var Le=(n=>(n.info="info",n.warn="warn",n.error="error",n))(Le||{});class Kt{constructor(){Se(this,"logs",je([]))}_addLog(e,t){this.logs.update(o=>(o.unshift({date:new Date,severity:e,content:t}),o))}info(e){this._addLog("info",e)}warn(e){this._addLog("warn",e)}error(e){this._addLog("error",e)}}const x=new Kt;function Qt(n,e){let t=!1;return n.subscribe(o=>{t?e(o):t=!0})}const en={use_dark_theme:!0,rs_plugin_loader:!1,flatpak_rich_presence:!1,runelite_use_custom_jar:!1,use_custom_rs_config_uri:!1,selected_game:W.osrs,selected_client:ue.official};function tn(){const e=new URLSearchParams(window.location.search).get("config");function t(i){return typeof i=="object"&&typeof i.use_dark_theme=="boolean"&&typeof i.rs_plugin_loader=="boolean"&&typeof i.flatpak_rich_presence=="boolean"&&typeof i.runelite_use_custom_jar=="boolean"&&Object.values(W).includes(i.selected_game)&&Object.values(ue).includes(i.selected_client)}const{config:o}=q;if(e)try{const i=JSON.parse(e);t(i)?o.set(i):(x.error("The config saved on disk is not the correct format. It has been restored to default."),q.configHasPendingChanges=!0)}catch{x.error("Unable to parse config, restoring to default"),q.configHasPendingChanges=!0}const l=se(o).selected_user_id;G.findSession(l??"")===void 0&&Qe(),Qt(q.config,()=>{q.configHasPendingChanges=!0})}function Qe(){const{config:n,sessions:e}=q;n.update(t=>{const o=se(e);if(o.length>0){const l=o[0];t.selected_user_id=l.user.userId,t.selected_account_id=l.accounts[0].accountId}else t.selected_user_id=void 0,t.selected_account_id=void 0;return t})}const q={configHasPendingChanges:!1,config:je(en),sessions:je([])};let We=!1;class G{static async logout(e){const{sessions:t}=q,o=se(t),l=o.findIndex(r=>r.user.userId===e);return l>-1&&(ne.revokeOauthCreds(o[l].tokens.access_token),o.splice(l,1),t.set(o)),Qe(),G.saveCredentials(),o}static saveConfig(e=!0){if(We||e&&!q.configHasPendingChanges)return;We=!0;const t=new XMLHttpRequest;t.open("POST","/save-config",!0),t.onreadystatechange=()=>{t.readyState==4&&(x.info(`Save config status: '${t.responseText.trim()}'`),We=!1)},t.setRequestHeader("Content-Type","application/json");const o=se(q.config);return t.send(JSON.stringify(o)),o}static async saveCredentials(){new Promise(e=>{const t=new XMLHttpRequest;t.open("POST","/save-credentials",!0),t.setRequestHeader("Content-Type","application/json"),t.onreadystatechange=()=>{t.readyState==4&&e(void 0)};const o=se(q.sessions);t.send(JSON.stringify(o))})}static async openFilePicker(){return new Promise(e=>{const t=new XMLHttpRequest;t.onreadystatechange=()=>{if(t.readyState==4)return t.status==200?e(t.responseText):e(void 0)},t.open("GET","/jar-file-picker",!0),t.send()})}static findSession(e){return se(q.sessions).find(o=>o.user.userId===e)}static findAccount(e,t){return e.find(o=>o.accountId==t)}}function nn(n,e,t){G.saveConfig();const o=(c,u)=>{const a=new XMLHttpRequest,d={},f=se(q.config);c&&(d.hash=c),n&&(d.jx_session_id=n),e&&(d.jx_character_id=e),t&&(d.jx_display_name=t),f.rs_plugin_loader&&(d.plugin_loader="1"),f.use_custom_rs_config_uri&&f.rs_config_uri?d.config_uri=f.rs_config_uri:d.config_uri=L.env.default_config_uri,a.open("POST","/launch-rs3-deb?".concat(new URLSearchParams(d).toString()),!0),a.onreadystatechange=()=>{a.readyState==4&&(x.info(`Game launch status: '${a.responseText.trim()}'`),a.status==200&&c&&(L.rs3DebInstalledHash=c))},a.send(u)},l=new XMLHttpRequest,r=L.env.content_url,i=r.concat("dists/trusty/non-free/binary-amd64/Packages");l.open("GET",i,!0),l.onreadystatechange=()=>{if(l.readyState==4&&l.status==200){const c=Object.fromEntries(l.response.split(`
`).map(u=>u.split(": ")));if(!c.Filename||!c.Size){x.error(`Could not parse package data from URL: ${i}`),o();return}if(c.SHA256!==L.rs3DebInstalledHash){x.info("Downloading RS3 client...");const u=new XMLHttpRequest;u.open("GET",r.concat(c.Filename),!0),u.responseType="arraybuffer",u.onprogress=a=>{if(a.loaded){const d=(Math.round(1e3*a.loaded/a.total)/10).toFixed(1);x.info(`Downloading RS3 client... ${d}%`)}},u.onreadystatechange=()=>{u.readyState==4&&u.status==200&&o(c.SHA256,u.response)},u.onerror=()=>{x.error(`Error downloading game client: from ${i}: non-http error`),o()},u.send()}else x.info("Latest client is already installed"),o()}},l.onerror=()=>{x.error(`Error: from ${i}: non-http error`),o()},l.send()}function Pt(n,e,t,o){G.saveConfig();const l=o?"/launch-runelite-jar-configure?":"/launch-runelite-jar?",r=(u,a,d)=>{const f=new XMLHttpRequest,g={};u&&(g.id=u),d&&(g.jar_path=d),n&&(g.jx_session_id=n),e&&(g.jx_character_id=e),t&&(g.jx_display_name=t),se(q.config).flatpak_rich_presence&&(g.flatpak_rich_presence=""),f.open(a?"POST":"GET",l.concat(new URLSearchParams(g).toString()),!0),f.onreadystatechange=()=>{f.readyState==4&&(x.info(`Game launch status: '${f.responseText.trim()}'`),f.status==200&&u&&(L.runeLiteInstalledId=u))},f.send(a)};if(se(q.config).runelite_use_custom_jar){r(null,null,se(q.config).runelite_custom_jar);return}const i=new XMLHttpRequest,c="https://api.github.com/repos/runelite/launcher/releases";i.open("GET",c,!0),i.onreadystatechange=()=>{if(i.readyState==4)if(i.status==200){const u=JSON.parse(i.responseText).map(a=>a.assets).flat().find(a=>a.name.toLowerCase()=="runelite.jar");if(u.id!=L.runeLiteInstalledId){x.info("Downloading RuneLite...");const a=new XMLHttpRequest;a.open("GET",u.browser_download_url,!0),a.responseType="arraybuffer",a.onreadystatechange=()=>{a.readyState==4&&(a.status==200?r(u.id,a.response):x.error(`Error downloading from ${u.url}: ${a.status}: ${a.responseText}`))},a.onprogress=d=>{if(d.loaded&&d.lengthComputable){const f=(Math.round(1e3*d.loaded/d.total)/10).toFixed(1);x.info(`Downloading RuneLite... ${f}`)}},a.send()}else x.info("Latest JAR is already installed"),r()}else x.error(`Error from ${c}: ${i.status}: ${i.responseText}`)},i.send()}function sn(n,e,t){G.saveConfig();const o=(i,c)=>{const u=new XMLHttpRequest,a={};i&&(a.version=i),n&&(a.jx_session_id=n),e&&(a.jx_character_id=e),t&&(a.jx_display_name=t),u.open("POST","/launch-hdos-jar?".concat(new URLSearchParams(a).toString()),!0),u.onreadystatechange=()=>{u.readyState==4&&(x.info(`Game launch status: '${u.responseText.trim()}'`),u.status==200&&i&&(L.hdosInstalledVersion=i))},u.send(c)},l=new XMLHttpRequest,r="https://cdn.hdos.dev/client/getdown.txt";l.open("GET",r,!0),l.onreadystatechange=()=>{if(l.readyState==4)if(l.status==200){const i=l.responseText.match(/^launcher\.version *= *(.*?)$/m);if(i&&i.length>=2){const c=i[1];if(c!==L.hdosInstalledVersion){const u=`https://cdn.hdos.dev/launcher/v${c}/hdos-launcher.jar`;x.info("Downloading HDOS...");const a=new XMLHttpRequest;a.open("GET",u,!0),a.responseType="arraybuffer",a.onreadystatechange=()=>{if(a.readyState==4)if(a.status==200)o(c,a.response);else{const d=JSON.parse(l.responseText).map(f=>f.assets).flat().find(f=>f.name.toLowerCase()=="runelite.jar");x.error(`Error downloading from ${d.url}: ${a.status}: ${a.responseText}`)}},a.onprogress=d=>{if(d.loaded&&d.lengthComputable){const f=(Math.round(1e3*d.loaded/d.total)/10).toFixed(1);x.info(`Downloading HDOS... ${f}%`)}},a.send()}else x.info("Latest JAR is already installed"),o()}else x.info("Couldn't parse latest launcher version"),o()}else x.error(`Error from ${r}: ${l.status}: ${l.responseText}`)},l.send()}function It(){return new Promise((n,e)=>{const t=new XMLHttpRequest,o=L.internalUrl.concat("/list-game-clients");t.open("GET",o,!0),t.onreadystatechange=()=>{if(t.readyState==4)if(t.status==200&&t.getResponseHeader("content-type")==="application/json"){const l=JSON.parse(t.responseText);n(Object.keys(l).map(r=>({uid:r,identity:l[r].identity||null})))}else e(`error (${t.responseText})`)},t.send()})}function on(){const n=new XMLHttpRequest;n.open("POST","/save-plugin-config",!0),n.setRequestHeader("Content-Type","application/json"),n.onreadystatechange=()=>{n.readyState==4&&x.info(`Save-plugin-config status: ${n.responseText.trim()}`)},n.send(JSON.stringify(L.pluginList))}async function ot(n,e,t,o,l){G.saveConfig();const r=`${e?"osrs":L.env.provider}-${n?"win":"mac"}`;let i=n?e?L.osrsExeInstalledHash:L.rs3ExeInstalledHash:e?L.osrsAppInstalledHash:L.rs3AppInstalledHash;const c=async(C,w)=>{const b={};C&&(b.hash=C),t&&(b.jx_session_id=t),o&&(b.jx_character_id=o),l&&(b.jx_display_name=l);const O=await fetch(`/launch-${e?"osrs":"rs3"}-${n?"exe":"app"}?${new URLSearchParams(b).toString()}`,{method:"POST",headers:{"Content-Type":"application/octet-stream"},body:await w});O.text().then(U=>x.info(`Game launch status: '${U.trim()}'`)),O.status==200&&C&&(i=C)},u=`${L.env.direct6_url}${r}/${r}.json`,a=await fetch(u,{method:"GET"}),d=await a.text();if(a.status!==200){x.error(`Error from ${u}: ${a.status}: ${d}`);return}const f=JSON.parse(atob(d.split(".")[1])).environments.production;if(i===f.id){x.info("Latest client is already installed"),c();return}x.info(`Downloading client version ${f.version}`);const g=`${L.env.direct6_url}${r}/catalog/${f.id}/catalog.json`,_=await fetch(g,{method:"GET"}),p=await _.text();if(_.status!==200){x.error(`Error from ${g}: ${_.status}: ${p}`);return}const y=JSON.parse(atob(p.split(".")[1])),v=y.metafile.replace(/^http:/i,"https:"),R=await fetch(v,{method:"GET"}),T=await R.text();if(R.status!==200){x.error(`Error from ${v}: ${R.status}: ${T}`);return}const N=JSON.parse(atob(T.split(".")[1])),M=N.pieces.digests.map(C=>{const w=atob(C).split("").map(O=>O.charCodeAt(0).toString(16).padStart(2,"0")).join(""),b=y.config.remote.baseUrl.replace(/^http:/i,"https:").concat(y.config.remote.pieceFormat.replace("{SubString:0,2,{TargetDigest}}",w.substring(0,2)).replace("{TargetDigest}",w));return fetch(b,{method:"GET"}).then(O=>O.blob().then(U=>{const X=new DecompressionStream("gzip");return new Response(U.slice(6).stream().pipeThrough(X)).blob()}))});let I=0,D=null;for(let C=0;C<N.files.length;C+=1)if(n?N.files[C].name.endsWith(".exe"):N.files[C].name.includes(".app/Contents/MacOS/"))if(D!==null){x.error(`Error parsing ${v}: file list has multiple possibilities for main exe`);return}else D=N.files[C].size;else D===null&&(I+=N.files[C].size);if(D===null){x.error(`Error parsing ${v}: file list has no possibilities for main exe`);return}Promise.all(M).then(C=>{const w=new Blob(C).slice(I,I+D);c(N.id,w.arrayBuffer())})}const Ze=je();typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Yt);function ln(n){let e,t;const o=n[4].default,l=qe(o,n,n[3],null);return{c(){e=m("main"),l&&l.c(),h(e,"class","fixed top-0 h-screen w-screen bg-slate-100 text-xs text-slate-900 duration-200 sm:text-sm md:text-base dark:bg-slate-900 dark:text-slate-50"),F(e,"dark",n[0])},m(r,i){S(r,e,i),l&&l.m(e,null),t=!0},p(r,[i]){l&&l.p&&(!t||i&8)&&Be(l,o,r,r[3],t?De(o,r[3],i,null):Ge(r[3]),null),(!t||i&1)&&F(e,"dark",r[0])},i(r){t||(j(l,r),t=!0)},o(r){A(l,r),t=!1},d(r){r&&$(e),l&&l.d(r)}}}function rn(n,e,t){let o,l,{$$slots:r={},$$scope:i}=e;const{config:c}=q;return le(n,c,u=>t(2,l=u)),n.$$set=u=>{"$$scope"in u&&t(3,i=u.$$scope)},n.$$.update=()=>{n.$$.dirty&4&&t(0,o=l.use_dark_theme)},[o,c,l,i,r]}class Ot extends Q{constructor(e){super(),K(this,e,rn,ln,Y,{})}}function an(n){let e;return{c(){e=m("div"),e.innerHTML='<img class="h-60 w-60 animate-spin" src="svgs/circle-notch-solid.svg" alt="loading"/>',h(e,"class","flex h-full items-center justify-center")},m(t,o){S(t,e,o)},p:H,d(t){t&&$(e)}}}function cn(n){let e,t;return e=new Ot({props:{$$slots:{default:[an]},$$scope:{ctx:n}}}),{c(){Z(e.$$.fragment)},m(o,l){V(e,o,l),t=!0},p(o,[l]){const r={};l&32&&(r.$$scope={dirty:l,ctx:o}),e.$set(r)},i(o){t||(j(e.$$.fragment,o),t=!0)},o(o){A(e.$$.fragment,o),t=!1},d(o){z(e,o)}}}function un(n){const e=window.opener;L.env==null&&l("BoltEnv is not defined. Please close and re-open Bolt to try again.");async function t(i){const c=we.get("auth_verifier");if(!c)return l("Verifier token has expired. Please try signing in again."),null;const{clientid:u,redirect:a}=L.env,d=await ne.getOAuthToken(L.env.origin,u,c,a,i);return d.ok?d.value:(l(`Fetching OAuth token failed. ${d.error}`),null)}async function o(i){const c=we.get("auth_nonce"),u=ne.validateIdToken(i,c??"");if(!u.ok)return l(u.error),null;const a=await ne.getSessionId(L.env.auth_api,i);return a.ok?a.value:(l(`Unable to retreive session id. ${a.error}`),null)}function l(i){r({type:"authFailed",reason:i}),window.close()}function r(i){e.postMessage(i,L.internalUrl)}return Tt(async()=>{const i=new URLSearchParams(window.location.search),c=i.get("code"),u=i.get("state"),a=i.get("id_token");if(a==null&&c&&u){const d=await t(c);if(!d)return l("tokens object is null.");r({type:"authTokenUpdate",tokens:d});const f=crypto.randomUUID();ne.navigateToAuthConsent(L.env.origin,d.id_token,f)}else if(a&&c&&u){const d=await o(a);if(!d)return l("sessionId is null");r({type:"authSessionUpdate",sessionId:d}),window.close()}else l("Authentication server did not response with the appropriate parameters. Please try again later.")}),xt(()=>{we.remove("auth_verifier"),we.remove("auth_nonce")}),[]}class dn extends Q{constructor(e){super(),K(this,e,un,cn,Y,{})}}function lt(n){let e,t,o;return{c(){e=m("button"),e.innerHTML='<img src="svgs/xmark-solid.svg" class="h-5 w-5" alt="Close"/>',h(e,"class","absolute right-3 top-3 rounded-full bg-rose-500 p-[2px] shadow-lg duration-200 hover:rotate-90 hover:opacity-75")},m(l,r){S(l,e,r),t||(o=E(e,"click",n[8]),t=!0)},p:H,d(l){l&&$(e),t=!1,o()}}}function rt(n){let e;const t=n[7].default,o=qe(t,n,n[6],null);return{c(){o&&o.c()},m(l,r){o&&o.m(l,r),e=!0},p(l,r){o&&o.p&&(!e||r&64)&&Be(o,t,l,l[6],e?De(t,l[6],r,null):Ge(l[6]),null)},i(l){e||(j(o,l),e=!0)},o(l){A(o,l),e=!1},d(l){o&&o.d(l)}}}function fn(n){let e,t,o,l,r,i,c=n[1]&&lt(n),u=n[3]&&rt(n);return{c(){e=m("dialog"),c&&c.c(),t=P(),u&&u.c(),h(e,"class",o=n[0]+" backdrop max-h-[90%] max-w-[90%] overflow-auto rounded-xl p-3 text-inherit focus-visible:outline-none svelte-csux1e"),F(e,"backdrop:cursor-pointer",n[1])},m(a,d){S(a,e,d),c&&c.m(e,null),k(e,t),u&&u.m(e,null),n[9](e),l=!0,r||(i=[E(e,"keydown",n[10]),E(e,"mousedown",qt(n[11]))],r=!0)},p(a,[d]){a[1]?c?c.p(a,d):(c=lt(a),c.c(),c.m(e,t)):c&&(c.d(1),c=null),a[3]?u?(u.p(a,d),d&8&&j(u,1)):(u=rt(a),u.c(),j(u,1),u.m(e,null)):u&&(Ie(),A(u,1,1,()=>{u=null}),Oe()),(!l||d&1&&o!==(o=a[0]+" backdrop max-h-[90%] max-w-[90%] overflow-auto rounded-xl p-3 text-inherit focus-visible:outline-none svelte-csux1e"))&&h(e,"class",o),(!l||d&3)&&F(e,"backdrop:cursor-pointer",a[1])},i(a){l||(j(u),l=!0)},o(a){A(u),l=!1},d(a){a&&$(e),c&&c.d(),u&&u.d(),n[9](null),r=!1,ee(i)}}}function pn(n,e,t){let{$$slots:o={},$$scope:l}=e,{class:r=""}=e,{canSelfClose:i=!0}=e,c,u=!1;const a=Gt();function d(){c.showModal(),t(3,u=!0)}function f(){a("close"),c.close(),t(3,u=!1)}const g=()=>c.close();function _(v){ce[v?"unshift":"push"](()=>{c=v,t(2,c)})}const p=v=>{v.key==="Escape"&&!i&&v.preventDefault()},y=()=>{i&&c.close()};return n.$$set=v=>{"class"in v&&t(0,r=v.class),"canSelfClose"in v&&t(1,i=v.canSelfClose),"$$scope"in v&&t(6,l=v.$$scope)},[r,i,c,u,d,f,l,o,g,_,p,y]}class et extends Q{constructor(e){super(),K(this,e,pn,fn,Y,{class:0,canSelfClose:1,open:4,close:5})}get open(){return this.$$.ctx[4]}get close(){return this.$$.ctx[5]}}function _n(n){let e,t,o,l,r,i,c;return{c(){e=m("p"),e.textContent=`${atob("Qm9sdCBpcyBhbiB1bm9mZmljaWFsIHRoaXJkLXBhcnR5IGxhdW5jaGVyLiBJdCdzIGZyZWUgYW5kIG9wZW4tc291cmNlIHNvZnR3YXJlIGxpY2Vuc2VkIHVuZGVyIEFHUEwgMy4wLg==")}`,t=P(),o=m("p"),o.textContent=`${atob("SmFnZXggaXMgbm90IHJlc3BvbnNpYmxlIGZvciBhbnkgcHJvYmxlbXMgb3IgZGFtYWdlIGNhdXNlZCBieSB1c2luZyB0aGlzIHByb2R1Y3Qu")}`,l=P(),r=m("button"),r.textContent="I Understand",h(e,"class","p-2"),h(o,"class","p-2"),h(r,"class","m-5 rounded-lg border-2 border-blue-500 p-2 duration-200 hover:opacity-75")},m(u,a){S(u,e,a),S(u,t,a),S(u,o,a),S(u,l,a),S(u,r,a),i||(c=E(r,"click",n[2]),i=!0)},p:H,d(u){u&&($(e),$(t),$(o),$(l),$(r)),i=!1,c()}}}function gn(n){let e,t,o={canSelfClose:!1,class:"w-1/2 text-center",$$slots:{default:[_n]},$$scope:{ctx:n}};return e=new et({props:o}),n[3](e),{c(){Z(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,[r]){const i={};r&33&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){n[3](null),z(e,l)}}}function hn(n,e,t){let o;const{sessions:l}=q;le(n,l,u=>t(4,o=u));let r;Tt(()=>{o.length==0&&r.open()});const i=()=>r.close();function c(u){ce[u?"unshift":"push"](()=>{r=u,t(0,r)})}return[r,l,i,c]}class mn extends Q{constructor(e){super(),K(this,e,hn,gn,Y,{})}}function it(n,e,t){const o=n.slice();return o[23]=e[t][0],o[22]=e[t][1],o}function at(n,e,t){const o=n.slice();return o[27]=e[t],o}function bn(n){let e;return{c(){e=m("p"),e.textContent="error"},m(t,o){S(t,e,o)},p:H,d(t){t&&$(e)}}}function kn(n){let e;function t(r,i){return r[26].length==0?yn:wn}let o=t(n),l=o(n);return{c(){l.c(),e=fe()},m(r,i){l.m(r,i),S(r,e,i)},p(r,i){o===(o=t(r))&&l?l.p(r,i):(l.d(1),l=o(r),l&&(l.c(),l.m(e.parentNode,e)))},d(r){r&&$(e),l.d(r)}}}function wn(n){let e,t=oe(n[26]),o=[];for(let l=0;l<t.length;l+=1)o[l]=ct(at(n,t,l));return{c(){for(let l=0;l<o.length;l+=1)o[l].c();e=fe()},m(l,r){for(let i=0;i<o.length;i+=1)o[i]&&o[i].m(l,r);S(l,e,r)},p(l,r){if(r&70){t=oe(l[26]);let i;for(i=0;i<t.length;i+=1){const c=at(l,t,i);o[i]?o[i].p(c,r):(o[i]=ct(c),o[i].c(),o[i].m(e.parentNode,e))}for(;i<o.length;i+=1)o[i].d(1);o.length=t.length}},d(l){l&&$(e),Pe(o,l)}}}function yn(n){let e;return{c(){e=m("p"),e.textContent="(start an RS3 game client with plugins enabled and it will be listed here.)"},m(t,o){S(t,e,o)},p:H,d(t){t&&$(e)}}}function ct(n){let e,t=(n[27].identity||ft)+"",o,l,r,i,c,u;function a(){return n[14](n[27])}return{c(){e=m("button"),o=B(t),r=P(),i=m("br"),h(e,"class",l="m-1 h-[28px] w-[95%] rounded-lg border-2 "+(n[6]&&n[1]===n[27].uid?"border-black bg-blue-500 text-black":"border-blue-500 text-black dark:text-white")+" hover:opacity-75")},m(d,f){S(d,e,f),k(e,o),S(d,r,f),S(d,i,f),c||(u=E(e,"click",a),c=!0)},p(d,f){n=d,f&4&&t!==(t=(n[27].identity||ft)+"")&&re(o,t),f&70&&l!==(l="m-1 h-[28px] w-[95%] rounded-lg border-2 "+(n[6]&&n[1]===n[27].uid?"border-black bg-blue-500 text-black":"border-blue-500 text-black dark:text-white")+" hover:opacity-75")&&h(e,"class",l)},d(d){d&&($(e),$(r),$(i)),c=!1,u()}}}function vn(n){let e;return{c(){e=m("p"),e.textContent="loading..."},m(t,o){S(t,e,o)},p:H,d(t){t&&$(e)}}}function $n(n){let e;return{c(){e=m("p"),e.textContent="error"},m(t,o){S(t,e,o)},p:H,d(t){t&&$(e)}}}function Sn(n){let e,t,o,l,r,i=oe(Object.entries(n[3].pluginList)),c=[];for(let f=0;f<i.length;f+=1)c[f]=ut(it(n,i,f));function u(f,g){return f[6]?Ln:Cn}let a=u(n),d=a(n);return{c(){e=m("select");for(let f=0;f<c.length;f+=1)c[f].c();t=P(),d.c(),o=fe(),h(e,"class","mx-auto mb-4 w-[min(280px,_45%)] cursor-pointer rounded-lg border-2 border-slate-300 bg-inherit p-2 text-inherit duration-200 hover:opacity-75 dark:border-slate-800"),n[0]===void 0&&_e(()=>n[15].call(e))},m(f,g){S(f,e,g);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(e,null);de(e,n[0],!0),S(f,t,g),d.m(f,g),S(f,o,g),l||(r=E(e,"change",n[15]),l=!0)},p(f,g){if(g&8){i=oe(Object.entries(f[3].pluginList));let _;for(_=0;_<i.length;_+=1){const p=it(f,i,_);c[_]?c[_].p(p,g):(c[_]=ut(p),c[_].c(),c[_].m(e,null))}for(;_<c.length;_+=1)c[_].d(1);c.length=i.length}g&9&&de(e,f[0]),a===(a=u(f))&&d?d.p(f,g):(d.d(1),d=a(f),d&&(d.c(),d.m(o.parentNode,o)))},d(f){f&&($(e),$(t),$(o)),Pe(c,f),d.d(f),l=!1,r()}}}function ut(n){let e,t=(n[22].name??xe)+"",o,l;return{c(){e=m("option"),o=B(t),h(e,"class","dark:bg-slate-900"),e.__value=l=n[23],te(e,e.__value)},m(r,i){S(r,e,i),k(e,o)},p(r,i){i&8&&t!==(t=(r[22].name??xe)+"")&&re(o,t),i&8&&l!==(l=r[23])&&(e.__value=l,te(e,e.__value))},d(r){r&&$(e)}}}function Ln(n){let e,t,o,l,r={ctx:n,current:null,token:null,hasCatch:!0,pending:Hn,then:Tn,catch:Rn,value:22};return $e(l=n[8],r),{c(){e=m("br"),t=P(),o=fe(),r.block.c()},m(i,c){S(i,e,c),S(i,t,c),S(i,o,c),r.block.m(i,r.anchor=c),r.mount=()=>o.parentNode,r.anchor=o},p(i,c){n=i,r.ctx=n,c&256&&l!==(l=n[8])&&$e(l,r)||Ke(r,n,c)},d(i){i&&($(e),$(t),$(o)),r.block.d(i),r.token=null,r=null}}}function Cn(n){let e,t,o,l,r,i,c,u,a;function d(_,p){return p&8&&(i=null),i==null&&(i=Object.entries(_[3].pluginList).length!==0),i?En:Un}let f=d(n,-1),g=f(n);return{c(){e=m("button"),t=B("+"),o=P(),l=m("br"),r=P(),g.c(),c=fe(),h(e,"class","aspect-square w-8 rounded-lg border-2 border-blue-500 text-[20px] font-bold duration-200 enabled:hover:opacity-75 disabled:border-gray-500"),e.disabled=n[5]},m(_,p){S(_,e,p),k(e,t),S(_,o,p),S(_,l,p),S(_,r,p),g.m(_,p),S(_,c,p),u||(a=E(e,"click",n[10]),u=!0)},p(_,p){p&32&&(e.disabled=_[5]),f===(f=d(_,p))&&g?g.p(_,p):(g.d(1),g=f(_),g&&(g.c(),g.m(c.parentNode,c)))},d(_){_&&($(e),$(o),$(l),$(r),$(c)),g.d(_),u=!1,a()}}}function Rn(n){let e;return{c(){e=m("p"),e.textContent="error"},m(t,o){S(t,e,o)},p:H,d(t){t&&$(e)}}}function Tn(n){let e,t;function o(i,c){return c&265&&(e=null),e==null&&(e=!!(i[22]&&i[22].main&&Object.keys(i[3].pluginList).includes(i[0]))),e?Pn:xn}let l=o(n,-1),r=l(n);return{c(){r.c(),t=fe()},m(i,c){r.m(i,c),S(i,t,c)},p(i,c){l===(l=o(i,c))&&r?r.p(i,c):(r.d(1),r=l(i),r&&(r.c(),r.m(t.parentNode,t)))},d(i){i&&$(t),r.d(i)}}}function xn(n){let e;return{c(){e=m("p"),e.textContent="can't start plugin: does not appear to be configured"},m(t,o){S(t,e,o)},p:H,d(t){t&&$(e)}}}function Pn(n){let e;function t(r,i){return r[3].pluginList[r[0]].path?On:In}let o=t(n),l=o(n);return{c(){l.c(),e=fe()},m(r,i){l.m(r,i),S(r,e,i)},p(r,i){o===(o=t(r))&&l?l.p(r,i):(l.d(1),l=o(r),l&&(l.c(),l.m(e.parentNode,e)))},d(r){r&&$(e),l.d(r)}}}function In(n){let e;return{c(){e=m("p"),e.textContent="can't start plugin: no path is configured"},m(t,o){S(t,e,o)},p:H,d(t){t&&$(e)}}}function On(n){let e,t,o=n[22].name+"",l,r,i;function c(){return n[18](n[22])}return{c(){e=m("button"),t=B("Start "),l=B(o),h(e,"class","mx-auto mb-1 w-auto rounded-lg bg-emerald-500 p-2 font-bold text-black duration-200 hover:opacity-75")},m(u,a){S(u,e,a),k(e,t),k(e,l),r||(i=E(e,"click",c),r=!0)},p(u,a){n=u,a&256&&o!==(o=n[22].name+"")&&re(l,o)},d(u){u&&$(e),r=!1,i()}}}function Hn(n){let e;return{c(){e=m("p"),e.textContent="loading..."},m(t,o){S(t,e,o)},p:H,d(t){t&&$(e)}}}function Un(n){let e;return{c(){e=m("p"),e.textContent=`You have no plugins installed. Click the + button and select a plugin's bolt.json file
						to add it.`},m(t,o){S(t,e,o)},p:H,d(t){t&&$(e)}}}function En(n){let e=Object.keys(n[3].pluginList).includes(n[0])&&n[8]!==null,t,o=e&&dt(n);return{c(){o&&o.c(),t=fe()},m(l,r){o&&o.m(l,r),S(l,t,r)},p(l,r){r&265&&(e=Object.keys(l[3].pluginList).includes(l[0])&&l[8]!==null),e?o?o.p(l,r):(o=dt(l),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null)},d(l){l&&$(t),o&&o.d(l)}}}function dt(n){let e,t,o,l,r,i,c,u={ctx:n,current:null,token:null,hasCatch:!0,pending:jn,then:Mn,catch:Nn,value:22};return $e(e=n[8],u),{c(){u.block.c(),t=P(),o=m("button"),o.textContent="Remove",l=P(),r=m("button"),r.textContent="Reload",h(o,"class","mx-auto mb-1 w-[min(144px,_25%)] rounded-lg p-2 font-bold text-black duration-200 enabled:bg-rose-500 enabled:hover:opacity-75 disabled:bg-gray-500"),h(r,"class","mx-auto mb-1 w-[min(144px,_25%)] rounded-lg p-2 font-bold text-black duration-200 enabled:bg-blue-500 enabled:hover:opacity-75 disabled:bg-gray-500")},m(a,d){u.block.m(a,u.anchor=d),u.mount=()=>t.parentNode,u.anchor=t,S(a,t,d),S(a,o,d),S(a,l,d),S(a,r,d),i||(c=[E(o,"click",n[16]),E(r,"click",n[17])],i=!0)},p(a,d){n=a,u.ctx=n,d&256&&e!==(e=n[8])&&$e(e,u)||Ke(u,n,d)},d(a){a&&($(t),$(o),$(l),$(r)),u.block.d(a),u.token=null,u=null,i=!1,ee(c)}}}function Nn(n){let e,t,o;return{c(){e=m("p"),e.textContent="error",t=P(),o=m("br")},m(l,r){S(l,e,r),S(l,t,r),S(l,o,r)},p:H,d(l){l&&($(e),$(t),$(o))}}}function Mn(n){let e,t=(n[22].name??xe)+"",o,l,r,i=(n[22].description??"no description")+"",c,u,a,d;return{c(){e=m("p"),o=B(t),l=P(),r=m("p"),c=B(i),a=P(),d=m("br"),h(e,"class","pb-4 text-xl font-bold"),h(r,"class",u=n[22].description?null:"italic")},m(f,g){S(f,e,g),k(e,o),S(f,l,g),S(f,r,g),k(r,c),S(f,a,g),S(f,d,g)},p(f,g){g&256&&t!==(t=(f[22].name??xe)+"")&&re(o,t),g&256&&i!==(i=(f[22].description??"no description")+"")&&re(c,i),g&256&&u!==(u=f[22].description?null:"italic")&&h(r,"class",u)},d(f){f&&($(e),$(l),$(r),$(a),$(d))}}}function jn(n){let e;return{c(){e=m("p"),e.textContent="loading..."},m(t,o){S(t,e,o)},p:H,d(t){t&&$(e)}}}function An(n){let e,t,o,l,r,i,c,u,a,d,f,g,_={ctx:n,current:null,token:null,hasCatch:!0,pending:vn,then:kn,catch:bn,value:26};$e(u=n[2],_);function p(R,T){return R[3].hasBoltPlugins?Sn:$n}let y=p(n),v=y(n);return{c(){e=m("div"),t=m("button"),o=B("Manage Plugins"),r=P(),i=m("hr"),c=P(),_.block.c(),a=P(),d=m("div"),v.c(),h(t,"class",l="mx-auto mb-2 w-[95%] rounded-lg border-2 "+(n[6]?"border-blue-500 text-black dark:text-white":"border-black bg-blue-500 text-black")+" p-2 font-bold hover:opacity-75"),h(i,"class","p-1 dark:border-slate-700"),h(e,"class","left-0 float-left h-full w-[min(180px,_50%)] overflow-hidden border-r-2 border-slate-300 pt-2 dark:border-slate-800"),h(d,"class","h-full pt-10")},m(R,T){S(R,e,T),k(e,t),k(t,o),k(e,r),k(e,i),k(e,c),_.block.m(e,_.anchor=null),_.mount=()=>e,_.anchor=null,S(R,a,T),S(R,d,T),v.m(d,null),f||(g=E(t,"click",n[13]),f=!0)},p(R,T){n=R,T&64&&l!==(l="mx-auto mb-2 w-[95%] rounded-lg border-2 "+(n[6]?"border-blue-500 text-black dark:text-white":"border-black bg-blue-500 text-black")+" p-2 font-bold hover:opacity-75")&&h(t,"class",l),_.ctx=n,T&4&&u!==(u=n[2])&&$e(u,_)||Ke(_,n,T),y===(y=p(n))&&v?v.p(n,T):(v.d(1),v=y(n),v&&(v.c(),v.m(d,null)))},d(R){R&&($(e),$(a),$(d)),_.block.d(),_.token=null,_=null,v.d(),f=!1,g()}}}function qn(n){let e,t,o={class:"h-[90%] w-[90%]",$$slots:{default:[An]},$$scope:{ctx:n}};return e=new et({props:o}),n[19](e),{c(){Z(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,[r]){const i={};r&1073742319&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){n[19](null),z(e,l)}}}const xe="(unnamed)",ft="(new character)";function Dn(n,e,t){let o,l;le(n,Ze,w=>t(2,l=w));let r;function i(){r.open()}const c=w=>new Promise((b,O)=>{const U=w.concat(w.endsWith("/")?"bolt.json":"/bolt.json");var X=new XMLHttpRequest;X.onreadystatechange=()=>{X.readyState==4&&(X.status==200?b(JSON.parse(X.responseText)):O(X.responseText))},X.open("GET","/read-json-file?".concat(new URLSearchParams({path:U}).toString()),!0),X.send()}),u=w=>{const O=L.pluginList[w];if(!O)return null;const U=O.path;return U?c(U):null},a=(w,b)=>{c(w).then(O=>{do t(0,_=crypto.randomUUID());while(Object.keys(L.pluginList).includes(_));t(3,L.pluginList[_]={name:O.name??xe,path:w},L),t(7,v=!0)}).catch(O=>{console.error(`Config file '${b}' couldn't be fetched, reason: ${O}`)})};let d=!1;const f=()=>{t(5,d=!0);var w=new XMLHttpRequest;w.onreadystatechange=()=>{if(w.readyState==4&&(t(5,d=!1),w.status==200)){const b=L.platform==="windows"?w.responseText.replaceAll("\\","/"):w.responseText;if(b.endsWith("/bolt.json")){const O=b.substring(0,b.length-9);a(O,b)}else console.log(`Selection '${b}' is not named bolt.json; ignored`)}},w.open("GET","/json-file-picker",!0),w.send()};Ze.set(It());const g=(w,b,O,U)=>{var X=new XMLHttpRequest;X.onreadystatechange=()=>{X.readyState==4&&x.info(`Start-plugin status: ${X.statusText.trim()}`)},X.open("GET","/start-plugin?".concat(new URLSearchParams({client:w,id:b,path:O,main:U}).toString()),!0),X.send()};var _,p=!1,y;let v=!1;xt(()=>{v&&on()});const R=()=>t(6,p=!1),T=w=>{t(1,y=w.uid),t(6,p=!0)};function N(){_=Me(this),t(0,_),t(3,L)}const M=()=>{t(8,o=null),t(7,v=!0);let w=L.pluginList;delete w[_],t(3,L.pluginList=w,L)},I=()=>t(8,o=u(_)),D=w=>g(y,_,L.pluginList[_].path??"",w.main??"");function C(w){ce[w?"unshift":"push"](()=>{r=w,t(4,r)})}return n.$$.update=()=>{n.$$.dirty&6&&l.then(w=>{w.some(b=>b.uid===y)||t(6,p=!1)}),n.$$.dirty&1&&t(8,o=u(_))},[_,y,l,L,r,d,p,v,o,u,f,g,i,R,T,N,M,I,D,C]}class Bn extends Q{constructor(e){super(),K(this,e,Dn,qn,Y,{open:12})}get open(){return this.$$.ctx[12]}}function pt(n,e,t){const o=n.slice();return o[10]=e[t],o}function _t(n,e,t){const o=n.slice();return o[13]=e[t],o}function Gn(n){let e,t,o={};return e=new Bn({props:o}),n[5](e),{c(){Z(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,r){const i={};e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){n[5](null),z(e,l)}}}function Jn(n){let e,t,o;return{c(){e=m("button"),e.textContent="Plugin menu",e.disabled=!L.hasBoltPlugins,h(e,"title",L.hasBoltPlugins?null:"Coming soon..."),h(e,"class","mx-auto mb-2 w-52 rounded-lg p-2 font-bold text-black duration-200 enabled:bg-blue-500 enabled:hover:opacity-75 disabled:bg-gray-500")},m(l,r){S(l,e,r),t||(o=E(e,"click",n[8]),t=!0)},p:H,d(l){l&&$(e),t=!1,o()}}}function Xn(n){let e,t,o,l,r,i,c=oe(tt[n[0].selected_game]),u=[];for(let a=0;a<c.length;a+=1)u[a]=gt(_t(n,c,a));return{c(){e=m("label"),t=m("span"),t.textContent="Game Client",o=P(),l=m("select");for(let a=0;a<u.length;a+=1)u[a].c();h(t,"class","text-sm"),h(l,"id","game_client_select"),h(l,"class","mx-auto w-52 cursor-pointer rounded-lg border-2 border-slate-300 bg-inherit p-2 text-inherit duration-200 hover:opacity-75 dark:border-slate-800"),n[0].selected_client===void 0&&_e(()=>n[7].call(l))},m(a,d){S(a,e,d),k(e,t),k(e,o),k(e,l);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(l,null);de(l,n[0].selected_client,!0),r||(i=E(l,"change",n[7]),r=!0)},p(a,d){if(d&1){c=oe(tt[a[0].selected_game]);let f;for(f=0;f<c.length;f+=1){const g=_t(a,c,f);u[f]?u[f].p(g,d):(u[f]=gt(g),u[f].c(),u[f].m(l,null))}for(;f<u.length;f+=1)u[f].d(1);u.length=c.length}d&1&&de(l,a[0].selected_client)},d(a){a&&$(e),Pe(u,a),r=!1,i()}}}function gt(n){let e,t=n[13]+"",o,l,r;return{c(){e=m("option"),o=B(t),h(e,"class","dark:bg-slate-900"),e.disabled=l=n[13]===ue.official&&L.platform!==Ce.Linux,e.__value=r=n[13],te(e,e.__value)},m(i,c){S(i,e,c),k(e,o)},p(i,c){c&1&&t!==(t=i[13]+"")&&re(o,t),c&1&&l!==(l=i[13]===ue.official&&L.platform!==Ce.Linux)&&(e.disabled=l),c&1&&r!==(r=i[13])&&(e.__value=r,te(e,e.__value))},d(i){i&&$(e)}}}function ht(n){let e;return{c(){e=m("option"),e.textContent="No characters",h(e,"class","dark:bg-slate-900"),e.disabled=!0,e.selected=!0,e.__value="No characters",te(e,e.__value)},m(t,o){S(t,e,o)},p:H,d(t){t&&$(e)}}}function Fn(n){let e;return{c(){e=B("New Character")},m(t,o){S(t,e,o)},p:H,d(t){t&&$(e)}}}function Wn(n){let e=n[10].displayName+"",t;return{c(){t=B(e)},m(o,l){S(o,t,l)},p(o,l){l&4&&e!==(e=o[10].displayName+"")&&re(t,e)},d(o){o&&$(t)}}}function mt(n){let e,t,o;function l(c,u){return c[10].displayName?Wn:Fn}let r=l(n),i=r(n);return{c(){e=m("option"),i.c(),t=P(),e.__value=o=n[10].accountId,te(e,e.__value),h(e,"class","dark:bg-slate-900")},m(c,u){S(c,e,u),i.m(e,null),k(e,t)},p(c,u){r===(r=l(c))&&i?i.p(c,u):(i.d(1),i=r(c),i&&(i.c(),i.m(e,t))),u&4&&o!==(o=c[10].accountId)&&(e.__value=o,te(e,e.__value))},d(c){c&&$(e),i.d()}}}function Vn(n){let e,t,o,l,r,i,c,u,a,d,f,g,_,p,y,v,R,T=L.hasBoltPlugins&&Gn(n);function N(b,O){if(b[0].selected_game==W.osrs)return Xn;if(b[0].selected_game===W.rs3)return Jn}let M=N(n),I=M&&M(n),D=oe(n[2]),C=[];for(let b=0;b<D.length;b+=1)C[b]=mt(pt(n,D,b));let w=null;return D.length||(w=ht()),{c(){T&&T.c(),e=P(),t=m("div"),o=m("img"),r=P(),i=m("button"),i.textContent="Play",c=P(),u=m("div"),I&&I.c(),a=P(),d=m("div"),f=m("label"),g=m("span"),g.textContent="Character",_=P(),p=m("select");for(let b=0;b<C.length;b+=1)C[b].c();w&&w.c(),Mt(o.src,l="svgs/rocket-solid.svg")||h(o,"src",l),h(o,"alt","Launch icon"),h(o,"class","mx-auto mb-5 w-24 rounded-3xl bg-gradient-to-br from-rose-500 to-violet-500 p-5"),h(i,"class","mx-auto mb-2 w-52 rounded-lg bg-emerald-500 p-2 font-bold text-black duration-200 hover:opacity-75"),h(u,"class","mx-auto my-2"),h(g,"class","text-sm"),h(p,"id","character_select"),h(p,"class","mx-auto w-52 cursor-pointer rounded-lg border-2 border-slate-300 bg-inherit p-2 text-inherit duration-200 hover:opacity-75 dark:border-slate-800"),n[0].selected_account_id===void 0&&_e(()=>n[9].call(p)),h(d,"class","mx-auto my-2"),h(t,"class","bg-grad flex h-full flex-col border-slate-300 p-5 duration-200 dark:border-slate-800")},m(b,O){T&&T.m(b,O),S(b,e,O),S(b,t,O),k(t,o),k(t,r),k(t,i),k(t,c),k(t,u),I&&I.m(u,null),k(t,a),k(t,d),k(d,f),k(f,g),k(f,_),k(f,p);for(let U=0;U<C.length;U+=1)C[U]&&C[U].m(p,null);w&&w.m(p,null),de(p,n[0].selected_account_id,!0),y=!0,v||(R=[E(i,"click",n[6]),E(p,"change",n[9])],v=!0)},p(b,[O]){if(L.hasBoltPlugins&&T.p(b,O),M===(M=N(b))&&I?I.p(b,O):(I&&I.d(1),I=M&&M(b),I&&(I.c(),I.m(u,null))),O&4){D=oe(b[2]);let U;for(U=0;U<D.length;U+=1){const X=pt(b,D,U);C[U]?C[U].p(X,O):(C[U]=mt(X),C[U].c(),C[U].m(p,null))}for(;U<C.length;U+=1)C[U].d(1);C.length=D.length,!D.length&&w?w.p(b,O):D.length?w&&(w.d(1),w=null):(w=ht(),w.c(),w.m(p,null))}O&1&&de(p,b[0].selected_account_id)},i(b){y||(j(T),y=!0)},o(b){A(T),y=!1},d(b){b&&($(e),$(t)),T&&T.d(b),I&&I.d(),Pe(C,b),w&&w.d(),v=!1,ee(R)}}}function zn(n,e,t){let o,l,r,{config:i}=q;le(n,i,_=>t(0,l=_));function c(_,p){if(!l.selected_user_id||!l.selected_account_id)return x.warn("Please log in to launch a client");const y=G.findSession(l.selected_user_id);if(!y)return x.warn("Unable to launch game, session was not found.");const{session_id:v}=y,R=G.findAccount(y.accounts,l.selected_account_id);if(!R)return x.warn("Unable to launch game, account was not found.");const{accountId:T,displayName:N}=R,M=L.platform===Ce.Windows,I=L.platform===Ce.Linux;switch(_){case W.osrs:switch(p){case ue.official:ot(M,!0,v,T,N);break;case ue.runelite:Pt(v,T,N,!1);break;case ue.hdos:sn(v,T,N);break}break;case W.rs3:I?nn(v,T,N):ot(M,!1,v,T,N);break}}function u(_){ce[_?"unshift":"push"](()=>{r=_,t(1,r)})}const a=()=>c(l.selected_game,l.selected_client);function d(){l.selected_client=Me(this),i.set(l)}const f=()=>{r.open()};function g(){l.selected_account_id=Me(this),i.set(l)}return n.$$.update=()=>{var _;n.$$.dirty&1&&t(2,o=((_=G.findSession(l.selected_user_id??""))==null?void 0:_.accounts)??[])},[l,r,o,i,c,u,a,d,f,g]}class Zn extends Q{constructor(e){super(),K(this,e,zn,Vn,Y,{})}}function bt(n,e,t){const o=n.slice();return o[1]=e[t].date,o[2]=e[t].severity,o[3]=e[t].content,o}function kt(n){var u;let e,t=((u=n[1])==null?void 0:u.toLocaleTimeString())+"",o,l,r=n[3]+"",i,c;return{c(){e=m("li"),o=B(t),l=B(`
				- `),i=B(r),c=P(),F(e,"text-rose-500",n[2]===Le.error),F(e,"text-orange-700",n[2]===Le.warn)},m(a,d){S(a,e,d),k(e,o),k(e,l),k(e,i),k(e,c)},p(a,d){var f;d&1&&t!==(t=((f=a[1])==null?void 0:f.toLocaleTimeString())+"")&&re(o,t),d&1&&r!==(r=a[3]+"")&&re(i,r),d&1&&F(e,"text-rose-500",a[2]===Le.error),d&1&&F(e,"text-orange-700",a[2]===Le.warn)},d(a){a&&$(e)}}}function Yn(n){let e,t,o,l,r=oe(n[0]),i=[];for(let c=0;c<r.length;c+=1)i[c]=kt(bt(n,r,c));return{c(){e=m("div"),t=m("div"),t.innerHTML='<img src="svgs/circle-info-solid.svg" alt="Message list icon" class="h-7 w-7 rounded-full bg-blue-500 p-[3px] duration-200"/>',o=P(),l=m("ol");for(let c=0;c<i.length;c+=1)i[c].c();h(t,"class","absolute right-6 top-2"),h(l,"id","message_list"),h(l,"class","h-full list-inside list-disc overflow-y-auto pl-5 pt-1 marker:text-blue-500"),h(e,"class","fixed bottom-0 h-1/4 w-screen border-t-2 border-t-slate-300 bg-slate-100 duration-200 dark:border-t-slate-800 dark:bg-slate-900")},m(c,u){S(c,e,u),k(e,t),k(e,o),k(e,l);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,null)},p(c,[u]){if(u&1){r=oe(c[0]);let a;for(a=0;a<r.length;a+=1){const d=bt(c,r,a);i[a]?i[a].p(d,u):(i[a]=kt(d),i[a].c(),i[a].m(l,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}},i:H,o:H,d(c){c&&$(e),Pe(i,c)}}}function Kn(n,e,t){let{logs:o}=e;return n.$$set=l=>{"logs"in l&&t(0,o=l.logs)},[o]}class Qn extends Q{constructor(e){super(),K(this,e,Kn,Yn,Y,{logs:0})}}function es(n){let e,t,o,l;return{c(){e=m("div"),t=m("button"),t.innerHTML=`<div class="flex"><img src="svgs/database-solid.svg" alt="Browse app data" class="mr-2 h-7 w-7 rounded-lg bg-violet-500 p-1"/>
			Browse App Data</div>`,h(t,"id","data_dir_button"),h(t,"class","p-2 hover:opacity-75"),h(e,"id","general_options"),h(e,"class","col-span-3 p-5 pt-10")},m(r,i){S(r,e,i),k(e,t),o||(l=E(t,"click",n[1]),o=!0)},p:H,i:H,o:H,d(r){r&&$(e),o=!1,l()}}}function ts(n){function e(){var o=new XMLHttpRequest;o.open("GET","/browse-data"),o.onreadystatechange=()=>{o.readyState==4&&x.info(`Browse status: '${o.responseText.trim()}'`)},o.send()}return[e,()=>{e()}]}class ns extends Q{constructor(e){super(),K(this,e,ts,es,Y,{})}}function ss(n){let e,t,o,l,r,i,c,u,a,d,f,g,_,p,y,v,R,T,N;return{c(){e=m("div"),t=m("button"),o=m("div"),o.innerHTML=`<img src="svgs/wrench-solid.svg" alt="Configure RuneLite" class="mr-2 h-7 w-7 rounded-lg bg-pink-500 p-1"/>
			Configure RuneLite`,l=P(),r=m("div"),i=m("label"),i.textContent="Use custom RuneLite JAR:",c=P(),u=m("input"),a=P(),d=m("div"),f=m("textarea"),_=P(),p=m("br"),y=P(),v=m("button"),R=B("Select File"),h(o,"class","flex"),t.disabled=n[2],h(t,"class","p-2 pb-5 hover:opacity-75"),h(i,"for","use_custom_jar"),h(u,"type","checkbox"),h(u,"class","ml-2"),h(r,"class","mx-auto border-t-2 border-slate-300 p-2 pt-5 dark:border-slate-800"),h(f,"class","h-10 rounded border-2 border-slate-300 bg-slate-100 text-slate-950 dark:border-slate-800 dark:bg-slate-900 dark:text-slate-50"),f.disabled=g=!n[0].runelite_use_custom_jar,h(v,"class","mt-1 rounded-lg border-2 border-blue-500 p-1 duration-200 hover:opacity-75"),v.disabled=n[1],h(d,"class","mx-auto p-2"),F(d,"opacity-25",!n[0].runelite_use_custom_jar),h(e,"id","osrs_options"),h(e,"class","col-span-3 p-5 pt-10")},m(M,I){S(M,e,I),k(e,t),k(t,o),k(e,l),k(e,r),k(r,i),k(r,c),k(r,u),u.checked=n[0].runelite_use_custom_jar,k(e,a),k(e,d),k(d,f),te(f,n[0].runelite_custom_jar),k(d,_),k(d,p),k(d,y),k(d,v),k(v,R),T||(N=[E(t,"click",n[8]),E(u,"change",n[9]),E(f,"input",n[10]),E(v,"click",n[11])],T=!0)},p(M,[I]){I&4&&(t.disabled=M[2]),I&1&&(u.checked=M[0].runelite_use_custom_jar),I&1&&g!==(g=!M[0].runelite_use_custom_jar)&&(f.disabled=g),I&1&&te(f,M[0].runelite_custom_jar),I&2&&(v.disabled=M[1]),I&1&&F(d,"opacity-25",!M[0].runelite_use_custom_jar)},i:H,o:H,d(M){M&&$(e),T=!1,ee(N)}}}function os(n,e,t){let o,l,r,i;const{config:c}=q;le(n,c,y=>t(0,i=y));let u=!1;async function a(){t(1,u=!0),Ee(c,i.runelite_custom_jar=await G.openFilePicker(),i),console.log("done picking"),t(1,u=!1)}function d(){!(o!=null&&o.session_id)||!(l!=null&&l.accountId)||!(l!=null&&l.displayName)||Pt(o.session_id,l.accountId,l.displayName,!0)}const f=()=>d();function g(){i.runelite_use_custom_jar=this.checked,c.set(i)}function _(){i.runelite_custom_jar=this.value,c.set(i)}const p=()=>{a()};return n.$$.update=()=>{n.$$.dirty&1&&t(7,o=G.findSession(i.selected_user_id??"")),n.$$.dirty&129&&t(6,l=G.findAccount((o==null?void 0:o.accounts)??[],i.selected_account_id??"")),n.$$.dirty&192&&t(2,r=!(o!=null&&o.session_id&&(l!=null&&l.accountId)))},[i,u,r,c,a,d,l,o,f,g,_,p]}class ls extends Q{constructor(e){super(),K(this,e,os,ss,Y,{})}}function rs(n){let e,t,o,l,r,i;return{c(){e=m("div"),t=m("label"),t.textContent="Enable Bolt plugin loader:",o=P(),l=m("input"),h(t,"for","enable_plugins"),h(l,"type","checkbox"),h(l,"name","enable_plugins"),h(l,"id","enable_plugins"),h(l,"class","ml-2"),h(e,"class","mx-auto p-2")},m(c,u){S(c,e,u),k(e,t),k(e,o),k(e,l),l.checked=n[0].rs_plugin_loader,r||(i=E(l,"change",n[2]),r=!0)},p(c,u){u&1&&(l.checked=c[0].rs_plugin_loader)},d(c){c&&$(e),r=!1,i()}}}function is(n){let e,t,o,l,r,i,c,u,a,d,f,g,_=L.hasBoltPlugins&&rs(n);return{c(){e=m("div"),_&&_.c(),t=P(),o=m("div"),l=m("label"),l.textContent="Use custom config URI:",r=P(),i=m("input"),c=P(),u=m("div"),a=m("textarea"),h(l,"for","use_custom_uri"),h(i,"type","checkbox"),h(i,"class","ml-2"),h(o,"class","mx-auto p-2"),h(a,"class","rounded border-2 border-slate-300 bg-slate-100 text-slate-950 disabled:opacity-50 dark:border-slate-800 dark:bg-slate-900 dark:text-slate-50"),a.disabled=d=!n[0].use_custom_rs_config_uri,h(a,"rows","4"),h(a,"placeholder",L.env.default_config_uri),h(u,"class","p-2"),h(e,"id","rs3_options"),h(e,"class","col-span-3 p-5 pt-10")},m(p,y){S(p,e,y),_&&_.m(e,null),k(e,t),k(e,o),k(o,l),k(o,r),k(o,i),i.checked=n[0].use_custom_rs_config_uri,k(e,c),k(e,u),k(u,a),te(a,n[0].rs_config_uri),f||(g=[E(i,"change",n[3]),E(a,"input",n[4])],f=!0)},p(p,[y]){L.hasBoltPlugins&&_.p(p,y),y&1&&(i.checked=p[0].use_custom_rs_config_uri),y&1&&d!==(d=!p[0].use_custom_rs_config_uri)&&(a.disabled=d),y&1&&te(a,p[0].rs_config_uri)},i:H,o:H,d(p){p&&$(e),_&&_.d(),f=!1,ee(g)}}}function as(n,e,t){let o;const{config:l}=q;le(n,l,u=>t(0,o=u));function r(){o.rs_plugin_loader=this.checked,l.set(o)}function i(){o.use_custom_rs_config_uri=this.checked,l.set(o)}function c(){o.rs_config_uri=this.value,l.set(o)}return[o,l,r,i,c]}class cs extends Q{constructor(e){super(),K(this,e,as,is,Y,{})}}function us(n){let e,t;return e=new cs({}),{c(){Z(e.$$.fragment)},m(o,l){V(e,o,l),t=!0},i(o){t||(j(e.$$.fragment,o),t=!0)},o(o){A(e.$$.fragment,o),t=!1},d(o){z(e,o)}}}function ds(n){let e,t;return e=new ls({}),{c(){Z(e.$$.fragment)},m(o,l){V(e,o,l),t=!0},i(o){t||(j(e.$$.fragment,o),t=!0)},o(o){A(e.$$.fragment,o),t=!1},d(o){z(e,o)}}}function fs(n){let e,t;return e=new ns({}),{c(){Z(e.$$.fragment)},m(o,l){V(e,o,l),t=!0},i(o){t||(j(e.$$.fragment,o),t=!0)},o(o){A(e.$$.fragment,o),t=!1},d(o){z(e,o)}}}function ps(n){let e,t,o,l,r,i,c,u,a,d,f,g,_,p,y,v,R,T,N,M,I;const D=[fs,ds,us],C=[];function w(b,O){return b[1]==b[2].general?0:b[1]==b[2].osrs?1:b[1]==b[2].rs3?2:-1}return~(R=w(n))&&(T=C[R]=D[R](n)),{c(){e=m("div"),t=m("div"),o=m("button"),l=B("General"),i=m("br"),c=P(),u=m("button"),a=B("OSRS"),f=m("br"),g=P(),_=m("button"),p=B("RS3"),v=P(),T&&T.c(),h(o,"class",r=n[1]===n[2].general?me:be),h(u,"class",d=n[1]===n[2].osrs?me:be),h(_,"class",y=n[1]===n[2].rs3?me:be),h(t,"class","relative h-full border-r-2 border-slate-300 pt-10 dark:border-slate-800"),h(e,"class","grid h-full grid-cols-4")},m(b,O){S(b,e,O),k(e,t),k(t,o),k(o,l),k(t,i),k(t,c),k(t,u),k(u,a),k(t,f),k(t,g),k(t,_),k(_,p),k(e,v),~R&&C[R].m(e,null),N=!0,M||(I=[E(o,"click",n[4]),E(u,"click",n[5]),E(_,"click",n[6])],M=!0)},p(b,O){(!N||O&2&&r!==(r=b[1]===b[2].general?me:be))&&h(o,"class",r),(!N||O&2&&d!==(d=b[1]===b[2].osrs?me:be))&&h(u,"class",d),(!N||O&2&&y!==(y=b[1]===b[2].rs3?me:be))&&h(_,"class",y);let U=R;R=w(b),R!==U&&(T&&(Ie(),A(C[U],1,1,()=>{C[U]=null}),Oe()),~R?(T=C[R],T||(T=C[R]=D[R](b),T.c()),j(T,1),T.m(e,null)):T=null)},i(b){N||(j(T),N=!0)},o(b){A(T),N=!1},d(b){b&&$(e),~R&&C[R].d(),M=!1,ee(I)}}}function _s(n){let e,t,o={class:"h-3/4 w-3/4",$$slots:{default:[ps]},$$scope:{ctx:n}};return e=new et({props:o}),n[7](e),{c(){Z(e.$$.fragment)},m(l,r){V(e,l,r),t=!0},p(l,[r]){const i={};r&258&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){n[7](null),z(e,l)}}}let me="border-2 border-blue-500 bg-blue-500 hover:opacity-75 font-bold text-black duration-200 rounded-lg p-1 mx-auto my-1 w-3/4",be="border-2 border-blue-500 hover:opacity-75 duration-200 rounded-lg p-1 mx-auto my-1 w-3/4";function gs(n,e,t){let o;function l(){o.open()}var r=(f=>(f[f.general=0]="general",f[f.osrs=1]="osrs",f[f.rs3=2]="rs3",f))(r||{});let i=1;const c=()=>{t(1,i=r.general)},u=()=>{t(1,i=r.osrs)},a=()=>{t(1,i=r.rs3)};function d(f){ce[f?"unshift":"push"](()=>{o=f,t(0,o)})}return[o,i,r,l,c,u,a,d]}class hs extends Q{constructor(e){super(),K(this,e,gs,_s,Y,{open:3})}get open(){return this.$$.ctx[3]}}function ms(n,{callback:e,ignore:t=[]}){const o=l=>{const r=t.some(i=>i.contains(l.target));n&&!n.contains(l.target)&&!l.defaultPrevented&&!r&&e()};return document.addEventListener("click",o,!0),document.addEventListener("contextmenu",o,!0),{destroy(){document.removeEventListener("click",o,!0),document.removeEventListener("contextmenu",o,!0)}}}const bs=n=>({}),wt=n=>({});function yt(n){let e,t,o,l,r,i;const c=n[9].content,u=qe(c,n,n[8],wt);return{c(){e=m("div"),u&&u.c(),h(e,"class",t="dropdown-color absolute z-20 rounded-lg border-2 "+n[1]+" "+n[2]+" svelte-xifudk")},m(a,d){S(a,e,d),u&&u.m(e,null),l=!0,r||(i=At(o=ms.call(null,e,{callback:n[3],ignore:[n[5]]})),r=!0)},p(a,d){u&&u.p&&(!l||d&256)&&Be(u,c,a,a[8],l?De(c,a[8],d,bs):Ge(a[8]),wt),(!l||d&6&&t!==(t="dropdown-color absolute z-20 rounded-lg border-2 "+a[1]+" "+a[2]+" svelte-xifudk"))&&h(e,"class",t),o&&Ae(o.update)&&d&32&&o.update.call(null,{callback:a[3],ignore:[a[5]]})},i(a){l||(j(u,a),l=!0)},o(a){A(u,a),l=!1},d(a){a&&$(e),u&&u.d(a),r=!1,i()}}}function ks(n){let e,t,o,l,r,i,c;const u=n[9].default,a=qe(u,n,n[8],null);let d=n[4]&&yt(n);return{c(){e=m("div"),t=m("button"),a&&a.c(),o=P(),d&&d.c(),h(e,"class",l="relative h-fit w-fit "+n[0]+" svelte-xifudk")},m(f,g){S(f,e,g),k(e,t),a&&a.m(t,null),n[10](t),k(e,o),d&&d.m(e,null),r=!0,i||(c=E(t,"click",n[6]),i=!0)},p(f,[g]){a&&a.p&&(!r||g&256)&&Be(a,u,f,f[8],r?De(u,f[8],g,null):Ge(f[8]),null),f[4]?d?(d.p(f,g),g&16&&j(d,1)):(d=yt(f),d.c(),j(d,1),d.m(e,null)):d&&(Ie(),A(d,1,1,()=>{d=null}),Oe()),(!r||g&1&&l!==(l="relative h-fit w-fit "+f[0]+" svelte-xifudk"))&&h(e,"class",l)},i(f){r||(j(a,f),j(d),r=!0)},o(f){A(a,f),A(d),r=!1},d(f){f&&$(e),a&&a.d(f),n[10](null),d&&d.d(),i=!1,c()}}}function ws(n,e,t){let{$$slots:o={},$$scope:l}=e,{class:r=""}=e,{position:i="bottom"}=e,{align:c="start"}=e,u=!1,a;function d(){t(4,u=!0)}function f(){t(4,u=!1)}function g(){u?f():d()}function _(p){ce[p?"unshift":"push"](()=>{a=p,t(5,a)})}return n.$$set=p=>{"class"in p&&t(0,r=p.class),"position"in p&&t(1,i=p.position),"align"in p&&t(2,c=p.align),"$$scope"in p&&t(8,l=p.$$scope)},[r,i,c,f,u,a,g,d,l,o,_]}class ys extends Q{constructor(e){super(),K(this,e,ws,ks,Y,{class:0,position:1,align:2,open:7,close:3})}get open(){return this.$$.ctx[7]}get close(){return this.$$.ctx[3]}}function vt(n,e,t){const o=n.slice();return o[7]=e[t],o}function $t(n,e){let t,o=e[7].user.displayName+"",l,r,i;return{key:n,first:null,c(){t=m("option"),l=B(o),t.selected=r=e[7].user.userId===e[0].selected_user_id,t.__value=i=e[7].user.userId,te(t,t.__value),h(t,"class","dark:bg-slate-900"),this.first=t},m(c,u){S(c,t,u),k(t,l)},p(c,u){e=c,u&2&&o!==(o=e[7].user.displayName+"")&&re(l,o),u&3&&r!==(r=e[7].user.userId===e[0].selected_user_id)&&(t.selected=r),u&2&&i!==(i=e[7].user.userId)&&(t.__value=i,te(t,t.__value))},d(c){c&&$(t)}}}function vs(n){let e,t=[],o=new Map,l,r,i,c,u,a,d,f,g,_=oe(n[1]);const p=y=>y[7].user.userId;for(let y=0;y<_.length;y+=1){let v=vt(n,_,y),R=p(v);o.set(R,t[y]=$t(R,v))}return{c(){e=m("select");for(let y=0;y<t.length;y+=1)t[y].c();l=P(),r=m("div"),i=m("button"),i.textContent="Log In",c=P(),u=m("button"),a=B("Log Out"),h(e,"class","w-full cursor-pointer rounded-lg border-2 border-inherit bg-inherit p-2 text-center"),n[0].selected_user_id===void 0&&_e(()=>n[4].call(e)),h(i,"class","mx-auto mr-2 rounded-lg bg-blue-500 p-2 font-bold text-black duration-200 hover:opacity-75"),h(u,"class","mx-auto rounded-lg border-2 border-blue-500 p-2 font-bold duration-200 hover:opacity-75"),u.disabled=d=!n[0].selected_user_id,h(r,"class","mt-5 flex")},m(y,v){S(y,e,v);for(let R=0;R<t.length;R+=1)t[R]&&t[R].m(e,null);de(e,n[0].selected_user_id,!0),S(y,l,v),S(y,r,v),k(r,i),k(r,c),k(r,u),k(u,a),f||(g=[E(e,"change",n[4]),E(i,"click",n[5]),E(u,"click",n[6])],f=!0)},p(y,[v]){v&3&&(_=oe(y[1]),t=zt(t,v,p,1,y,_,o,e,Vt,$t,null,vt)),v&3&&de(e,y[0].selected_user_id),v&3&&d!==(d=!y[0].selected_user_id)&&(u.disabled=d)},i:H,o:H,d(y){y&&($(e),$(l),$(r));for(let v=0;v<t.length;v+=1)t[v].d();f=!1,ee(g)}}}function $s(n,e,t){let o,l;const{sessions:r,config:i}=q;le(n,r,d=>t(1,l=d)),le(n,i,d=>t(0,o=d));function c(){o.selected_user_id=Me(this),i.set(o)}return[o,l,r,i,c,()=>{const{origin:d,redirect:f,clientid:g}=L.env;ne.openLoginWindow(d,f,g)},()=>{o.selected_user_id&&G.logout(o.selected_user_id)}]}class Ss extends Q{constructor(e){super(),K(this,e,$s,vs,Y,{})}}function Ls(n){const e=n.slice(),t=G.findSession(e[1].selected_user_id??"");return e[11]=t,e}function Cs(n){let e,t,o;return{c(){e=m("button"),e.textContent="Login",h(e,"class","h-11 w-48 rounded-lg border-2 border-slate-300 bg-inherit p-2 text-center font-bold text-black duration-200 hover:opacity-75 dark:border-slate-800 dark:text-slate-50")},m(l,r){S(l,e,r),t||(o=E(e,"click",n[10]),t=!0)},p:H,i:H,o:H,d(l){l&&$(e),t=!1,o()}}}function Rs(n){let e,t;return e=new ys({props:{align:"center",$$slots:{content:[xs],default:[Ts]},$$scope:{ctx:n}}}),{c(){Z(e.$$.fragment)},m(o,l){V(e,o,l),t=!0},p(o,l){const r={};l&4098&&(r.$$scope={dirty:l,ctx:o}),e.$set(r)},i(o){t||(j(e.$$.fragment,o),t=!0)},o(o){A(e.$$.fragment,o),t=!1},d(o){z(e,o)}}}function Ts(n){var l;let e,t=(((l=n[11])==null?void 0:l.user.displayName)??"No user selected")+"",o;return{c(){e=m("button"),o=B(t),h(e,"class","h-11 w-48 rounded-lg border-2 border-slate-300 bg-inherit text-center font-bold text-black duration-200 hover:opacity-75 dark:border-slate-800 dark:text-slate-50")},m(r,i){S(r,e,i),k(e,o)},p(r,i){var c;i&2&&t!==(t=(((c=r[11])==null?void 0:c.user.displayName)??"No user selected")+"")&&re(o,t)},d(r){r&&$(e)}}}function xs(n){let e,t,o;return t=new Ss({}),{c(){e=m("div"),Z(t.$$.fragment),h(e,"slot","content"),h(e,"class","w-40")},m(l,r){S(l,e,r),V(t,e,null),o=!0},p:H,i(l){o||(j(t.$$.fragment,l),o=!0)},o(l){A(t.$$.fragment,l),o=!1},d(l){l&&$(e),z(t)}}}function Ps(n){let e,t,o,l,r,i,c,u,a,d,f,g,_,p,y,v,R,T,N={};e=new hs({props:N}),n[5](e);const M=[Rs,Cs],I=[];function D(w,b){return w[2].length>0?0:1}function C(w,b){return b===0?Ls(w):w}return p=D(n),y=I[p]=M[p](C(n,p)),{c(){Z(e.$$.fragment),t=P(),o=m("div"),l=m("div"),r=m("button"),r.textContent="RS3",i=P(),c=m("button"),c.textContent="OSRS",u=P(),a=m("div"),d=m("button"),d.innerHTML='<img src="svgs/lightbulb-solid.svg" class="m-auto h-6 w-6" alt="Change Theme"/>',f=P(),g=m("button"),g.innerHTML='<img src="svgs/gear-solid.svg" class="m-auto h-6 w-6" alt="Settings"/>',_=P(),y.c(),h(r,"class","mx-1 w-20 rounded-lg border-2 border-blue-500 p-2 duration-200 hover:opacity-75"),F(r,"text-black",n[1].selected_game===W.rs3),F(r,"bg-blue-500",n[1].selected_game===W.rs3),h(c,"class","mx-1 w-20 rounded-lg border-2 border-blue-500 bg-blue-500 p-2 text-black duration-200 hover:opacity-75"),F(c,"text-black",n[1].selected_game===W.osrs),F(c,"bg-blue-500",n[1].selected_game===W.osrs),h(l,"class","m-3 ml-9 font-bold"),h(d,"class","h-10 w-10 rounded-full bg-blue-500 text-center duration-200 hover:rotate-45 hover:opacity-75"),h(g,"class","h-10 w-10 rounded-full bg-blue-500 text-center duration-200 hover:rotate-45 hover:opacity-75"),h(a,"class","m-2 ml-auto flex gap-2"),h(o,"class","fixed top-0 flex h-16 w-screen border-b-2 border-slate-300 bg-slate-100 duration-200 dark:border-slate-800 dark:bg-slate-900")},m(w,b){V(e,w,b),S(w,t,b),S(w,o,b),k(o,l),k(l,r),k(l,i),k(l,c),k(o,u),k(o,a),k(a,d),k(a,f),k(a,g),k(a,_),I[p].m(a,null),v=!0,R||(T=[E(r,"click",n[6]),E(c,"click",n[7]),E(d,"click",n[8]),E(g,"click",n[9])],R=!0)},p(w,[b]){const O={};e.$set(O),(!v||b&2)&&F(r,"text-black",w[1].selected_game===W.rs3),(!v||b&2)&&F(r,"bg-blue-500",w[1].selected_game===W.rs3),(!v||b&2)&&F(c,"text-black",w[1].selected_game===W.osrs),(!v||b&2)&&F(c,"bg-blue-500",w[1].selected_game===W.osrs);let U=p;p=D(w),p===U?I[p].p(C(w,p),b):(Ie(),A(I[U],1,1,()=>{I[U]=null}),Oe(),y=I[p],y?y.p(C(w,p),b):(y=I[p]=M[p](C(w,p)),y.c()),j(y,1),y.m(a,null))},i(w){v||(j(e.$$.fragment,w),j(y),v=!0)},o(w){A(e.$$.fragment,w),A(y),v=!1},d(w){w&&($(t),$(o)),n[5](null),z(e,w),I[p].d(),R=!1,ee(T)}}}function Is(n,e,t){let o,l;const{config:r,sessions:i}=q;le(n,r,p=>t(1,o=p)),le(n,i,p=>t(2,l=p));let c;function u(p){ce[p?"unshift":"push"](()=>{c=p,t(0,c)})}return[c,o,l,r,i,u,()=>{Ee(r,o.selected_game=W.rs3,o)},()=>{Ee(r,o.selected_game=W.osrs,o)},()=>Ee(r,o.use_dark_theme=!o.use_dark_theme,o),()=>c.open(),()=>{const{origin:p,redirect:y,clientid:v}=L.env;ne.openLoginWindow(p,y,v)}]}class Os extends Q{constructor(e){super(),K(this,e,Is,Ps,Y,{})}}function Hs(n){let e,t,o,l,r,i,c,u,a,d,f,g,_;return e=new mn({}),o=new Os({}),u=new Zn({}),g=new Qn({props:{logs:n[0]}}),{c(){Z(e.$$.fragment),t=P(),Z(o.$$.fragment),l=P(),r=m("div"),i=m("div"),c=P(),Z(u.$$.fragment),a=P(),d=m("div"),f=P(),Z(g.$$.fragment),h(r,"class","mt-16 grid h-full grid-flow-col grid-cols-3")},m(p,y){V(e,p,y),S(p,t,y),V(o,p,y),S(p,l,y),S(p,r,y),k(r,i),k(r,c),V(u,r,null),k(r,a),k(r,d),S(p,f,y),V(g,p,y),_=!0},p(p,y){const v={};y&1&&(v.logs=p[0]),g.$set(v)},i(p){_||(j(e.$$.fragment,p),j(o.$$.fragment,p),j(u.$$.fragment,p),j(g.$$.fragment,p),_=!0)},o(p){A(e.$$.fragment,p),A(o.$$.fragment,p),A(u.$$.fragment,p),A(g.$$.fragment,p),_=!1},d(p){p&&($(t),$(l),$(r),$(f)),z(e,p),z(o,p),z(u),z(g,p)}}}function Us(n){let e,t,o,l;return e=new Ot({props:{$$slots:{default:[Hs]},$$scope:{ctx:n}}}),{c(){Z(e.$$.fragment)},m(r,i){V(e,r,i),t=!0,o||(l=E(window,"beforeunload",n[2]),o=!0)},p(r,[i]){const c={};i&9&&(c.$$scope={dirty:i,ctx:r}),e.$set(c)},i(r){t||(j(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){z(e,r),o=!1,l()}}}function Es(n,e,t){let o;const l=x.logs;return le(n,l,i=>t(0,o=i)),[o,l,()=>G.saveConfig()]}class Ns extends Q{constructor(e){super(),K(this,e,Es,Us,Y,{})}}const St={target:document.getElementById("app")};window.opener||window.location.search.includes("&id_token")?new dn(St):(Ms(),new Ns(St));async function Ms(){js(),await qs(),tn(),As()}function js(){const n=new URLSearchParams(window.location.search);L.platform=n.get("platform"),L.isFlathub=n.get("flathub")==="1",L.rs3DebInstalledHash=n.get("rs3_deb_installed_hash"),L.rs3ExeInstalledHash=n.get("rs3_exe_installed_hash"),L.rs3AppInstalledHash=n.get("rs3_app_installed_hash"),L.osrsExeInstalledHash=n.get("osrs_exe_installed_hash"),L.osrsAppInstalledHash=n.get("osrs_app_installed_hash"),L.runeLiteInstalledId=n.get("runelite_installed_id"),L.hdosInstalledVersion=n.get("hdos_installed_version");const e=n.get("plugins");if(L.hasBoltPlugins=e!==null,e!==null)try{L.pluginList=JSON.parse(e)}catch{x.error("Unable to parse plugin list")}const t=n.get("credentials");if(t)try{const o=JSON.parse(t),l=o.every(r=>typeof r.session_id=="string"&&typeof r.tokens=="object"&&typeof r.accounts=="object"&&typeof r.user=="object");l?q.sessions.set(o):(q.sessions.set([]),G.saveCredentials(),x.warn("Credentials saved on disk are out of date. Please sign in again.")),q.sessions.set(l?o:[])}catch{q.sessions.set([]),G.saveCredentials(),x.error("Unable to parse saved credentials. Please sign in again.")}}function As(){const{origin:n,origin_2fa:e}=L.env,t=[L.internalUrl,n,e];let o=null;window.addEventListener("message",async l=>{var r;if(!t.includes(l.origin)){x.info(`discarding window message from origin ${l.origin}`);return}switch(l.data.type){case"authTokenUpdate":{o=l.data.tokens;break}case"authSessionUpdate":{if(o===null)return x.error("auth is null. Please try again.");const i=l.data.sessionId,c=await Re.buildSession(o,i),{config:u,sessions:a}=q;c.ok?(a.update(d=>(d.push(c.value),d)),se(u).selected_user_id||Qe(),G.saveCredentials(),x.info(`Successfully added account '${c.value.user.displayName}'`)):x.error(`Unable to sign into account. ${c.error}`),ne.pendingLoginWindow=null,o=null;break}case"authFailed":{x.error(`Unable to authenticate: ${l.data.reason}`),ne.pendingLoginWindow=null,o=null;break}case"externalUrl":{const i=new XMLHttpRequest;i.onreadystatechange=()=>{i.readyState==4&&x.info(`External URL status: '${i.responseText.trim()}'`)},i.open("POST","/open-external-url",!0),i.send(l.data.url);break}case"gameClientListUpdate":Ze.set(It());break;default:{const i=((r=l.data)==null?void 0:r.type)??"no type provided";x.info(`Unknown message type: ${i}`);break}}})}async function qs(){const n=se(q.sessions),e=[];for(const t of n){const o=await ne.refreshOAuthToken(t.tokens);if(!o.ok){o.error===0?x.error(`Unable to verify saved login, status: ${o.error}. Do you have an internet connection? Please relaunch Bolt to try again.`):(x.error(`Discarding expired login, status: ${o.error}. Please sign in again.`),e.push(t.tokens.sub));continue}const l=o.value;t.tokens=l;const r=await Re.buildSession(l,t.session_id);r.ok?(G.findSession(l.sub)||(t.user=r.value.user,t.accounts=r.value.accounts),x.info(`Logged into account '${r.value.user.displayName}'`)):(x.error(`Unable to login to account '${t.user.displayName}'. ${r.error}`),e.push(t.tokens.sub))}e.forEach(t=>{G.logout(t)}),q.sessions.set(n),G.saveCredentials()}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgtRHZ6NjJKamYuanMiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWIvRW51bXMvVGltZS50cyIsIi4uLy4uL3NyYy9saWIvU2VydmljZXMvQ29va2llU2VydmljZS50cyIsIi4uLy4uL3NyYy9saWIvVXRpbC9pbnRlcmZhY2VzLnRzIiwiLi4vLi4vc3JjL2xpYi9VdGlsL1BhcnNlVXRpbHMudHMiLCIuLi8uLi9zcmMvbGliL1N0YXRlL0JvbHQudHMiLCIuLi8uLi9zcmMvbGliL1V0aWwvU3RyaW5nVXRpbHMudHMiLCIuLi8uLi9zcmMvbGliL1NlcnZpY2VzL0F1dGhTZXJ2aWNlLnRzIiwiLi4vLi4vc3JjL2xpYi9TZXJ2aWNlcy9Vc2VyU2VydmljZS50cyIsIi4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvdXRpbHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL2RvbS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvbGlmZWN5Y2xlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9zY2hlZHVsZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL3RyYW5zaXRpb25zLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9hd2FpdF9ibG9jay5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvZWFjaC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvQ29tcG9uZW50LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvc2hhcmVkL3ZlcnNpb24uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL3N0b3JlL2luZGV4LmpzIiwiLi4vLi4vc3JjL2xpYi9VdGlsL0xvZ2dlci50cyIsIi4uLy4uL3NyYy9saWIvVXRpbC9vbldyaXRhYmxlQ2hhbmdlLnRzIiwiLi4vLi4vc3JjL2xpYi9VdGlsL0NvbmZpZ1V0aWxzLnRzIiwiLi4vLi4vc3JjL2xpYi9TdGF0ZS9HbG9iYWxTdGF0ZS50cyIsIi4uLy4uL3NyYy9saWIvU2VydmljZXMvQm9sdFNlcnZpY2UudHMiLCIuLi8uLi9zcmMvbGliL1V0aWwvZnVuY3Rpb25zLnRzIiwiLi4vLi4vc3JjL2xpYi9VdGlsL3N0b3JlLnRzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9kaXNjbG9zZS12ZXJzaW9uL2luZGV4LmpzIiwiLi4vLi4vc3JjL2xpYi9Db21wb25lbnRzL01haW5MYXlvdXQuc3ZlbHRlIiwiLi4vLi4vc3JjL0F1dGhBcHAuc3ZlbHRlIiwiLi4vLi4vc3JjL2xpYi9Db21wb25lbnRzL0NvbW1vblVJL01vZGFsLnN2ZWx0ZSIsIi4uLy4uL3NyYy9saWIvQ29tcG9uZW50cy9EaXNjbGFpbWVyTW9kYWwuc3ZlbHRlIiwiLi4vLi4vc3JjL2xpYi9Db21wb25lbnRzL1BsdWdpbk1vZGFsLnN2ZWx0ZSIsIi4uLy4uL3NyYy9saWIvQ29tcG9uZW50cy9MYXVuY2guc3ZlbHRlIiwiLi4vLi4vc3JjL2xpYi9Db21wb25lbnRzL0xvZ1ZpZXcuc3ZlbHRlIiwiLi4vLi4vc3JjL2xpYi9Db21wb25lbnRzL1NldHRpbmdzL0dlbmVyYWxTZXR0aW5nc1RhYi5zdmVsdGUiLCIuLi8uLi9zcmMvbGliL0NvbXBvbmVudHMvU2V0dGluZ3MvT3Nyc1NldHRpbmdzVGFiLnN2ZWx0ZSIsIi4uLy4uL3NyYy9saWIvQ29tcG9uZW50cy9TZXR0aW5ncy9SczNTZXR0aW5nc1RhYi5zdmVsdGUiLCIuLi8uLi9zcmMvbGliL0NvbXBvbmVudHMvU2V0dGluZ3NNb2RhbC5zdmVsdGUiLCIuLi8uLi9zcmMvbGliL1V0aWwvQ2xpY2tPdXRzaWRlLnRzIiwiLi4vLi4vc3JjL2xpYi9Db21wb25lbnRzL0NvbW1vblVJL0Ryb3Bkb3duLnN2ZWx0ZSIsIi4uLy4uL3NyYy9saWIvQ29tcG9uZW50cy9BY2NvdW50RHJvcGRvd25Db250ZW50LnN2ZWx0ZSIsIi4uLy4uL3NyYy9saWIvQ29tcG9uZW50cy9Ub3BCYXIuc3ZlbHRlIiwiLi4vLi4vc3JjL0JvbHRBcHAuc3ZlbHRlIiwiLi4vLi4vc3JjL21haW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGVudW0gVGltZSB7XG5cdFNFQ09ORCA9IDEwMDAsXG5cdE1JTlVURSA9IDYwICogMTAwMCxcblx0SEFMRl9IT1VSID0gMzAgKiA2MCAqIDEwMDAsXG5cdEhPVVIgPSA2MCAqIDYwICogMTAwMCxcblx0REFZID0gMjQgKiA2MCAqIDYwICogMTAwMCxcblx0V0VFSyA9IDcgKiAyNCAqIDYwICogNjAgKiAxMDAwLFxuXHRNT05USCA9IDMwICogMjQgKiA2MCAqIDYwICogMTAwMFxufVxuIiwiaW1wb3J0IHR5cGUgeyBUaW1lIH0gZnJvbSAnJGxpYi9FbnVtcy9UaW1lJztcblxuZXhwb3J0IGNsYXNzIENvb2tpZVNlcnZpY2Uge1xuXHRzdGF0aWMgc2V0KG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZywgZHVyYXRpb246IG51bWJlciwgdW5pdDogVGltZSk6IHZvaWQge1xuXHRcdGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xuXHRcdGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSArIGR1cmF0aW9uICogdW5pdCk7XG5cdFx0Y29uc3QgZXhwaXJlcyA9IGBleHBpcmVzPSR7ZGF0ZS50b1VUQ1N0cmluZygpfWA7XG5cdFx0ZG9jdW1lbnQuY29va2llID0gYCR7bmFtZX09JHt2YWx1ZX07JHtleHBpcmVzfTtwYXRoPS9gO1xuXHR9XG5cblx0c3RhdGljIGdldChuYW1lOiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcblx0XHRjb25zdCBuYW1lRVEgPSBgJHtuYW1lfT1gO1xuXHRcdGNvbnN0IGNhID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7Jyk7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjYS5sZW5ndGg7IGkrKykge1xuXHRcdFx0bGV0IGMgPSBjYVtpXTtcblx0XHRcdHdoaWxlIChjLmNoYXJBdCgwKSA9PT0gJyAnKSBjID0gYy5zdWJzdHJpbmcoMSwgYy5sZW5ndGgpO1xuXHRcdFx0aWYgKGMuaW5kZXhPZihuYW1lRVEpID09PSAwKSByZXR1cm4gYy5zdWJzdHJpbmcobmFtZUVRLmxlbmd0aCwgYy5sZW5ndGgpO1xuXHRcdH1cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHN0YXRpYyByZW1vdmUobmFtZTogc3RyaW5nKTogdm9pZCB7XG5cdFx0ZG9jdW1lbnQuY29va2llID0gYCR7bmFtZX09OyBNYXgtQWdlPS05OTk5OTk5OTtgO1xuXHR9XG59XG4iLCJpbXBvcnQgdHlwZSB7IEF1dGhUb2tlbnMgfSBmcm9tICckbGliL1NlcnZpY2VzL0F1dGhTZXJ2aWNlJztcblxuZXhwb3J0IHR5cGUgUmVzdWx0PFQsIEUgPSBFcnJvcj4gPSB7IG9rOiB0cnVlOyB2YWx1ZTogVCB9IHwgeyBvazogZmFsc2U7IGVycm9yOiBFIH07XG5cbmV4cG9ydCBmdW5jdGlvbiBvazxUPih2YWx1ZTogVCk6IFJlc3VsdDxULCBuZXZlcj4ge1xuXHRyZXR1cm4geyBvazogdHJ1ZSwgdmFsdWUgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVycm9yPFQ+KGVycm9yOiBUKTogUmVzdWx0PG5ldmVyLCBUPiB7XG5cdHJldHVybiB7IG9rOiBmYWxzZSwgZXJyb3IgfTtcbn1cblxuZXhwb3J0IGVudW0gR2FtZSB7XG5cdHJzMyA9ICdyczMnLFxuXHRvc3JzID0gJ29zcnMnXG59XG5cbmV4cG9ydCBlbnVtIENsaWVudCB7XG5cdG9mZmljaWFsID0gJ09mZmljaWFsJyxcblx0cnVuZWxpdGUgPSAnUnVuZUxpdGUnLFxuXHRoZG9zID0gJ0hET1MnXG59XG5cbmV4cG9ydCBjb25zdCBjbGllbnRNYXA6IFJlY29yZDxHYW1lLCBDbGllbnRbXT4gPSB7XG5cdFtHYW1lLnJzM106IFtDbGllbnQub2ZmaWNpYWxdLFxuXHRbR2FtZS5vc3JzXTogW0NsaWVudC5vZmZpY2lhbCwgQ2xpZW50LnJ1bmVsaXRlLCBDbGllbnQuaGRvc11cbn07XG5cbi8vIHJlc3BvbnNlIHRva2VuIGZyb20gdGhlIG9mZmljaWFsIFwiRGlyZWN0NlwiIFVSTFxuZXhwb3J0IGludGVyZmFjZSBEaXJlY3Q2VG9rZW4ge1xuXHRpZD86IHN0cmluZztcblx0dmVyc2lvbj86IHN0cmluZztcblx0cHJvbW90ZVRpbWU/OiBudW1iZXI7XG5cdHNjYW5UaW1lPzogbnVtYmVyO1xufVxuXG4vLyBjb25uZWN0ZWQgZ2FtZSBjbGllbnQgZm9yIHBsdWdpbiBtYW5hZ2VtZW50IHB1cnBvc2VzXG5leHBvcnQgaW50ZXJmYWNlIEdhbWVDbGllbnQge1xuXHR1aWQ6IHN0cmluZztcblx0aWRlbnRpdHk/OiBzdHJpbmc7XG59XG5cbi8vIHJzMyBwbHVnaW4gY29uZmlndXJlZCBpbiBwbHVnaW5zLmpzb25cbmV4cG9ydCBpbnRlcmZhY2UgUGx1Z2luTWV0YSB7XG5cdHBhdGg/OiBzdHJpbmc7XG5cdG5hbWU/OiBzdHJpbmc7XG59XG5cbi8vIHJzMyBwbHVnaW4gY29uZmlnLCBmcm9tIHRoZSBwbHVnaW4ncyBib2x0Lmpzb25cbmV4cG9ydCBpbnRlcmZhY2UgUGx1Z2luQ29uZmlnIHtcblx0bmFtZT86IHN0cmluZztcblx0dmVyc2lvbj86IHN0cmluZztcblx0ZGVzY3JpcHRpb24/OiBzdHJpbmc7XG5cdG1haW4/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBBdXRoVG9rZW5VcGRhdGVNZXNzYWdlIHtcblx0dHlwZTogJ2F1dGhUb2tlblVwZGF0ZSc7XG5cdHRva2VuczogQXV0aFRva2Vucztcbn1cblxuaW50ZXJmYWNlIEF1dGhTZXNzaW9uVXBkYXRlTWVzc2FnZSB7XG5cdHR5cGU6ICdhdXRoU2Vzc2lvblVwZGF0ZSc7XG5cdHNlc3Npb25JZDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgQXV0aEZhaWxlZE1lc3NhZ2Uge1xuXHR0eXBlOiAnYXV0aEZhaWxlZCc7XG5cdHJlYXNvbjogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgRXh0ZXJuYWxVcmxNZXNzYWdlIHtcblx0dHlwZTogJ2V4dGVybmFsVXJsJztcblx0dXJsOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBHYW1lQ2xpZW50TGlzdE1lc3NhZ2Uge1xuXHR0eXBlOiAnZ2FtZUNsaWVudExpc3RVcGRhdGUnO1xufVxuXG5leHBvcnQgdHlwZSBCb2x0TWVzc2FnZSA9XG5cdHwgQXV0aFRva2VuVXBkYXRlTWVzc2FnZVxuXHR8IEF1dGhTZXNzaW9uVXBkYXRlTWVzc2FnZVxuXHR8IEF1dGhGYWlsZWRNZXNzYWdlXG5cdHwgRXh0ZXJuYWxVcmxNZXNzYWdlXG5cdHwgR2FtZUNsaWVudExpc3RNZXNzYWdlO1xuIiwiaW1wb3J0IHR5cGUgeyBBdXRoVG9rZW5zIH0gZnJvbSAnJGxpYi9TZXJ2aWNlcy9BdXRoU2VydmljZSc7XG5pbXBvcnQgdHlwZSB7IEJvbHRFbnYgfSBmcm9tICckbGliL1N0YXRlL0JvbHQnO1xuaW1wb3J0IHsgZXJyb3IsIG9rLCB0eXBlIFJlc3VsdCB9IGZyb20gJyRsaWIvVXRpbC9pbnRlcmZhY2VzJztcblxuZXhwb3J0IGNsYXNzIFBhcnNlVXRpbHMge1xuXHQvKipcblx0ICogUGFyc2VzIHRoZSByZXNwb25zZSBmcm9tIC9vYXV0aDIvdG9rZW4sIGFuZCByZXR1cm5zIGEgU2Vzc2lvbiBvYmplY3Rcblx0ICovXG5cdHN0YXRpYyBwYXJzZVRva2VuUmVzcG9uc2UocmVzcG9uc2U6IHN0cmluZyk6IFJlc3VsdDxBdXRoVG9rZW5zLCBzdHJpbmc+IHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3Qgb2F1dGhDcmVkcyA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xuXHRcdFx0Y29uc3Qgc2VjdGlvbnMgPSBvYXV0aENyZWRzLmlkX3Rva2VuLnNwbGl0KCcuJyk7XG5cdFx0XHRpZiAoc2VjdGlvbnMubGVuZ3RoICE9PSAzKSB7XG5cdFx0XHRcdGNvbnN0IG1zZzogc3RyaW5nID0gYE1hbGZvcm1lZCBpZF90b2tlbjogJHtzZWN0aW9ucy5sZW5ndGh9IHNlY3Rpb25zLCBleHBlY3RlZCAzYDtcblx0XHRcdFx0cmV0dXJuIGVycm9yKG1zZyk7XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBoZWFkZXIgPSBKU09OLnBhcnNlKGF0b2Ioc2VjdGlvbnNbMF0pKTtcblx0XHRcdGlmIChoZWFkZXIudHlwICE9PSAnSldUJykge1xuXHRcdFx0XHRjb25zdCBtc2c6IHN0cmluZyA9IGBCYWQgaWRfdG9rZW4gaGVhZGVyOiB0eXAgJHtoZWFkZXIudHlwfSwgZXhwZWN0ZWQgSldUYDtcblx0XHRcdFx0cmV0dXJuIGVycm9yKG1zZyk7XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBwYXlsb2FkID0gSlNPTi5wYXJzZShhdG9iKHNlY3Rpb25zWzFdKSk7XG5cdFx0XHRyZXR1cm4gb2soe1xuXHRcdFx0XHRhY2Nlc3NfdG9rZW46IG9hdXRoQ3JlZHMuYWNjZXNzX3Rva2VuLFxuXHRcdFx0XHRpZF90b2tlbjogb2F1dGhDcmVkcy5pZF90b2tlbixcblx0XHRcdFx0cmVmcmVzaF90b2tlbjogb2F1dGhDcmVkcy5yZWZyZXNoX3Rva2VuLFxuXHRcdFx0XHRzdWI6IHBheWxvYWQuc3ViLFxuXHRcdFx0XHRleHBpcnk6IERhdGUubm93KCkgKyBvYXV0aENyZWRzLmV4cGlyZXNfaW4gKiAxMDAwXG5cdFx0XHR9KTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRyZXR1cm4gZXJyb3IoJ1VuYWJsZSB0byBwYXJzZSB0b2tlbiByZXNwb25zZScpO1xuXHRcdH1cblx0fVxuXG5cdHN0YXRpYyBwYXJzZVNlc3Npb25SZXNwb25zZShyZXNwb25zZTogc3RyaW5nKTogUmVzdWx0PHN0cmluZywgc3RyaW5nPiB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xuXHRcdFx0aWYgKHBhcnNlZC5zZXNzaW9uSWQpIHtcblx0XHRcdFx0cmV0dXJuIG9rKHBhcnNlZC5zZXNzaW9uSWQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGVycm9yKCdzZXNzaW9uSWQgZG9lcyBub3QgZXhpc3Qgb24gcGFyc2VkIG9iamVjdCcpO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHJldHVybiBlcnJvcignVW5hYmxlIHRvIHBhcnNlIHNlc3Npb24gcmVzcG9uc2UnKTtcblx0XHR9XG5cdH1cblxuXHQvLyBUaGUgYm9sdCBvYmplY3QgZnJvbSB0aGUgQysrIGFwcCBoYXMgaXRzIHZhbHVlcyBiYXNlNjQgZW5jb2RlZC5cblx0Ly8gVGhpcyB3aWxsIGRlY29kZSBlYWNoIHZhbHVlLCBhbmQgcmV0dXJuIHRoZSBvcmlnaW5hbCBzdHJ1Y3R1cmVcblx0c3RhdGljIGRlY29kZUJvbHQoZW5jb2RlZDogQm9sdEVudik6IEJvbHRFbnYge1xuXHRcdGNvbnN0IGRlY29kZWRPYmplY3Q6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHN0cmluZ1tdPiA9IHt9O1xuXHRcdGZvciAoY29uc3QgX2tleSBpbiBlbmNvZGVkKSB7XG5cdFx0XHRjb25zdCBrZXkgPSBfa2V5IGFzIGtleW9mIEJvbHRFbnY7XG5cdFx0XHRjb25zdCB2YWx1ZSA9IGVuY29kZWRba2V5XTtcblx0XHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdGRlY29kZWRPYmplY3Rba2V5XSA9IGF0b2IodmFsdWUpO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5ldmVyeSgoaXRlbSkgPT4gdHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnKSkge1xuXHRcdFx0XHRkZWNvZGVkT2JqZWN0W2tleV0gPSB2YWx1ZS5tYXAoKGl0ZW0pID0+IGF0b2IoaXRlbSkpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVjb2RlZE9iamVjdFtrZXldID0gdmFsdWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRlY29kZWRPYmplY3QgYXMgdW5rbm93biBhcyBCb2x0RW52O1xuXHR9XG59XG4iLCJpbXBvcnQgeyBQYXJzZVV0aWxzIH0gZnJvbSAnJGxpYi9VdGlsL1BhcnNlVXRpbHMnO1xuaW1wb3J0IHR5cGUgeyBQbHVnaW5NZXRhIH0gZnJvbSAnJGxpYi9VdGlsL2ludGVyZmFjZXMnO1xuXG5leHBvcnQgY29uc3QgZW51bSBQbGF0Zm9ybSB7XG5cdFdpbmRvd3MgPSAnd2luZG93cycsXG5cdExpbnV4ID0gJ2xpbnV4Jyxcblx0TWFjT1MgPSAnbWFjJ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJvbHRFbnYge1xuXHRwcm92aWRlcjogc3RyaW5nO1xuXHRvcmlnaW46IHN0cmluZztcblx0b3JpZ2luXzJmYTogc3RyaW5nO1xuXHRyZWRpcmVjdDogc3RyaW5nO1xuXHRjbGllbnRpZDogc3RyaW5nO1xuXHRhcGk6IHN0cmluZztcblx0YXV0aF9hcGk6IHN0cmluZztcblx0cHJvZmlsZV9hcGk6IHN0cmluZztcblx0c2hpZWxkX3VybDogc3RyaW5nO1xuXHRjb250ZW50X3VybDogc3RyaW5nO1xuXHRkaXJlY3Q2X3VybDogc3RyaW5nO1xuXHRkZWZhdWx0X2NvbmZpZ191cmk6IHN0cmluZztcblx0Z2FtZXM6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJvbHQge1xuXHRlbnY6IEJvbHRFbnY7XG5cdGludGVybmFsVXJsOiBzdHJpbmc7XG5cdHBsYXRmb3JtOiBQbGF0Zm9ybSB8IG51bGw7XG5cdC8vIFRPRE86IHNpbXBsaWZ5IGluc3RhbGxlZCBoYXNoIHN5c3RlbSAoMSB2YXJpYWJsZSBpbnN0ZWFkIG9mIG11bHRpcGxlPylcblx0cnMzRGViSW5zdGFsbGVkSGFzaDogc3RyaW5nIHwgbnVsbDtcblx0cnMzRXhlSW5zdGFsbGVkSGFzaDogc3RyaW5nIHwgbnVsbDtcblx0cnMzQXBwSW5zdGFsbGVkSGFzaDogc3RyaW5nIHwgbnVsbDtcblx0b3Nyc0V4ZUluc3RhbGxlZEhhc2g6IHN0cmluZyB8IG51bGw7XG5cdG9zcnNBcHBJbnN0YWxsZWRIYXNoOiBzdHJpbmcgfCBudWxsO1xuXHRydW5lTGl0ZUluc3RhbGxlZElkOiBzdHJpbmcgfCBudWxsO1xuXHRoZG9zSW5zdGFsbGVkVmVyc2lvbjogc3RyaW5nIHwgbnVsbDtcblx0aXNGbGF0aHViOiBib29sZWFuO1xuXHRoYXNCb2x0UGx1Z2luczogYm9vbGVhbjtcblx0cGx1Z2luTGlzdDogeyBba2V5OiBzdHJpbmddOiBQbHVnaW5NZXRhIH07IC8vIE1heSBuZWVkIHRvIGJlIGEgd3JpdGFibGVcbn1cblxuZGVjbGFyZSBjb25zdCBzOiAoKSA9PiBCb2x0RW52O1xuXG5leHBvcnQgY29uc3QgYm9sdDogQm9sdCA9IHtcblx0ZW52OiBQYXJzZVV0aWxzLmRlY29kZUJvbHQocygpKSxcblx0aW50ZXJuYWxVcmw6ICdodHRwczovL2JvbHQtaW50ZXJuYWwnLFxuXHRwbGF0Zm9ybTogbnVsbCxcblx0cnMzRGViSW5zdGFsbGVkSGFzaDogbnVsbCxcblx0cnMzRXhlSW5zdGFsbGVkSGFzaDogbnVsbCxcblx0cnMzQXBwSW5zdGFsbGVkSGFzaDogbnVsbCxcblx0b3Nyc0V4ZUluc3RhbGxlZEhhc2g6IG51bGwsXG5cdG9zcnNBcHBJbnN0YWxsZWRIYXNoOiBudWxsLFxuXHRydW5lTGl0ZUluc3RhbGxlZElkOiBudWxsLFxuXHRoZG9zSW5zdGFsbGVkVmVyc2lvbjogbnVsbCxcblx0aXNGbGF0aHViOiBmYWxzZSxcblx0aGFzQm9sdFBsdWdpbnM6IGZhbHNlLFxuXHRwbHVnaW5MaXN0OiB7fVxufTtcbiIsImV4cG9ydCBjbGFzcyBTdHJpbmdVdGlscyB7XG5cdC8vIGJ1aWxkcyB0aGUgdXJsIHRvIGJlIG9wZW5lZCBpbiB0aGUgbG9naW4gd2luZG93XG5cdHN0YXRpYyBhc3luYyBtYWtlTG9naW5VcmwodXJsOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KSB7XG5cdFx0Y29uc3QgdmVyaWZpZXJEYXRhID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHVybC5wa2NlQ29kZVZlcmlmaWVyKTtcblx0XHRjb25zdCBkaWdlc3RlZCA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KCdTSEEtMjU2JywgdmVyaWZpZXJEYXRhKTtcblx0XHRsZXQgcmF3ID0gJyc7XG5cdFx0Y29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShkaWdlc3RlZCk7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBieXRlcy5ieXRlTGVuZ3RoOyBpKyspIHtcblx0XHRcdHJhdyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldKTtcblx0XHR9XG5cdFx0Y29uc3QgY29kZUNoYWxsZW5nZSA9IGJ0b2EocmF3KS5yZXBsYWNlKC9cXCsvZywgJy0nKS5yZXBsYWNlKC9cXC8vZywgJ18nKS5yZXBsYWNlKC89KyQvLCAnJyk7XG5cdFx0cmV0dXJuIHVybC5vcmlnaW4uY29uY2F0KCcvb2F1dGgyL2F1dGg/JykuY29uY2F0KFxuXHRcdFx0bmV3IFVSTFNlYXJjaFBhcmFtcyh7XG5cdFx0XHRcdGF1dGhfbWV0aG9kOiB1cmwuYXV0aE1ldGhvZCxcblx0XHRcdFx0bG9naW5fdHlwZTogdXJsLmxvZ2luVHlwZSxcblx0XHRcdFx0ZmxvdzogdXJsLmZsb3csXG5cdFx0XHRcdHJlc3BvbnNlX3R5cGU6ICdjb2RlJyxcblx0XHRcdFx0Y2xpZW50X2lkOiB1cmwuY2xpZW50aWQsXG5cdFx0XHRcdHJlZGlyZWN0X3VyaTogdXJsLnJlZGlyZWN0LFxuXHRcdFx0XHRjb2RlX2NoYWxsZW5nZTogY29kZUNoYWxsZW5nZSxcblx0XHRcdFx0Y29kZV9jaGFsbGVuZ2VfbWV0aG9kOiAnUzI1NicsXG5cdFx0XHRcdHByb21wdDogJ2xvZ2luJyxcblx0XHRcdFx0c2NvcGU6ICdvcGVuaWQgb2ZmbGluZSBnYW1lc3NvLnRva2VuLmNyZWF0ZSB1c2VyLnByb2ZpbGUucmVhZCcsXG5cdFx0XHRcdHN0YXRlOiB1cmwucGtjZVN0YXRlXG5cdFx0XHR9KS50b1N0cmluZygpXG5cdFx0KTtcblx0fVxuXG5cdC8vIGJ1aWxkcyBhIHJhbmRvbSBQS0NFIHZlcmlmaWVyIHN0cmluZyB1c2luZyBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzXG5cdHN0YXRpYyBtYWtlUmFuZG9tVmVyaWZpZXIoKSB7XG5cdFx0Y29uc3QgdCA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OS0uX34nO1xuXHRcdGNvbnN0IG4gPSBuZXcgVWludDMyQXJyYXkoNDMpO1xuXHRcdGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobik7XG5cdFx0cmV0dXJuIEFycmF5LmZyb20obiwgZnVuY3Rpb24gKGUpIHtcblx0XHRcdHJldHVybiB0W2UgJSB0Lmxlbmd0aF07XG5cdFx0fSkuam9pbignJyk7XG5cdH1cblxuXHQvLyBidWlsZHMgYSByYW5kb20gUEtDRSBzdGF0ZSBzdHJpbmcgdXNpbmcgY3J5cHRvLmdldFJhbmRvbVZhbHVlc1xuXHRzdGF0aWMgbWFrZVJhbmRvbVN0YXRlKCkge1xuXHRcdGNvbnN0IHQgPSAwO1xuXHRcdGNvbnN0IHIgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eic7XG5cdFx0Y29uc3QgbiA9IHIubGVuZ3RoIC0gMTtcblxuXHRcdGNvbnN0IG8gPSBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEyKSk7XG5cdFx0cmV0dXJuIEFycmF5LmZyb20obylcblx0XHRcdC5tYXAoKGUpID0+IHtcblx0XHRcdFx0cmV0dXJuIE1hdGgucm91bmQoKGUgKiAobiAtIHQpKSAvIDI1NSArIHQpO1xuXHRcdFx0fSlcblx0XHRcdC5tYXAoKGUpID0+IHtcblx0XHRcdFx0cmV0dXJuIHJbZV07XG5cdFx0XHR9KVxuXHRcdFx0LmpvaW4oJycpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBUaW1lIH0gZnJvbSAnJGxpYi9FbnVtcy9UaW1lJztcbmltcG9ydCB7IENvb2tpZVNlcnZpY2UgfSBmcm9tICckbGliL1NlcnZpY2VzL0Nvb2tpZVNlcnZpY2UnO1xuaW1wb3J0IHsgYm9sdCB9IGZyb20gJyRsaWIvU3RhdGUvQm9sdCc7XG5pbXBvcnQgeyBQYXJzZVV0aWxzIH0gZnJvbSAnJGxpYi9VdGlsL1BhcnNlVXRpbHMnO1xuaW1wb3J0IHsgU3RyaW5nVXRpbHMgfSBmcm9tICckbGliL1V0aWwvU3RyaW5nVXRpbHMnO1xuaW1wb3J0IHsgZXJyb3IsIG9rLCB0eXBlIFJlc3VsdCB9IGZyb20gJyRsaWIvVXRpbC9pbnRlcmZhY2VzJztcblxuZXhwb3J0IGludGVyZmFjZSBBdXRoVG9rZW5zIHtcblx0YWNjZXNzX3Rva2VuOiBzdHJpbmc7XG5cdGlkX3Rva2VuOiBzdHJpbmc7XG5cdHJlZnJlc2hfdG9rZW46IHN0cmluZztcblx0c3ViOiBzdHJpbmc7IC8vIGVxdWl2YWxlbnQgdG8gdXNlcklkIG9uIHRoZSBVc2VyIG9iamVjdFxuXHRleHBpcnk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIEF1dGhTZXJ2aWNlIHtcblx0c3RhdGljIHBlbmRpbmdMb2dpbldpbmRvdzogV2luZG93IHwgbnVsbCA9IG51bGw7XG5cblx0c3RhdGljIGFzeW5jIG9wZW5Mb2dpbldpbmRvdyhvcmlnaW46IHN0cmluZywgcmVkaXJlY3Q6IHN0cmluZywgY2xpZW50aWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGlmIChBdXRoU2VydmljZS5wZW5kaW5nTG9naW5XaW5kb3cgIT09IG51bGwpIHtcblx0XHRcdHJldHVybiBBdXRoU2VydmljZS5wZW5kaW5nTG9naW5XaW5kb3cud2luZG93LmZvY3VzKCk7XG5cdFx0fVxuXG5cdFx0Y29uc3Qgc3RhdGUgPSBTdHJpbmdVdGlscy5tYWtlUmFuZG9tU3RhdGUoKTtcblx0XHRjb25zdCB2ZXJpZmllciA9IFN0cmluZ1V0aWxzLm1ha2VSYW5kb21WZXJpZmllcigpO1xuXHRcdGNvbnN0IHZlcmlmaWVyRGF0YSA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh2ZXJpZmllcik7XG5cdFx0Y29uc3QgZGlnZXN0ZWQgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdCgnU0hBLTI1NicsIHZlcmlmaWVyRGF0YSk7XG5cdFx0bGV0IHJhdyA9ICcnO1xuXHRcdGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoZGlnZXN0ZWQpO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMuYnl0ZUxlbmd0aDsgaSsrKSB7XG5cdFx0XHRyYXcgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSk7XG5cdFx0fVxuXHRcdGNvbnN0IGNvZGVDaGFsbGVuZ2UgPSBidG9hKHJhdykucmVwbGFjZSgvXFwrL2csICctJykucmVwbGFjZSgvXFwvL2csICdfJykucmVwbGFjZSgvPSskLywgJycpO1xuXHRcdGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xuXHRcdFx0YXV0aF9tZXRob2Q6ICcnLFxuXHRcdFx0bG9naW5fdHlwZTogJycsXG5cdFx0XHRmbG93OiAnbGF1bmNoZXInLFxuXHRcdFx0cmVzcG9uc2VfdHlwZTogJ2NvZGUnLFxuXHRcdFx0Y2xpZW50X2lkOiBjbGllbnRpZCxcblx0XHRcdHJlZGlyZWN0X3VyaTogcmVkaXJlY3QsXG5cdFx0XHRjb2RlX2NoYWxsZW5nZTogY29kZUNoYWxsZW5nZSxcblx0XHRcdGNvZGVfY2hhbGxlbmdlX21ldGhvZDogJ1MyNTYnLFxuXHRcdFx0cHJvbXB0OiAnbG9naW4nLFxuXHRcdFx0c2NvcGU6ICdvcGVuaWQgb2ZmbGluZSBnYW1lc3NvLnRva2VuLmNyZWF0ZSB1c2VyLnByb2ZpbGUucmVhZCcsXG5cdFx0XHRzdGF0ZTogc3RhdGVcblx0XHR9KTtcblxuXHRcdGNvbnN0IGxvZ2luVXJsID0gYCR7b3JpZ2lufS9vYXV0aDIvYXV0aD8ke3BhcmFtcy50b1N0cmluZygpfWA7XG5cdFx0Ly8gR2l2ZSBwb3B1cCB3aW5kb3cgYWNjZXNzIHRvIHRoZSB2ZXJpZmllciBjb2RlXG5cdFx0Q29va2llU2VydmljZS5zZXQoJ2F1dGhfdmVyaWZpZXInLCB2ZXJpZmllciwgMTAsIFRpbWUuTUlOVVRFKTtcblx0XHRBdXRoU2VydmljZS5wZW5kaW5nTG9naW5XaW5kb3cgPSB3aW5kb3cub3Blbihsb2dpblVybCwgJycsICd3aWR0aD00ODAsaGVpZ2h0PTcyMCcpO1xuXHR9XG5cblx0c3RhdGljIG5hdmlnYXRlVG9BdXRoQ29uc2VudChvcmlnaW46IHN0cmluZywgaWRfdG9rZW46IHN0cmluZywgbm9uY2U6IHN0cmluZykge1xuXHRcdGNvbnN0IHN0YXRlID0gU3RyaW5nVXRpbHMubWFrZVJhbmRvbVN0YXRlKCk7XG5cdFx0Y29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XG5cdFx0XHRpZF90b2tlbl9oaW50OiBpZF90b2tlbixcblx0XHRcdG5vbmNlOiBub25jZSxcblx0XHRcdHByb21wdDogJ2NvbnNlbnQnLFxuXHRcdFx0cmVkaXJlY3RfdXJpOiAnaHR0cDovL2xvY2FsaG9zdCcsXG5cdFx0XHRyZXNwb25zZV90eXBlOiAnaWRfdG9rZW4gY29kZScsXG5cdFx0XHRzdGF0ZTogc3RhdGUsXG5cdFx0XHRjbGllbnRfaWQ6ICcxZmRkZWU0ZS1iMTAwLTRmNGUtYjJiMC0wOTdmOTA4OGY5ZDInLFxuXHRcdFx0c2NvcGU6ICdvcGVuaWQgb2ZmbGluZSdcblx0XHR9KTtcblx0XHRjb25zdCBjb25zZW50VXJsID0gYCR7b3JpZ2lufS9vYXV0aDIvYXV0aD8ke3BhcmFtcy50b1N0cmluZygpfWA7XG5cdFx0Q29va2llU2VydmljZS5zZXQoJ2F1dGhfbm9uY2UnLCBub25jZSwgMTAsIFRpbWUuTUlOVVRFKTtcblx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9IGNvbnNlbnRVcmw7XG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2tzIGlmIGBhdXRoVG9rZW5zYCBpcyBhYm91dCB0byBleHBpcmUgb3IgaGFzIGFscmVhZHkgZXhwaXJlZC5cblx0ICogSWYgZXhwaXJlZCwgcmV0dXJuIHRoZSBuZXcgc2V0IG9mIEF1dGhUb2tlbnMuXG5cdCAqIElmIGV4cGlyZWQsIGJ1dCBmYWlscyB0byByZWZyZXNoLCByZXR1cm4gdGhlIEhUVFAgc3RhdHVzIGNvZGUgb2YgdGhlIHJlcXVlc3Rcblx0ICogMCBtZWFucyB0aGUgcmVxdWVzdCBmYWlsZWQgZm9yIGFuIHVua25vd24gcmVhc29uIChsaWtlbHkgYmFkIGludGVybmV0IGNvbm5lY3Rpb24pXG5cdCAqIEFueSBvdGhlciBjb2RlIG1lYW5zIGl0IHNob3VsZCBiZSByZW1vdmVkIGZyb20gZGlzaywgYXMgaXQgaXMgbm8gbG9uZ2VyIHZhbGlkLlxuXHQgKi9cblx0c3RhdGljIGFzeW5jIHJlZnJlc2hPQXV0aFRva2VuKGF1dGhUb2tlbnM6IEF1dGhUb2tlbnMpOiBQcm9taXNlPFJlc3VsdDxBdXRoVG9rZW5zLCBudW1iZXI+PiB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG5cdFx0XHQvLyBvbmx5IHJlbmV3IGlmIGxlc3MgdGhhbiAzMCBzZWNvbmRzIGxlZnRcblx0XHRcdGlmIChhdXRoVG9rZW5zLmV4cGlyeSAtIERhdGUubm93KCkgPCAzMDAwMCkge1xuXHRcdFx0XHRjb25zdCBwb3N0RGF0YSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xuXHRcdFx0XHRcdGdyYW50X3R5cGU6ICdyZWZyZXNoX3Rva2VuJyxcblx0XHRcdFx0XHRjbGllbnRfaWQ6IGJvbHQuZW52LmNsaWVudGlkLFxuXHRcdFx0XHRcdHJlZnJlc2hfdG9rZW46IGF1dGhUb2tlbnMucmVmcmVzaF90b2tlblxuXHRcdFx0XHR9KTtcblx0XHRcdFx0Y29uc3QgeG1sID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cdFx0XHRcdHhtbC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKHhtbC5yZWFkeVN0YXRlID09IDQpIHtcblx0XHRcdFx0XHRcdGlmICh4bWwuc3RhdHVzID09IDIwMCkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBjcmVkZW50aWFsUmVzdWx0ID0gUGFyc2VVdGlscy5wYXJzZVRva2VuUmVzcG9uc2UoeG1sLnJlc3BvbnNlKTtcblx0XHRcdFx0XHRcdFx0aWYgKGNyZWRlbnRpYWxSZXN1bHQub2spIHtcblx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKG9rKGNyZWRlbnRpYWxSZXN1bHQudmFsdWUpKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKGVycm9yKDApKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShlcnJvcih4bWwuc3RhdHVzKSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0XHR4bWwub25lcnJvciA9ICgpID0+IHtcblx0XHRcdFx0XHRyZXNvbHZlKGVycm9yKDApKTtcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29uc3QgdXJsID0gYm9sdC5lbnYub3JpZ2luLmNvbmNhdCgnL29hdXRoMi90b2tlbicpO1xuXHRcdFx0XHR4bWwub3BlbignUE9TVCcsIHVybCwgdHJ1ZSk7XG5cdFx0XHRcdHhtbC5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyk7XG5cdFx0XHRcdHhtbC5zZXRSZXF1ZXN0SGVhZGVyKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXHRcdFx0XHR4bWwuc2VuZChwb3N0RGF0YSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXNvbHZlKG9rKGF1dGhUb2tlbnMpKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdHN0YXRpYyBhc3luYyBnZXRPQXV0aFRva2VuKFxuXHRcdG9yaWdpbjogc3RyaW5nLFxuXHRcdGNsaWVudF9pZDogc3RyaW5nLFxuXHRcdGNvZGVfdmVyaWZpZXI6IHN0cmluZyxcblx0XHRyZWRpcmVjdF91cmk6IHN0cmluZyxcblx0XHRhdXRoQ29kZTogc3RyaW5nXG5cdCk6IFByb21pc2U8UmVzdWx0PEF1dGhUb2tlbnMsIHN0cmluZz4+IHtcblx0XHRjb25zdCB0b2tlblVybCA9IGAke29yaWdpbn0vb2F1dGgyL3Rva2VuYDtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcblx0XHRcdGNvbnN0IHhtbCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXHRcdFx0eG1sLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcblx0XHRcdFx0aWYgKHhtbC5yZWFkeVN0YXRlID09IDQpIHtcblx0XHRcdFx0XHRpZiAoeG1sLnN0YXR1cyA9PSAyMDApIHtcblx0XHRcdFx0XHRcdGNvbnN0IHBhcnNlUmVzdWx0ID0gUGFyc2VVdGlscy5wYXJzZVRva2VuUmVzcG9uc2UoeG1sLnJlc3BvbnNlKTtcblx0XHRcdFx0XHRcdGlmIChwYXJzZVJlc3VsdC5vaykge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzb2x2ZShvayhwYXJzZVJlc3VsdC52YWx1ZSkpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc29sdmUoZXJyb3IocGFyc2VSZXN1bHQuZXJyb3IpKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJlc29sdmUoZXJyb3IoYEVycm9yOiBmcm9tICR7dG9rZW5Vcmx9OiAke3htbC5zdGF0dXN9OiAke3htbC5yZXNwb25zZX1gKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0eG1sLm9wZW4oJ1BPU1QnLCB0b2tlblVybCwgdHJ1ZSk7XG5cdFx0XHR4bWwuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpO1xuXHRcdFx0eG1sLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cdFx0XHRjb25zdCBwb3N0X2RhdGEgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcblx0XHRcdFx0Z3JhbnRfdHlwZTogJ2F1dGhvcml6YXRpb25fY29kZScsXG5cdFx0XHRcdGNsaWVudF9pZCxcblx0XHRcdFx0Y29kZTogYXV0aENvZGUsXG5cdFx0XHRcdGNvZGVfdmVyaWZpZXIsXG5cdFx0XHRcdHJlZGlyZWN0X3VyaVxuXHRcdFx0fSk7XG5cdFx0XHR4bWwuc2VuZChwb3N0X2RhdGEpO1xuXHRcdH0pO1xuXHR9XG5cblx0c3RhdGljIHJldm9rZU9hdXRoQ3JlZHMoYWNjZXNzX3Rva2VuOiBzdHJpbmcpIHtcblx0XHRjb25zdCByZXZva2VVcmwgPSBgJHtib2x0LmVudi5vcmlnaW59L29hdXRoMi9yZXZva2VgO1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuXHRcdFx0Y29uc3QgeG1sID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cdFx0XHR4bWwub3BlbignUE9TVCcsIHJldm9rZVVybCwgdHJ1ZSk7XG5cdFx0XHR4bWwub25yZWFkeXN0YXRlY2hhbmdlID0gKCkgPT4ge1xuXHRcdFx0XHRpZiAoeG1sLnJlYWR5U3RhdGUgPT0gNCkge1xuXHRcdFx0XHRcdHJlc29sdmUoeG1sLnN0YXR1cyk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHR4bWwuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpO1xuXHRcdFx0Y29uc3QgcG9zdF9kYXRhID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7IHRva2VuOiBhY2Nlc3NfdG9rZW4sIGNsaWVudF9pZDogYm9sdC5lbnYuY2xpZW50aWQgfSk7XG5cdFx0XHR4bWwuc2VuZChwb3N0X2RhdGEpO1xuXHRcdH0pO1xuXHR9XG5cblx0c3RhdGljIGFzeW5jIGdldFNlc3Npb25JZChhdXRoX2FwaTogc3RyaW5nLCBpZFRva2VuOiBzdHJpbmcpOiBQcm9taXNlPFJlc3VsdDxzdHJpbmcsIHN0cmluZz4+IHtcblx0XHRjb25zdCBzZXNzaW9uc1VybCA9IGAke2F1dGhfYXBpfS9zZXNzaW9uc2A7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG5cdFx0XHRjb25zdCB4bWwgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0XHRcdHhtbC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7XG5cdFx0XHRcdGlmICh4bWwucmVhZHlTdGF0ZSA9PSA0KSB7XG5cdFx0XHRcdFx0aWYgKHhtbC5zdGF0dXMgPT0gMjAwKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBwYXJzZVJlc3VsdCA9IFBhcnNlVXRpbHMucGFyc2VTZXNzaW9uUmVzcG9uc2UoeG1sLnJlc3BvbnNlKTtcblx0XHRcdFx0XHRcdGlmIChwYXJzZVJlc3VsdC5vaykge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzb2x2ZShvayhwYXJzZVJlc3VsdC52YWx1ZSkpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc29sdmUoZXJyb3IocGFyc2VSZXN1bHQuZXJyb3IpKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZXJyb3IoYEVycm9yOiBmcm9tICR7c2Vzc2lvbnNVcmx9OiAke3htbC5zdGF0dXN9OiAke3htbC5yZXNwb25zZX1gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHR4bWwub3BlbignUE9TVCcsIHNlc3Npb25zVXJsLCB0cnVlKTtcblx0XHRcdHhtbC5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXHRcdFx0eG1sLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cdFx0XHRjb25zdCBwYXJhbXMgPSB7XG5cdFx0XHRcdGlkVG9rZW46IGlkVG9rZW5cblx0XHRcdH07XG5cdFx0XHR4bWwuc2VuZChKU09OLnN0cmluZ2lmeShwYXJhbXMpKTtcblx0XHR9KTtcblx0fVxuXG5cdHN0YXRpYyB2YWxpZGF0ZUlkVG9rZW4odG9rZW46IHN0cmluZywgZXhwZWN0ZWROb25jZTogc3RyaW5nKTogUmVzdWx0PHVuZGVmaW5lZCwgc3RyaW5nPiB7XG5cdFx0Y29uc3Qgc2VjdGlvbnMgPSB0b2tlbi5zcGxpdCgnLicpO1xuXHRcdGlmIChzZWN0aW9ucy5sZW5ndGggIT09IDMpIHtcblx0XHRcdHJldHVybiBlcnJvcihgTWFsZm9ybWVkIGlkX3Rva2VuOiAke3NlY3Rpb25zLmxlbmd0aH0gc2VjdGlvbnMsIGV4cGVjdGVkIDNgKTtcblx0XHR9XG5cdFx0Y29uc3QgaGVhZGVyID0gSlNPTi5wYXJzZShhdG9iKHNlY3Rpb25zWzBdKSk7XG5cdFx0aWYgKGhlYWRlci50eXAgIT09ICdKV1QnKSB7XG5cdFx0XHRyZXR1cm4gZXJyb3IoYEJhZCBpZF90b2tlbiBoZWFkZXI6IHR5cCAke2hlYWRlci50eXB9LCBleHBlY3RlZCBKV1RgKTtcblx0XHR9XG5cdFx0Y29uc3QgcGF5bG9hZCA9IEpTT04ucGFyc2UoYXRvYihzZWN0aW9uc1sxXSkpO1xuXHRcdGlmIChwYXlsb2FkLm5vbmNlICE9PSBleHBlY3RlZE5vbmNlKSB7XG5cdFx0XHRyZXR1cm4gZXJyb3IoJ0luY29ycmVjdCBub25jZSBpbiBpZF90b2tlbicpO1xuXHRcdH1cblxuXHRcdHJldHVybiBvayh1bmRlZmluZWQpO1xuXHR9XG59XG4iLCJpbXBvcnQgdHlwZSB7IEF1dGhUb2tlbnMgfSBmcm9tICckbGliL1NlcnZpY2VzL0F1dGhTZXJ2aWNlJztcbmltcG9ydCB7IGJvbHQgfSBmcm9tICckbGliL1N0YXRlL0JvbHQnO1xuaW1wb3J0IHsgZXJyb3IsIG9rLCB0eXBlIFJlc3VsdCB9IGZyb20gJyRsaWIvVXRpbC9pbnRlcmZhY2VzJztcblxuZXhwb3J0IGludGVyZmFjZSBVc2VyIHtcblx0aWQ6IHN0cmluZztcblx0dXNlcklkOiBzdHJpbmc7XG5cdGRpc3BsYXlOYW1lOiBzdHJpbmc7XG5cdHN1ZmZpeDogc3RyaW5nO1xufVxuXG4vLyBpbi1nYW1lIGFjY291bnQgZGV0YWlsc1xuZXhwb3J0IGludGVyZmFjZSBBY2NvdW50IHtcblx0YWNjb3VudElkOiBzdHJpbmc7XG5cdGRpc3BsYXlOYW1lOiBzdHJpbmc7XG5cdHVzZXJIYXNoOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2Vzc2lvbiB7XG5cdHVzZXI6IFVzZXI7XG5cdGFjY291bnRzOiBBY2NvdW50W107XG5cdHRva2VuczogQXV0aFRva2Vucztcblx0c2Vzc2lvbl9pZDogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgVXNlclNlcnZpY2Uge1xuXHRzdGF0aWMgYXN5bmMgYnVpbGRTZXNzaW9uKFxuXHRcdHRva2VuczogQXV0aFRva2Vucyxcblx0XHRzZXNzaW9uX2lkOiBzdHJpbmdcblx0KTogUHJvbWlzZTxSZXN1bHQ8U2Vzc2lvbiwgc3RyaW5nPj4ge1xuXHRcdGNvbnN0IHVzZXJSZXN1bHQgPSBhd2FpdCBVc2VyU2VydmljZS5nZXRVc2VyKHRva2Vucy5zdWIsIHRva2Vucy5hY2Nlc3NfdG9rZW4pO1xuXHRcdGlmICghdXNlclJlc3VsdC5vaykge1xuXHRcdFx0cmV0dXJuIGVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggdXNlci4gU3RhdHVzOiAke3VzZXJSZXN1bHQuZXJyb3J9YCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgYWNjb3VudFJlc3VsdCA9IGF3YWl0IFVzZXJTZXJ2aWNlLmdldFVzZXJBY2NvdW50cyhzZXNzaW9uX2lkKTtcblx0XHRpZiAoIWFjY291bnRSZXN1bHQub2spIHtcblx0XHRcdHJldHVybiBlcnJvcihgRmFpbGVkIHRvIGZldGNoIGdhbWUgYWNjb3VudHMuIFN0YXR1czogJHthY2NvdW50UmVzdWx0LmVycm9yfWApO1xuXHRcdH1cblxuXHRcdHJldHVybiBvayh7XG5cdFx0XHR1c2VyOiB1c2VyUmVzdWx0LnZhbHVlLFxuXHRcdFx0YWNjb3VudHM6IGFjY291bnRSZXN1bHQudmFsdWUsXG5cdFx0XHR0b2tlbnM6IHRva2Vucyxcblx0XHRcdHNlc3Npb25faWQ6IHNlc3Npb25faWRcblx0XHR9KTtcblx0fVxuXG5cdHN0YXRpYyBnZXRVc2VyKHVzZXJJZDogc3RyaW5nLCBhY2Nlc3NfdG9rZW46IHN0cmluZyk6IFByb21pc2U8UmVzdWx0PFVzZXIsIG51bWJlcj4+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcblx0XHRcdGNvbnN0IHVybCA9IGAke2JvbHQuZW52LmFwaX0vdXNlcnMvJHt1c2VySWR9L2Rpc3BsYXlOYW1lYDtcblx0XHRcdGNvbnN0IHhtbCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXHRcdFx0eG1sLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcblx0XHRcdFx0aWYgKHhtbC5yZWFkeVN0YXRlID09IDQpIHtcblx0XHRcdFx0XHRpZiAoeG1sLnN0YXR1cyA9PSAyMDApIHtcblx0XHRcdFx0XHRcdGNvbnN0IHVzZXIgPSBKU09OLnBhcnNlKHhtbC5yZXNwb25zZSkgYXMgVXNlcjtcblx0XHRcdFx0XHRcdHJlc29sdmUob2sodXNlcikpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKGVycm9yKHhtbC5zdGF0dXMpKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHR4bWwub3BlbignR0VUJywgdXJsLCB0cnVlKTtcblx0XHRcdHhtbC5zZXRSZXF1ZXN0SGVhZGVyKCdBdXRob3JpemF0aW9uJywgJ0JlYXJlciAnLmNvbmNhdChhY2Nlc3NfdG9rZW4pKTtcblx0XHRcdHhtbC5zZW5kKCk7XG5cdFx0fSk7XG5cdH1cblxuXHRzdGF0aWMgZ2V0VXNlckFjY291bnRzKHNlc3Npb25faWQ6IHN0cmluZyk6IFByb21pc2U8UmVzdWx0PEFjY291bnRbXSwgbnVtYmVyPj4ge1xuXHRcdGNvbnN0IGFjY291bnRzVXJsID0gYCR7Ym9sdC5lbnYuYXV0aF9hcGl9L2FjY291bnRzYDtcblxuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuXHRcdFx0Y29uc3QgeG1sID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cdFx0XHR4bWwub25yZWFkeXN0YXRlY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRpZiAoeG1sLnJlYWR5U3RhdGUgPT0gNCkge1xuXHRcdFx0XHRcdGlmICh4bWwuc3RhdHVzID09IDIwMCkge1xuXHRcdFx0XHRcdFx0Y29uc3QgYWNjb3VudHMgPSBKU09OLnBhcnNlKHhtbC5yZXNwb25zZSkgYXMgQWNjb3VudFtdO1xuXHRcdFx0XHRcdFx0cmVzb2x2ZShvayhhY2NvdW50cykpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKGVycm9yKHhtbC5zdGF0dXMpKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHR4bWwub3BlbignR0VUJywgYWNjb3VudHNVcmwsIHRydWUpO1xuXHRcdFx0eG1sLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cdFx0XHR4bWwuc2V0UmVxdWVzdEhlYWRlcignQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJy5jb25jYXQoc2Vzc2lvbl9pZCkpO1xuXHRcdFx0eG1sLnNlbmQoKTtcblx0XHR9KTtcblx0fVxufVxuIiwiLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5leHBvcnQgY29uc3QgaWRlbnRpdHkgPSAoeCkgPT4geDtcblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHRlbXBsYXRlIFNcbiAqIEBwYXJhbSB7VH0gdGFyXG4gKiBAcGFyYW0ge1N9IHNyY1xuICogQHJldHVybnMge1QgJiBTfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduKHRhciwgc3JjKSB7XG5cdC8vIEB0cy1pZ25vcmVcblx0Zm9yIChjb25zdCBrIGluIHNyYykgdGFyW2tdID0gc3JjW2tdO1xuXHRyZXR1cm4gLyoqIEB0eXBlIHtUICYgU30gKi8gKHRhcik7XG59XG5cbi8vIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vdGhlbi9pcy1wcm9taXNlL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG4vLyBEaXN0cmlidXRlZCB1bmRlciBNSVQgTGljZW5zZSBodHRwczovL2dpdGh1Yi5jb20vdGhlbi9pcy1wcm9taXNlL2Jsb2IvbWFzdGVyL0xJQ0VOU0Vcbi8qKlxuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKiBAcmV0dXJucyB7dmFsdWUgaXMgUHJvbWlzZUxpa2U8YW55Pn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX3Byb21pc2UodmFsdWUpIHtcblx0cmV0dXJuIChcblx0XHQhIXZhbHVlICYmXG5cdFx0KHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSAmJlxuXHRcdHR5cGVvZiAoLyoqIEB0eXBlIHthbnl9ICovICh2YWx1ZSkudGhlbikgPT09ICdmdW5jdGlvbidcblx0KTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZF9sb2NhdGlvbihlbGVtZW50LCBmaWxlLCBsaW5lLCBjb2x1bW4sIGNoYXIpIHtcblx0ZWxlbWVudC5fX3N2ZWx0ZV9tZXRhID0ge1xuXHRcdGxvYzogeyBmaWxlLCBsaW5lLCBjb2x1bW4sIGNoYXIgfVxuXHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcnVuKGZuKSB7XG5cdHJldHVybiBmbigpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmxhbmtfb2JqZWN0KCkge1xuXHRyZXR1cm4gT2JqZWN0LmNyZWF0ZShudWxsKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0Z1bmN0aW9uW119IGZuc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBydW5fYWxsKGZucykge1xuXHRmbnMuZm9yRWFjaChydW4pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7YW55fSB0aGluZ1xuICogQHJldHVybnMge3RoaW5nIGlzIEZ1bmN0aW9ufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNfZnVuY3Rpb24odGhpbmcpIHtcblx0cmV0dXJuIHR5cGVvZiB0aGluZyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuLyoqIEByZXR1cm5zIHtib29sZWFufSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhZmVfbm90X2VxdWFsKGEsIGIpIHtcblx0cmV0dXJuIGEgIT0gYSA/IGIgPT0gYiA6IGEgIT09IGIgfHwgKGEgJiYgdHlwZW9mIGEgPT09ICdvYmplY3QnKSB8fCB0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJztcbn1cblxubGV0IHNyY191cmxfZXF1YWxfYW5jaG9yO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50X3NyY1xuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcmNfdXJsX2VxdWFsKGVsZW1lbnRfc3JjLCB1cmwpIHtcblx0aWYgKGVsZW1lbnRfc3JjID09PSB1cmwpIHJldHVybiB0cnVlO1xuXHRpZiAoIXNyY191cmxfZXF1YWxfYW5jaG9yKSB7XG5cdFx0c3JjX3VybF9lcXVhbF9hbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG5cdH1cblx0Ly8gVGhpcyBpcyBhY3R1YWxseSBmYXN0ZXIgdGhhbiBkb2luZyBVUkwoLi4pLmhyZWZcblx0c3JjX3VybF9lcXVhbF9hbmNob3IuaHJlZiA9IHVybDtcblx0cmV0dXJuIGVsZW1lbnRfc3JjID09PSBzcmNfdXJsX2VxdWFsX2FuY2hvci5ocmVmO1xufVxuXG4vKiogQHBhcmFtIHtzdHJpbmd9IHNyY3NldCAqL1xuZnVuY3Rpb24gc3BsaXRfc3Jjc2V0KHNyY3NldCkge1xuXHRyZXR1cm4gc3Jjc2V0LnNwbGl0KCcsJykubWFwKChzcmMpID0+IHNyYy50cmltKCkuc3BsaXQoJyAnKS5maWx0ZXIoQm9vbGVhbikpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTFNvdXJjZUVsZW1lbnQgfCBIVE1MSW1hZ2VFbGVtZW50fSBlbGVtZW50X3NyY3NldFxuICogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWQgfCBudWxsfSBzcmNzZXRcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3Jjc2V0X3VybF9lcXVhbChlbGVtZW50X3NyY3NldCwgc3Jjc2V0KSB7XG5cdGNvbnN0IGVsZW1lbnRfdXJscyA9IHNwbGl0X3NyY3NldChlbGVtZW50X3NyY3NldC5zcmNzZXQpO1xuXHRjb25zdCB1cmxzID0gc3BsaXRfc3Jjc2V0KHNyY3NldCB8fCAnJyk7XG5cblx0cmV0dXJuIChcblx0XHR1cmxzLmxlbmd0aCA9PT0gZWxlbWVudF91cmxzLmxlbmd0aCAmJlxuXHRcdHVybHMuZXZlcnkoXG5cdFx0XHQoW3VybCwgd2lkdGhdLCBpKSA9PlxuXHRcdFx0XHR3aWR0aCA9PT0gZWxlbWVudF91cmxzW2ldWzFdICYmXG5cdFx0XHRcdC8vIFdlIG5lZWQgdG8gdGVzdCBib3RoIHdheXMgYmVjYXVzZSBWaXRlIHdpbGwgY3JlYXRlIGFuIGEgZnVsbCBVUkwgd2l0aFxuXHRcdFx0XHQvLyBgbmV3IFVSTChhc3NldCwgaW1wb3J0Lm1ldGEudXJsKS5ocmVmYCBmb3IgdGhlIGNsaWVudCB3aGVuIGBiYXNlOiAnLi8nYCwgYW5kIHRoZVxuXHRcdFx0XHQvLyByZWxhdGl2ZSBVUkxzIGluc2lkZSBzcmNzZXQgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IHJlc29sdmVkIHRvIGFic29sdXRlIFVSTHMgYnlcblx0XHRcdFx0Ly8gYnJvd3NlcnMgKGluIGNvbnRyYXN0IHRvIGltZy5zcmMpLiBUaGlzIG1lYW5zIGJvdGggU1NSIGFuZCBET00gY29kZSBjb3VsZFxuXHRcdFx0XHQvLyBjb250YWluIHJlbGF0aXZlIG9yIGFic29sdXRlIFVSTHMuXG5cdFx0XHRcdChzcmNfdXJsX2VxdWFsKGVsZW1lbnRfdXJsc1tpXVswXSwgdXJsKSB8fCBzcmNfdXJsX2VxdWFsKHVybCwgZWxlbWVudF91cmxzW2ldWzBdKSlcblx0XHQpXG5cdCk7XG59XG5cbi8qKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3RfZXF1YWwoYSwgYikge1xuXHRyZXR1cm4gYSAhPSBhID8gYiA9PSBiIDogYSAhPT0gYjtcbn1cblxuLyoqIEByZXR1cm5zIHtib29sZWFufSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX2VtcHR5KG9iaikge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDA7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZV9zdG9yZShzdG9yZSwgbmFtZSkge1xuXHRpZiAoc3RvcmUgIT0gbnVsbCAmJiB0eXBlb2Ygc3RvcmUuc3Vic2NyaWJlICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGAnJHtuYW1lfScgaXMgbm90IGEgc3RvcmUgd2l0aCBhICdzdWJzY3JpYmUnIG1ldGhvZGApO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJzY3JpYmUoc3RvcmUsIC4uLmNhbGxiYWNrcykge1xuXHRpZiAoc3RvcmUgPT0gbnVsbCkge1xuXHRcdGZvciAoY29uc3QgY2FsbGJhY2sgb2YgY2FsbGJhY2tzKSB7XG5cdFx0XHRjYWxsYmFjayh1bmRlZmluZWQpO1xuXHRcdH1cblx0XHRyZXR1cm4gbm9vcDtcblx0fVxuXHRjb25zdCB1bnN1YiA9IHN0b3JlLnN1YnNjcmliZSguLi5jYWxsYmFja3MpO1xuXHRyZXR1cm4gdW5zdWIudW5zdWJzY3JpYmUgPyAoKSA9PiB1bnN1Yi51bnN1YnNjcmliZSgpIDogdW5zdWI7XG59XG5cbi8qKlxuICogR2V0IHRoZSBjdXJyZW50IHZhbHVlIGZyb20gYSBzdG9yZSBieSBzdWJzY3JpYmluZyBhbmQgaW1tZWRpYXRlbHkgdW5zdWJzY3JpYmluZy5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtc3RvcmUjZ2V0XG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtpbXBvcnQoJy4uL3N0b3JlL3B1YmxpYy5qcycpLlJlYWRhYmxlPFQ+fSBzdG9yZVxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfc3RvcmVfdmFsdWUoc3RvcmUpIHtcblx0bGV0IHZhbHVlO1xuXHRzdWJzY3JpYmUoc3RvcmUsIChfKSA9PiAodmFsdWUgPSBfKSkoKTtcblx0cmV0dXJuIHZhbHVlO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gY29tcG9uZW50X3N1YnNjcmliZShjb21wb25lbnQsIHN0b3JlLCBjYWxsYmFjaykge1xuXHRjb21wb25lbnQuJCQub25fZGVzdHJveS5wdXNoKHN1YnNjcmliZShzdG9yZSwgY2FsbGJhY2spKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9zbG90KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pIHtcblx0aWYgKGRlZmluaXRpb24pIHtcblx0XHRjb25zdCBzbG90X2N0eCA9IGdldF9zbG90X2NvbnRleHQoZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBmbik7XG5cdFx0cmV0dXJuIGRlZmluaXRpb25bMF0oc2xvdF9jdHgpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGdldF9zbG90X2NvbnRleHQoZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBmbikge1xuXHRyZXR1cm4gZGVmaW5pdGlvblsxXSAmJiBmbiA/IGFzc2lnbigkJHNjb3BlLmN0eC5zbGljZSgpLCBkZWZpbml0aW9uWzFdKGZuKGN0eCkpKSA6ICQkc2NvcGUuY3R4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3Nsb3RfY2hhbmdlcyhkZWZpbml0aW9uLCAkJHNjb3BlLCBkaXJ0eSwgZm4pIHtcblx0aWYgKGRlZmluaXRpb25bMl0gJiYgZm4pIHtcblx0XHRjb25zdCBsZXRzID0gZGVmaW5pdGlvblsyXShmbihkaXJ0eSkpO1xuXHRcdGlmICgkJHNjb3BlLmRpcnR5ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBsZXRzO1xuXHRcdH1cblx0XHRpZiAodHlwZW9mIGxldHMgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRjb25zdCBtZXJnZWQgPSBbXTtcblx0XHRcdGNvbnN0IGxlbiA9IE1hdGgubWF4KCQkc2NvcGUuZGlydHkubGVuZ3RoLCBsZXRzLmxlbmd0aCk7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG5cdFx0XHRcdG1lcmdlZFtpXSA9ICQkc2NvcGUuZGlydHlbaV0gfCBsZXRzW2ldO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1lcmdlZDtcblx0XHR9XG5cdFx0cmV0dXJuICQkc2NvcGUuZGlydHkgfCBsZXRzO1xuXHR9XG5cdHJldHVybiAkJHNjb3BlLmRpcnR5O1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX3Nsb3RfYmFzZShcblx0c2xvdCxcblx0c2xvdF9kZWZpbml0aW9uLFxuXHRjdHgsXG5cdCQkc2NvcGUsXG5cdHNsb3RfY2hhbmdlcyxcblx0Z2V0X3Nsb3RfY29udGV4dF9mblxuKSB7XG5cdGlmIChzbG90X2NoYW5nZXMpIHtcblx0XHRjb25zdCBzbG90X2NvbnRleHQgPSBnZXRfc2xvdF9jb250ZXh0KHNsb3RfZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBnZXRfc2xvdF9jb250ZXh0X2ZuKTtcblx0XHRzbG90LnAoc2xvdF9jb250ZXh0LCBzbG90X2NoYW5nZXMpO1xuXHR9XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVfc2xvdChcblx0c2xvdCxcblx0c2xvdF9kZWZpbml0aW9uLFxuXHRjdHgsXG5cdCQkc2NvcGUsXG5cdGRpcnR5LFxuXHRnZXRfc2xvdF9jaGFuZ2VzX2ZuLFxuXHRnZXRfc2xvdF9jb250ZXh0X2ZuXG4pIHtcblx0Y29uc3Qgc2xvdF9jaGFuZ2VzID0gZ2V0X3Nsb3RfY2hhbmdlcyhzbG90X2RlZmluaXRpb24sICQkc2NvcGUsIGRpcnR5LCBnZXRfc2xvdF9jaGFuZ2VzX2ZuKTtcblx0dXBkYXRlX3Nsb3RfYmFzZShzbG90LCBzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgc2xvdF9jaGFuZ2VzLCBnZXRfc2xvdF9jb250ZXh0X2ZuKTtcbn1cblxuLyoqIEByZXR1cm5zIHthbnlbXSB8IC0xfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9hbGxfZGlydHlfZnJvbV9zY29wZSgkJHNjb3BlKSB7XG5cdGlmICgkJHNjb3BlLmN0eC5sZW5ndGggPiAzMikge1xuXHRcdGNvbnN0IGRpcnR5ID0gW107XG5cdFx0Y29uc3QgbGVuZ3RoID0gJCRzY29wZS5jdHgubGVuZ3RoIC8gMzI7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdFx0ZGlydHlbaV0gPSAtMTtcblx0XHR9XG5cdFx0cmV0dXJuIGRpcnR5O1xuXHR9XG5cdHJldHVybiAtMTtcbn1cblxuLyoqIEByZXR1cm5zIHt7fX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBleGNsdWRlX2ludGVybmFsX3Byb3BzKHByb3BzKSB7XG5cdGNvbnN0IHJlc3VsdCA9IHt9O1xuXHRmb3IgKGNvbnN0IGsgaW4gcHJvcHMpIGlmIChrWzBdICE9PSAnJCcpIHJlc3VsdFtrXSA9IHByb3BzW2tdO1xuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogQHJldHVybnMge3t9fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVfcmVzdF9wcm9wcyhwcm9wcywga2V5cykge1xuXHRjb25zdCByZXN0ID0ge307XG5cdGtleXMgPSBuZXcgU2V0KGtleXMpO1xuXHRmb3IgKGNvbnN0IGsgaW4gcHJvcHMpIGlmICgha2V5cy5oYXMoaykgJiYga1swXSAhPT0gJyQnKSByZXN0W2tdID0gcHJvcHNba107XG5cdHJldHVybiByZXN0O1xufVxuXG4vKiogQHJldHVybnMge3t9fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVfc2xvdHMoc2xvdHMpIHtcblx0Y29uc3QgcmVzdWx0ID0ge307XG5cdGZvciAoY29uc3Qga2V5IGluIHNsb3RzKSB7XG5cdFx0cmVzdWx0W2tleV0gPSB0cnVlO1xuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBAcmV0dXJucyB7KHRoaXM6IGFueSwgLi4uYXJnczogYW55W10pID0+IHZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gb25jZShmbikge1xuXHRsZXQgcmFuID0gZmFsc2U7XG5cdHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuXHRcdGlmIChyYW4pIHJldHVybjtcblx0XHRyYW4gPSB0cnVlO1xuXHRcdGZuLmNhbGwodGhpcywgLi4uYXJncyk7XG5cdH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBudWxsX3RvX2VtcHR5KHZhbHVlKSB7XG5cdHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldF9zdG9yZV92YWx1ZShzdG9yZSwgcmV0LCB2YWx1ZSkge1xuXHRzdG9yZS5zZXQodmFsdWUpO1xuXHRyZXR1cm4gcmV0O1xufVxuXG5leHBvcnQgY29uc3QgaGFzX3Byb3AgPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGFjdGlvbl9kZXN0cm95ZXIoYWN0aW9uX3Jlc3VsdCkge1xuXHRyZXR1cm4gYWN0aW9uX3Jlc3VsdCAmJiBpc19mdW5jdGlvbihhY3Rpb25fcmVzdWx0LmRlc3Ryb3kpID8gYWN0aW9uX3Jlc3VsdC5kZXN0cm95IDogbm9vcDtcbn1cblxuLyoqIEBwYXJhbSB7bnVtYmVyIHwgc3RyaW5nfSB2YWx1ZVxuICogQHJldHVybnMge1tudW1iZXIsIHN0cmluZ119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcGxpdF9jc3NfdW5pdCh2YWx1ZSkge1xuXHRjb25zdCBzcGxpdCA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUubWF0Y2goL15cXHMqKC0/W1xcZC5dKykoW15cXHNdKilcXHMqJC8pO1xuXHRyZXR1cm4gc3BsaXQgPyBbcGFyc2VGbG9hdChzcGxpdFsxXSksIHNwbGl0WzJdIHx8ICdweCddIDogWy8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodmFsdWUpLCAncHgnXTtcbn1cblxuZXhwb3J0IGNvbnN0IGNvbnRlbnRlZGl0YWJsZV90cnV0aHlfdmFsdWVzID0gWycnLCB0cnVlLCAxLCAndHJ1ZScsICdjb250ZW50ZWRpdGFibGUnXTtcbiIsImltcG9ydCB7IGNvbnRlbnRlZGl0YWJsZV90cnV0aHlfdmFsdWVzLCBoYXNfcHJvcCB9IGZyb20gJy4vdXRpbHMuanMnO1xuXG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlclNpbmdsZXRvbiB9IGZyb20gJy4vUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24uanMnO1xuXG4vLyBUcmFjayB3aGljaCBub2RlcyBhcmUgY2xhaW1lZCBkdXJpbmcgaHlkcmF0aW9uLiBVbmNsYWltZWQgbm9kZXMgY2FuIHRoZW4gYmUgcmVtb3ZlZCBmcm9tIHRoZSBET01cbi8vIGF0IHRoZSBlbmQgb2YgaHlkcmF0aW9uIHdpdGhvdXQgdG91Y2hpbmcgdGhlIHJlbWFpbmluZyBub2Rlcy5cbmxldCBpc19oeWRyYXRpbmcgPSBmYWxzZTtcblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0X2h5ZHJhdGluZygpIHtcblx0aXNfaHlkcmF0aW5nID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuZF9oeWRyYXRpbmcoKSB7XG5cdGlzX2h5ZHJhdGluZyA9IGZhbHNlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBsb3dcbiAqIEBwYXJhbSB7bnVtYmVyfSBoaWdoXG4gKiBAcGFyYW0geyhpbmRleDogbnVtYmVyKSA9PiBudW1iZXJ9IGtleVxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiB1cHBlcl9ib3VuZChsb3csIGhpZ2gsIGtleSwgdmFsdWUpIHtcblx0Ly8gUmV0dXJuIGZpcnN0IGluZGV4IG9mIHZhbHVlIGxhcmdlciB0aGFuIGlucHV0IHZhbHVlIGluIHRoZSByYW5nZSBbbG93LCBoaWdoKVxuXHR3aGlsZSAobG93IDwgaGlnaCkge1xuXHRcdGNvbnN0IG1pZCA9IGxvdyArICgoaGlnaCAtIGxvdykgPj4gMSk7XG5cdFx0aWYgKGtleShtaWQpIDw9IHZhbHVlKSB7XG5cdFx0XHRsb3cgPSBtaWQgKyAxO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRoaWdoID0gbWlkO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gbG93O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZUV4fSB0YXJnZXRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiBpbml0X2h5ZHJhdGUodGFyZ2V0KSB7XG5cdGlmICh0YXJnZXQuaHlkcmF0ZV9pbml0KSByZXR1cm47XG5cdHRhcmdldC5oeWRyYXRlX2luaXQgPSB0cnVlO1xuXHQvLyBXZSBrbm93IHRoYXQgYWxsIGNoaWxkcmVuIGhhdmUgY2xhaW1fb3JkZXIgdmFsdWVzIHNpbmNlIHRoZSB1bmNsYWltZWQgaGF2ZSBiZWVuIGRldGFjaGVkIGlmIHRhcmdldCBpcyBub3QgPGhlYWQ+XG5cblx0bGV0IGNoaWxkcmVuID0gLyoqIEB0eXBlIHtBcnJheUxpa2U8Tm9kZUV4Mj59ICovICh0YXJnZXQuY2hpbGROb2Rlcyk7XG5cdC8vIElmIHRhcmdldCBpcyA8aGVhZD4sIHRoZXJlIG1heSBiZSBjaGlsZHJlbiB3aXRob3V0IGNsYWltX29yZGVyXG5cdGlmICh0YXJnZXQubm9kZU5hbWUgPT09ICdIRUFEJykge1xuXHRcdGNvbnN0IG15X2NoaWxkcmVuID0gW107XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3Qgbm9kZSA9IGNoaWxkcmVuW2ldO1xuXHRcdFx0aWYgKG5vZGUuY2xhaW1fb3JkZXIgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRteV9jaGlsZHJlbi5wdXNoKG5vZGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjaGlsZHJlbiA9IG15X2NoaWxkcmVuO1xuXHR9XG5cdC8qXG5cdCAqIFJlb3JkZXIgY2xhaW1lZCBjaGlsZHJlbiBvcHRpbWFsbHkuXG5cdCAqIFdlIGNhbiByZW9yZGVyIGNsYWltZWQgY2hpbGRyZW4gb3B0aW1hbGx5IGJ5IGZpbmRpbmcgdGhlIGxvbmdlc3Qgc3Vic2VxdWVuY2Ugb2Zcblx0ICogbm9kZXMgdGhhdCBhcmUgYWxyZWFkeSBjbGFpbWVkIGluIG9yZGVyIGFuZCBvbmx5IG1vdmluZyB0aGUgcmVzdC4gVGhlIGxvbmdlc3Rcblx0ICogc3Vic2VxdWVuY2Ugb2Ygbm9kZXMgdGhhdCBhcmUgY2xhaW1lZCBpbiBvcmRlciBjYW4gYmUgZm91bmQgYnlcblx0ICogY29tcHV0aW5nIHRoZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2YgLmNsYWltX29yZGVyIHZhbHVlcy5cblx0ICpcblx0ICogVGhpcyBhbGdvcml0aG0gaXMgb3B0aW1hbCBpbiBnZW5lcmF0aW5nIHRoZSBsZWFzdCBhbW91bnQgb2YgcmVvcmRlciBvcGVyYXRpb25zXG5cdCAqIHBvc3NpYmxlLlxuXHQgKlxuXHQgKiBQcm9vZjpcblx0ICogV2Uga25vdyB0aGF0LCBnaXZlbiBhIHNldCBvZiByZW9yZGVyaW5nIG9wZXJhdGlvbnMsIHRoZSBub2RlcyB0aGF0IGRvIG5vdCBtb3ZlXG5cdCAqIGFsd2F5cyBmb3JtIGFuIGluY3JlYXNpbmcgc3Vic2VxdWVuY2UsIHNpbmNlIHRoZXkgZG8gbm90IG1vdmUgYW1vbmcgZWFjaCBvdGhlclxuXHQgKiBtZWFuaW5nIHRoYXQgdGhleSBtdXN0IGJlIGFscmVhZHkgb3JkZXJlZCBhbW9uZyBlYWNoIG90aGVyLiBUaHVzLCB0aGUgbWF4aW1hbFxuXHQgKiBzZXQgb2Ygbm9kZXMgdGhhdCBkbyBub3QgbW92ZSBmb3JtIGEgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlLlxuXHQgKi9cblx0Ly8gQ29tcHV0ZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2Vcblx0Ly8gbTogc3Vic2VxdWVuY2UgbGVuZ3RoIGogPT4gaW5kZXggayBvZiBzbWFsbGVzdCB2YWx1ZSB0aGF0IGVuZHMgYW4gaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiBsZW5ndGggalxuXHRjb25zdCBtID0gbmV3IEludDMyQXJyYXkoY2hpbGRyZW4ubGVuZ3RoICsgMSk7XG5cdC8vIFByZWRlY2Vzc29yIGluZGljZXMgKyAxXG5cdGNvbnN0IHAgPSBuZXcgSW50MzJBcnJheShjaGlsZHJlbi5sZW5ndGgpO1xuXHRtWzBdID0gLTE7XG5cdGxldCBsb25nZXN0ID0gMDtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBjaGlsZHJlbltpXS5jbGFpbV9vcmRlcjtcblx0XHQvLyBGaW5kIHRoZSBsYXJnZXN0IHN1YnNlcXVlbmNlIGxlbmd0aCBzdWNoIHRoYXQgaXQgZW5kcyBpbiBhIHZhbHVlIGxlc3MgdGhhbiBvdXIgY3VycmVudCB2YWx1ZVxuXHRcdC8vIHVwcGVyX2JvdW5kIHJldHVybnMgZmlyc3QgZ3JlYXRlciB2YWx1ZSwgc28gd2Ugc3VidHJhY3Qgb25lXG5cdFx0Ly8gd2l0aCBmYXN0IHBhdGggZm9yIHdoZW4gd2UgYXJlIG9uIHRoZSBjdXJyZW50IGxvbmdlc3Qgc3Vic2VxdWVuY2Vcblx0XHRjb25zdCBzZXFfbGVuID1cblx0XHRcdChsb25nZXN0ID4gMCAmJiBjaGlsZHJlblttW2xvbmdlc3RdXS5jbGFpbV9vcmRlciA8PSBjdXJyZW50XG5cdFx0XHRcdD8gbG9uZ2VzdCArIDFcblx0XHRcdFx0OiB1cHBlcl9ib3VuZCgxLCBsb25nZXN0LCAoaWR4KSA9PiBjaGlsZHJlblttW2lkeF1dLmNsYWltX29yZGVyLCBjdXJyZW50KSkgLSAxO1xuXHRcdHBbaV0gPSBtW3NlcV9sZW5dICsgMTtcblx0XHRjb25zdCBuZXdfbGVuID0gc2VxX2xlbiArIDE7XG5cdFx0Ly8gV2UgY2FuIGd1YXJhbnRlZSB0aGF0IGN1cnJlbnQgaXMgdGhlIHNtYWxsZXN0IHZhbHVlLiBPdGhlcndpc2UsIHdlIHdvdWxkIGhhdmUgZ2VuZXJhdGVkIGEgbG9uZ2VyIHNlcXVlbmNlLlxuXHRcdG1bbmV3X2xlbl0gPSBpO1xuXHRcdGxvbmdlc3QgPSBNYXRoLm1heChuZXdfbGVuLCBsb25nZXN0KTtcblx0fVxuXHQvLyBUaGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIG5vZGVzIChpbml0aWFsbHkgcmV2ZXJzZWQpXG5cblx0LyoqXG5cdCAqIEB0eXBlIHtOb2RlRXgyW119XG5cdCAqL1xuXHRjb25zdCBsaXMgPSBbXTtcblx0Ly8gVGhlIHJlc3Qgb2YgdGhlIG5vZGVzLCBub2RlcyB0aGF0IHdpbGwgYmUgbW92ZWRcblxuXHQvKipcblx0ICogQHR5cGUge05vZGVFeDJbXX1cblx0ICovXG5cdGNvbnN0IHRvX21vdmUgPSBbXTtcblx0bGV0IGxhc3QgPSBjaGlsZHJlbi5sZW5ndGggLSAxO1xuXHRmb3IgKGxldCBjdXIgPSBtW2xvbmdlc3RdICsgMTsgY3VyICE9IDA7IGN1ciA9IHBbY3VyIC0gMV0pIHtcblx0XHRsaXMucHVzaChjaGlsZHJlbltjdXIgLSAxXSk7XG5cdFx0Zm9yICg7IGxhc3QgPj0gY3VyOyBsYXN0LS0pIHtcblx0XHRcdHRvX21vdmUucHVzaChjaGlsZHJlbltsYXN0XSk7XG5cdFx0fVxuXHRcdGxhc3QtLTtcblx0fVxuXHRmb3IgKDsgbGFzdCA+PSAwOyBsYXN0LS0pIHtcblx0XHR0b19tb3ZlLnB1c2goY2hpbGRyZW5bbGFzdF0pO1xuXHR9XG5cdGxpcy5yZXZlcnNlKCk7XG5cdC8vIFdlIHNvcnQgdGhlIG5vZGVzIGJlaW5nIG1vdmVkIHRvIGd1YXJhbnRlZSB0aGF0IHRoZWlyIGluc2VydGlvbiBvcmRlciBtYXRjaGVzIHRoZSBjbGFpbSBvcmRlclxuXHR0b19tb3ZlLnNvcnQoKGEsIGIpID0+IGEuY2xhaW1fb3JkZXIgLSBiLmNsYWltX29yZGVyKTtcblx0Ly8gRmluYWxseSwgd2UgbW92ZSB0aGUgbm9kZXNcblx0Zm9yIChsZXQgaSA9IDAsIGogPSAwOyBpIDwgdG9fbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdHdoaWxlIChqIDwgbGlzLmxlbmd0aCAmJiB0b19tb3ZlW2ldLmNsYWltX29yZGVyID49IGxpc1tqXS5jbGFpbV9vcmRlcikge1xuXHRcdFx0aisrO1xuXHRcdH1cblx0XHRjb25zdCBhbmNob3IgPSBqIDwgbGlzLmxlbmd0aCA/IGxpc1tqXSA6IG51bGw7XG5cdFx0dGFyZ2V0Lmluc2VydEJlZm9yZSh0b19tb3ZlW2ldLCBhbmNob3IpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSB0YXJnZXRcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmQodGFyZ2V0LCBub2RlKSB7XG5cdHRhcmdldC5hcHBlbmRDaGlsZChub2RlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IHRhcmdldFxuICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlX3NoZWV0X2lkXG4gKiBAcGFyYW0ge3N0cmluZ30gc3R5bGVzXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZF9zdHlsZXModGFyZ2V0LCBzdHlsZV9zaGVldF9pZCwgc3R5bGVzKSB7XG5cdGNvbnN0IGFwcGVuZF9zdHlsZXNfdG8gPSBnZXRfcm9vdF9mb3Jfc3R5bGUodGFyZ2V0KTtcblx0aWYgKCFhcHBlbmRfc3R5bGVzX3RvLmdldEVsZW1lbnRCeUlkKHN0eWxlX3NoZWV0X2lkKSkge1xuXHRcdGNvbnN0IHN0eWxlID0gZWxlbWVudCgnc3R5bGUnKTtcblx0XHRzdHlsZS5pZCA9IHN0eWxlX3NoZWV0X2lkO1xuXHRcdHN0eWxlLnRleHRDb250ZW50ID0gc3R5bGVzO1xuXHRcdGFwcGVuZF9zdHlsZXNoZWV0KGFwcGVuZF9zdHlsZXNfdG8sIHN0eWxlKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICogQHJldHVybnMge1NoYWRvd1Jvb3QgfCBEb2N1bWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9yb290X2Zvcl9zdHlsZShub2RlKSB7XG5cdGlmICghbm9kZSkgcmV0dXJuIGRvY3VtZW50O1xuXHRjb25zdCByb290ID0gbm9kZS5nZXRSb290Tm9kZSA/IG5vZGUuZ2V0Um9vdE5vZGUoKSA6IG5vZGUub3duZXJEb2N1bWVudDtcblx0aWYgKHJvb3QgJiYgLyoqIEB0eXBlIHtTaGFkb3dSb290fSAqLyAocm9vdCkuaG9zdCkge1xuXHRcdHJldHVybiAvKiogQHR5cGUge1NoYWRvd1Jvb3R9ICovIChyb290KTtcblx0fVxuXHRyZXR1cm4gbm9kZS5vd25lckRvY3VtZW50O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICogQHJldHVybnMge0NTU1N0eWxlU2hlZXR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRfZW1wdHlfc3R5bGVzaGVldChub2RlKSB7XG5cdGNvbnN0IHN0eWxlX2VsZW1lbnQgPSBlbGVtZW50KCdzdHlsZScpO1xuXHQvLyBGb3IgdHJhbnNpdGlvbnMgdG8gd29yayB3aXRob3V0ICdzdHlsZS1zcmM6IHVuc2FmZS1pbmxpbmUnIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5LFxuXHQvLyB0aGVzZSBlbXB0eSB0YWdzIG5lZWQgdG8gYmUgYWxsb3dlZCB3aXRoIGEgaGFzaCBhcyBhIHdvcmthcm91bmQgdW50aWwgd2UgbW92ZSB0byB0aGUgV2ViIEFuaW1hdGlvbnMgQVBJLlxuXHQvLyBVc2luZyB0aGUgaGFzaCBmb3IgdGhlIGVtcHR5IHN0cmluZyAoZm9yIGFuIGVtcHR5IHRhZykgd29ya3MgaW4gYWxsIGJyb3dzZXJzIGV4Y2VwdCBTYWZhcmkuXG5cdC8vIFNvIGFzIGEgd29ya2Fyb3VuZCBmb3IgdGhlIHdvcmthcm91bmQsIHdoZW4gd2UgYXBwZW5kIGVtcHR5IHN0eWxlIHRhZ3Mgd2Ugc2V0IHRoZWlyIGNvbnRlbnQgdG8gLyogZW1wdHkgKi8uXG5cdC8vIFRoZSBoYXNoICdzaGEyNTYtOU9sTk8wRE5FZWFWekhMNFJad0NMc0JIQThXQlE4dG9CcC80RjVYVjJuYz0nIHdpbGwgdGhlbiB3b3JrIGV2ZW4gaW4gU2FmYXJpLlxuXHRzdHlsZV9lbGVtZW50LnRleHRDb250ZW50ID0gJy8qIGVtcHR5ICovJztcblx0YXBwZW5kX3N0eWxlc2hlZXQoZ2V0X3Jvb3RfZm9yX3N0eWxlKG5vZGUpLCBzdHlsZV9lbGVtZW50KTtcblx0cmV0dXJuIHN0eWxlX2VsZW1lbnQuc2hlZXQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtTaGFkb3dSb290IHwgRG9jdW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7SFRNTFN0eWxlRWxlbWVudH0gc3R5bGVcbiAqIEByZXR1cm5zIHtDU1NTdHlsZVNoZWV0fVxuICovXG5mdW5jdGlvbiBhcHBlbmRfc3R5bGVzaGVldChub2RlLCBzdHlsZSkge1xuXHRhcHBlbmQoLyoqIEB0eXBlIHtEb2N1bWVudH0gKi8gKG5vZGUpLmhlYWQgfHwgbm9kZSwgc3R5bGUpO1xuXHRyZXR1cm4gc3R5bGUuc2hlZXQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlRXh9IHRhcmdldFxuICogQHBhcmFtIHtOb2RlRXh9IG5vZGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kX2h5ZHJhdGlvbih0YXJnZXQsIG5vZGUpIHtcblx0aWYgKGlzX2h5ZHJhdGluZykge1xuXHRcdGluaXRfaHlkcmF0ZSh0YXJnZXQpO1xuXHRcdGlmIChcblx0XHRcdHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID09PSB1bmRlZmluZWQgfHxcblx0XHRcdCh0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCAhPT0gbnVsbCAmJiB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZC5wYXJlbnROb2RlICE9PSB0YXJnZXQpXG5cdFx0KSB7XG5cdFx0XHR0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCA9IHRhcmdldC5maXJzdENoaWxkO1xuXHRcdH1cblx0XHQvLyBTa2lwIG5vZGVzIG9mIHVuZGVmaW5lZCBvcmRlcmluZ1xuXHRcdHdoaWxlICh0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCAhPT0gbnVsbCAmJiB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZC5jbGFpbV9vcmRlciA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCA9IHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkLm5leHRTaWJsaW5nO1xuXHRcdH1cblx0XHRpZiAobm9kZSAhPT0gdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQpIHtcblx0XHRcdC8vIFdlIG9ubHkgaW5zZXJ0IGlmIHRoZSBvcmRlcmluZyBvZiB0aGlzIG5vZGUgc2hvdWxkIGJlIG1vZGlmaWVkIG9yIHRoZSBwYXJlbnQgbm9kZSBpcyBub3QgdGFyZ2V0XG5cdFx0XHRpZiAobm9kZS5jbGFpbV9vcmRlciAhPT0gdW5kZWZpbmVkIHx8IG5vZGUucGFyZW50Tm9kZSAhPT0gdGFyZ2V0KSB7XG5cdFx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCA9IG5vZGUubmV4dFNpYmxpbmc7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKG5vZGUucGFyZW50Tm9kZSAhPT0gdGFyZ2V0IHx8IG5vZGUubmV4dFNpYmxpbmcgIT09IG51bGwpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQobm9kZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IHRhcmdldFxuICogQHBhcmFtIHtOb2RlfSBub2RlXG4gKiBAcGFyYW0ge05vZGV9IFthbmNob3JdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc2VydCh0YXJnZXQsIG5vZGUsIGFuY2hvcikge1xuXHR0YXJnZXQuaW5zZXJ0QmVmb3JlKG5vZGUsIGFuY2hvciB8fCBudWxsKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGVFeH0gdGFyZ2V0XG4gKiBAcGFyYW0ge05vZGVFeH0gbm9kZVxuICogQHBhcmFtIHtOb2RlRXh9IFthbmNob3JdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc2VydF9oeWRyYXRpb24odGFyZ2V0LCBub2RlLCBhbmNob3IpIHtcblx0aWYgKGlzX2h5ZHJhdGluZyAmJiAhYW5jaG9yKSB7XG5cdFx0YXBwZW5kX2h5ZHJhdGlvbih0YXJnZXQsIG5vZGUpO1xuXHR9IGVsc2UgaWYgKG5vZGUucGFyZW50Tm9kZSAhPT0gdGFyZ2V0IHx8IG5vZGUubmV4dFNpYmxpbmcgIT0gYW5jaG9yKSB7XG5cdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShub2RlLCBhbmNob3IgfHwgbnVsbCk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGV0YWNoKG5vZGUpIHtcblx0aWYgKG5vZGUucGFyZW50Tm9kZSkge1xuXHRcdG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcblx0fVxufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lfZWFjaChpdGVyYXRpb25zLCBkZXRhY2hpbmcpIHtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBpdGVyYXRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0aWYgKGl0ZXJhdGlvbnNbaV0pIGl0ZXJhdGlvbnNbaV0uZChkZXRhY2hpbmcpO1xuXHR9XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtrZXlvZiBIVE1MRWxlbWVudFRhZ05hbWVNYXB9IEtcbiAqIEBwYXJhbSB7S30gbmFtZVxuICogQHJldHVybnMge0hUTUxFbGVtZW50VGFnTmFtZU1hcFtLXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVsZW1lbnQobmFtZSkge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lKTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge2tleW9mIEhUTUxFbGVtZW50VGFnTmFtZU1hcH0gS1xuICogQHBhcmFtIHtLfSBuYW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gaXNcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudFRhZ05hbWVNYXBbS119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbGVtZW50X2lzKG5hbWUsIGlzKSB7XG5cdHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUsIHsgaXMgfSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0ZW1wbGF0ZSB7a2V5b2YgVH0gS1xuICogQHBhcmFtIHtUfSBvYmpcbiAqIEBwYXJhbSB7S1tdfSBleGNsdWRlXG4gKiBAcmV0dXJucyB7UGljazxULCBFeGNsdWRlPGtleW9mIFQsIEs+Pn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9iamVjdF93aXRob3V0X3Byb3BlcnRpZXMob2JqLCBleGNsdWRlKSB7XG5cdGNvbnN0IHRhcmdldCA9IC8qKiBAdHlwZSB7UGljazxULCBFeGNsdWRlPGtleW9mIFQsIEs+Pn0gKi8gKHt9KTtcblx0Zm9yIChjb25zdCBrIGluIG9iaikge1xuXHRcdGlmIChcblx0XHRcdGhhc19wcm9wKG9iaiwgaykgJiZcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGV4Y2x1ZGUuaW5kZXhPZihrKSA9PT0gLTFcblx0XHQpIHtcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdHRhcmdldFtrXSA9IG9ialtrXTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHRhcmdldDtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge2tleW9mIFNWR0VsZW1lbnRUYWdOYW1lTWFwfSBLXG4gKiBAcGFyYW0ge0t9IG5hbWVcbiAqIEByZXR1cm5zIHtTVkdFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3ZnX2VsZW1lbnQobmFtZSkge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIG5hbWUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhXG4gKiBAcmV0dXJucyB7VGV4dH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRleHQoZGF0YSkge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZGF0YSk7XG59XG5cbi8qKlxuICogQHJldHVybnMge1RleHR9ICovXG5leHBvcnQgZnVuY3Rpb24gc3BhY2UoKSB7XG5cdHJldHVybiB0ZXh0KCcgJyk7XG59XG5cbi8qKlxuICogQHJldHVybnMge1RleHR9ICovXG5leHBvcnQgZnVuY3Rpb24gZW1wdHkoKSB7XG5cdHJldHVybiB0ZXh0KCcnKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGVudFxuICogQHJldHVybnMge0NvbW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21tZW50KGNvbnRlbnQpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoY29udGVudCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFdmVudFRhcmdldH0gbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge0V2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3R9IGhhbmRsZXJcbiAqIEBwYXJhbSB7Ym9vbGVhbiB8IEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zIHwgRXZlbnRMaXN0ZW5lck9wdGlvbnN9IFtvcHRpb25zXVxuICogQHJldHVybnMgeygpID0+IHZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW4obm9kZSwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpIHtcblx0bm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcblx0cmV0dXJuICgpID0+IG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogQHJldHVybnMgeyhldmVudDogYW55KSA9PiBhbnl9ICovXG5leHBvcnQgZnVuY3Rpb24gcHJldmVudF9kZWZhdWx0KGZuKSB7XG5cdHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRyZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG5cdH07XG59XG5cbi8qKlxuICogQHJldHVybnMgeyhldmVudDogYW55KSA9PiBhbnl9ICovXG5leHBvcnQgZnVuY3Rpb24gc3RvcF9wcm9wYWdhdGlvbihmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdHJldHVybiBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcblx0fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7KGV2ZW50OiBhbnkpID0+IGFueX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdG9wX2ltbWVkaWF0ZV9wcm9wYWdhdGlvbihmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0ZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdHJldHVybiBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcblx0fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7KGV2ZW50OiBhbnkpID0+IHZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZihmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGlmIChldmVudC50YXJnZXQgPT09IHRoaXMpIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuXHR9O1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHsoZXZlbnQ6IGFueSkgPT4gdm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cnVzdGVkKGZuKSB7XG5cdHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0aWYgKGV2ZW50LmlzVHJ1c3RlZCkgZm4uY2FsbCh0aGlzLCBldmVudCk7XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gW3ZhbHVlXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhdHRyKG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcblx0aWYgKHZhbHVlID09IG51bGwpIG5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZSk7XG5cdGVsc2UgaWYgKG5vZGUuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSkgIT09IHZhbHVlKSBub2RlLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKTtcbn1cbi8qKlxuICogTGlzdCBvZiBhdHRyaWJ1dGVzIHRoYXQgc2hvdWxkIGFsd2F5cyBiZSBzZXQgdGhyb3VnaCB0aGUgYXR0ciBtZXRob2QsXG4gKiBiZWNhdXNlIHVwZGF0aW5nIHRoZW0gdGhyb3VnaCB0aGUgcHJvcGVydHkgc2V0dGVyIGRvZXNuJ3Qgd29yayByZWxpYWJseS5cbiAqIEluIHRoZSBleGFtcGxlIG9mIGB3aWR0aGAvYGhlaWdodGAsIHRoZSBwcm9ibGVtIGlzIHRoYXQgdGhlIHNldHRlciBvbmx5XG4gKiBhY2NlcHRzIG51bWVyaWMgdmFsdWVzLCBidXQgdGhlIGF0dHJpYnV0ZSBjYW4gYWxzbyBiZSBzZXQgdG8gYSBzdHJpbmcgbGlrZSBgNTAlYC5cbiAqIElmIHRoaXMgbGlzdCBiZWNvbWVzIHRvbyBiaWcsIHJldGhpbmsgdGhpcyBhcHByb2FjaC5cbiAqL1xuY29uc3QgYWx3YXlzX3NldF90aHJvdWdoX3NldF9hdHRyaWJ1dGUgPSBbJ3dpZHRoJywgJ2hlaWdodCddO1xuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudCAmIEVsZW1lbnRDU1NJbmxpbmVTdHlsZX0gbm9kZVxuICogQHBhcmFtIHt7IFt4OiBzdHJpbmddOiBzdHJpbmcgfX0gYXR0cmlidXRlc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfYXR0cmlidXRlcyhub2RlLCBhdHRyaWJ1dGVzKSB7XG5cdC8vIEB0cy1pZ25vcmVcblx0Y29uc3QgZGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhub2RlLl9fcHJvdG9fXyk7XG5cdGZvciAoY29uc3Qga2V5IGluIGF0dHJpYnV0ZXMpIHtcblx0XHRpZiAoYXR0cmlidXRlc1trZXldID09IG51bGwpIHtcblx0XHRcdG5vZGUucmVtb3ZlQXR0cmlidXRlKGtleSk7XG5cdFx0fSBlbHNlIGlmIChrZXkgPT09ICdzdHlsZScpIHtcblx0XHRcdG5vZGUuc3R5bGUuY3NzVGV4dCA9IGF0dHJpYnV0ZXNba2V5XTtcblx0XHR9IGVsc2UgaWYgKGtleSA9PT0gJ19fdmFsdWUnKSB7XG5cdFx0XHQvKiogQHR5cGUge2FueX0gKi8gKG5vZGUpLnZhbHVlID0gbm9kZVtrZXldID0gYXR0cmlidXRlc1trZXldO1xuXHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRkZXNjcmlwdG9yc1trZXldICYmXG5cdFx0XHRkZXNjcmlwdG9yc1trZXldLnNldCAmJlxuXHRcdFx0YWx3YXlzX3NldF90aHJvdWdoX3NldF9hdHRyaWJ1dGUuaW5kZXhPZihrZXkpID09PSAtMVxuXHRcdCkge1xuXHRcdFx0bm9kZVtrZXldID0gYXR0cmlidXRlc1trZXldO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRhdHRyKG5vZGUsIGtleSwgYXR0cmlidXRlc1trZXldKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IG5vZGVcbiAqIEBwYXJhbSB7eyBbeDogc3RyaW5nXTogc3RyaW5nIH19IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3N2Z19hdHRyaWJ1dGVzKG5vZGUsIGF0dHJpYnV0ZXMpIHtcblx0Zm9yIChjb25zdCBrZXkgaW4gYXR0cmlidXRlcykge1xuXHRcdGF0dHIobm9kZSwga2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCB1bmtub3duPn0gZGF0YV9tYXBcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2N1c3RvbV9lbGVtZW50X2RhdGFfbWFwKG5vZGUsIGRhdGFfbWFwKSB7XG5cdE9iamVjdC5rZXlzKGRhdGFfbWFwKS5mb3JFYWNoKChrZXkpID0+IHtcblx0XHRzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YShub2RlLCBrZXksIGRhdGFfbWFwW2tleV0pO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YShub2RlLCBwcm9wLCB2YWx1ZSkge1xuXHRjb25zdCBsb3dlciA9IHByb3AudG9Mb3dlckNhc2UoKTsgLy8gZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdpdGggZXhpc3RpbmcgYmVoYXZpb3Igd2UgZG8gbG93ZXJjYXNlIGZpcnN0XG5cdGlmIChsb3dlciBpbiBub2RlKSB7XG5cdFx0bm9kZVtsb3dlcl0gPSB0eXBlb2Ygbm9kZVtsb3dlcl0gPT09ICdib29sZWFuJyAmJiB2YWx1ZSA9PT0gJycgPyB0cnVlIDogdmFsdWU7XG5cdH0gZWxzZSBpZiAocHJvcCBpbiBub2RlKSB7XG5cdFx0bm9kZVtwcm9wXSA9IHR5cGVvZiBub2RlW3Byb3BdID09PSAnYm9vbGVhbicgJiYgdmFsdWUgPT09ICcnID8gdHJ1ZSA6IHZhbHVlO1xuXHR9IGVsc2Uge1xuXHRcdGF0dHIobm9kZSwgcHJvcCwgdmFsdWUpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHRhZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2R5bmFtaWNfZWxlbWVudF9kYXRhKHRhZykge1xuXHRyZXR1cm4gLy0vLnRlc3QodGFnKSA/IHNldF9jdXN0b21fZWxlbWVudF9kYXRhX21hcCA6IHNldF9hdHRyaWJ1dGVzO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24geGxpbmtfYXR0cihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG5cdG5vZGUuc2V0QXR0cmlidXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLCBhdHRyaWJ1dGUsIHZhbHVlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3N2ZWx0ZV9kYXRhc2V0KG5vZGUpIHtcblx0cmV0dXJuIG5vZGUuZGF0YXNldC5zdmVsdGVIO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHt1bmtub3duW119ICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X2JpbmRpbmdfZ3JvdXBfdmFsdWUoZ3JvdXAsIF9fdmFsdWUsIGNoZWNrZWQpIHtcblx0Y29uc3QgdmFsdWUgPSBuZXcgU2V0KCk7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXAubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRpZiAoZ3JvdXBbaV0uY2hlY2tlZCkgdmFsdWUuYWRkKGdyb3VwW2ldLl9fdmFsdWUpO1xuXHR9XG5cdGlmICghY2hlY2tlZCkge1xuXHRcdHZhbHVlLmRlbGV0ZShfX3ZhbHVlKTtcblx0fVxuXHRyZXR1cm4gQXJyYXkuZnJvbSh2YWx1ZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MSW5wdXRFbGVtZW50W119IGdyb3VwXG4gKiBAcmV0dXJucyB7eyBwKC4uLmlucHV0czogSFRNTElucHV0RWxlbWVudFtdKTogdm9pZDsgcigpOiB2b2lkOyB9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdF9iaW5kaW5nX2dyb3VwKGdyb3VwKSB7XG5cdC8qKlxuXHQgKiBAdHlwZSB7SFRNTElucHV0RWxlbWVudFtdfSAqL1xuXHRsZXQgX2lucHV0cztcblx0cmV0dXJuIHtcblx0XHQvKiBwdXNoICovIHAoLi4uaW5wdXRzKSB7XG5cdFx0XHRfaW5wdXRzID0gaW5wdXRzO1xuXHRcdFx0X2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4gZ3JvdXAucHVzaChpbnB1dCkpO1xuXHRcdH0sXG5cdFx0LyogcmVtb3ZlICovIHIoKSB7XG5cdFx0XHRfaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiBncm91cC5zcGxpY2UoZ3JvdXAuaW5kZXhPZihpbnB1dCksIDEpKTtcblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJbXX0gaW5kZXhlc1xuICogQHJldHVybnMge3sgdShuZXdfaW5kZXhlczogbnVtYmVyW10pOiB2b2lkOyBwKC4uLmlucHV0czogSFRNTElucHV0RWxlbWVudFtdKTogdm9pZDsgcjogKCkgPT4gdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRfYmluZGluZ19ncm91cF9keW5hbWljKGdyb3VwLCBpbmRleGVzKSB7XG5cdC8qKlxuXHQgKiBAdHlwZSB7SFRNTElucHV0RWxlbWVudFtdfSAqL1xuXHRsZXQgX2dyb3VwID0gZ2V0X2JpbmRpbmdfZ3JvdXAoZ3JvdXApO1xuXG5cdC8qKlxuXHQgKiBAdHlwZSB7SFRNTElucHV0RWxlbWVudFtdfSAqL1xuXHRsZXQgX2lucHV0cztcblxuXHRmdW5jdGlvbiBnZXRfYmluZGluZ19ncm91cChncm91cCkge1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgaW5kZXhlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Z3JvdXAgPSBncm91cFtpbmRleGVzW2ldXSA9IGdyb3VwW2luZGV4ZXNbaV1dIHx8IFtdO1xuXHRcdH1cblx0XHRyZXR1cm4gZ3JvdXA7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIHB1c2goKSB7XG5cdFx0X2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4gX2dyb3VwLnB1c2goaW5wdXQpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0ZnVuY3Rpb24gcmVtb3ZlKCkge1xuXHRcdF9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IF9ncm91cC5zcGxpY2UoX2dyb3VwLmluZGV4T2YoaW5wdXQpLCAxKSk7XG5cdH1cblx0cmV0dXJuIHtcblx0XHQvKiB1cGRhdGUgKi8gdShuZXdfaW5kZXhlcykge1xuXHRcdFx0aW5kZXhlcyA9IG5ld19pbmRleGVzO1xuXHRcdFx0Y29uc3QgbmV3X2dyb3VwID0gZ2V0X2JpbmRpbmdfZ3JvdXAoZ3JvdXApO1xuXHRcdFx0aWYgKG5ld19ncm91cCAhPT0gX2dyb3VwKSB7XG5cdFx0XHRcdHJlbW92ZSgpO1xuXHRcdFx0XHRfZ3JvdXAgPSBuZXdfZ3JvdXA7XG5cdFx0XHRcdHB1c2goKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdC8qIHB1c2ggKi8gcCguLi5pbnB1dHMpIHtcblx0XHRcdF9pbnB1dHMgPSBpbnB1dHM7XG5cdFx0XHRwdXNoKCk7XG5cdFx0fSxcblx0XHQvKiByZW1vdmUgKi8gcjogcmVtb3ZlXG5cdH07XG59XG5cbi8qKiBAcmV0dXJucyB7bnVtYmVyfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvX251bWJlcih2YWx1ZSkge1xuXHRyZXR1cm4gdmFsdWUgPT09ICcnID8gbnVsbCA6ICt2YWx1ZTtcbn1cblxuLyoqIEByZXR1cm5zIHthbnlbXX0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aW1lX3Jhbmdlc190b19hcnJheShyYW5nZXMpIHtcblx0Y29uc3QgYXJyYXkgPSBbXTtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRhcnJheS5wdXNoKHsgc3RhcnQ6IHJhbmdlcy5zdGFydChpKSwgZW5kOiByYW5nZXMuZW5kKGkpIH0pO1xuXHR9XG5cdHJldHVybiBhcnJheTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtDaGlsZE5vZGVbXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoaWxkcmVuKGVsZW1lbnQpIHtcblx0cmV0dXJuIEFycmF5LmZyb20oZWxlbWVudC5jaGlsZE5vZGVzKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGluaXRfY2xhaW1faW5mbyhub2Rlcykge1xuXHRpZiAobm9kZXMuY2xhaW1faW5mbyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0bm9kZXMuY2xhaW1faW5mbyA9IHsgbGFzdF9pbmRleDogMCwgdG90YWxfY2xhaW1lZDogMCB9O1xuXHR9XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtDaGlsZE5vZGVFeH0gUlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEBwYXJhbSB7KG5vZGU6IENoaWxkTm9kZUV4KSA9PiBub2RlIGlzIFJ9IHByZWRpY2F0ZVxuICogQHBhcmFtIHsobm9kZTogQ2hpbGROb2RlRXgpID0+IENoaWxkTm9kZUV4IHwgdW5kZWZpbmVkfSBwcm9jZXNzX25vZGVcbiAqIEBwYXJhbSB7KCkgPT4gUn0gY3JlYXRlX25vZGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gZG9udF91cGRhdGVfbGFzdF9pbmRleFxuICogQHJldHVybnMge1J9XG4gKi9cbmZ1bmN0aW9uIGNsYWltX25vZGUobm9kZXMsIHByZWRpY2F0ZSwgcHJvY2Vzc19ub2RlLCBjcmVhdGVfbm9kZSwgZG9udF91cGRhdGVfbGFzdF9pbmRleCA9IGZhbHNlKSB7XG5cdC8vIFRyeSB0byBmaW5kIG5vZGVzIGluIGFuIG9yZGVyIHN1Y2ggdGhhdCB3ZSBsZW5ndGhlbiB0aGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlXG5cdGluaXRfY2xhaW1faW5mbyhub2Rlcyk7XG5cdGNvbnN0IHJlc3VsdF9ub2RlID0gKCgpID0+IHtcblx0XHQvLyBXZSBmaXJzdCB0cnkgdG8gZmluZCBhbiBlbGVtZW50IGFmdGVyIHRoZSBwcmV2aW91cyBvbmVcblx0XHRmb3IgKGxldCBpID0gbm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4OyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IG5vZGUgPSBub2Rlc1tpXTtcblx0XHRcdGlmIChwcmVkaWNhdGUobm9kZSkpIHtcblx0XHRcdFx0Y29uc3QgcmVwbGFjZW1lbnQgPSBwcm9jZXNzX25vZGUobm9kZSk7XG5cdFx0XHRcdGlmIChyZXBsYWNlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0bm9kZXMuc3BsaWNlKGksIDEpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG5vZGVzW2ldID0gcmVwbGFjZW1lbnQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCFkb250X3VwZGF0ZV9sYXN0X2luZGV4KSB7XG5cdFx0XHRcdFx0bm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4ID0gaTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbm9kZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Ly8gT3RoZXJ3aXNlLCB3ZSB0cnkgdG8gZmluZCBvbmUgYmVmb3JlXG5cdFx0Ly8gV2UgaXRlcmF0ZSBpbiByZXZlcnNlIHNvIHRoYXQgd2UgZG9uJ3QgZ28gdG9vIGZhciBiYWNrXG5cdFx0Zm9yIChsZXQgaSA9IG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRjb25zdCBub2RlID0gbm9kZXNbaV07XG5cdFx0XHRpZiAocHJlZGljYXRlKG5vZGUpKSB7XG5cdFx0XHRcdGNvbnN0IHJlcGxhY2VtZW50ID0gcHJvY2Vzc19ub2RlKG5vZGUpO1xuXHRcdFx0XHRpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdG5vZGVzLnNwbGljZShpLCAxKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRub2Rlc1tpXSA9IHJlcGxhY2VtZW50O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICghZG9udF91cGRhdGVfbGFzdF9pbmRleCkge1xuXHRcdFx0XHRcdG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleCA9IGk7XG5cdFx0XHRcdH0gZWxzZSBpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdC8vIFNpbmNlIHdlIHNwbGljZWQgYmVmb3JlIHRoZSBsYXN0X2luZGV4LCB3ZSBkZWNyZWFzZSBpdFxuXHRcdFx0XHRcdG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleC0tO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBub2RlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHQvLyBJZiB3ZSBjYW4ndCBmaW5kIGFueSBtYXRjaGluZyBub2RlLCB3ZSBjcmVhdGUgYSBuZXcgb25lXG5cdFx0cmV0dXJuIGNyZWF0ZV9ub2RlKCk7XG5cdH0pKCk7XG5cdHJlc3VsdF9ub2RlLmNsYWltX29yZGVyID0gbm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkO1xuXHRub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQgKz0gMTtcblx0cmV0dXJuIHJlc3VsdF9ub2RlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHt7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfX0gYXR0cmlidXRlc1xuICogQHBhcmFtIHsobmFtZTogc3RyaW5nKSA9PiBFbGVtZW50IHwgU1ZHRWxlbWVudH0gY3JlYXRlX2VsZW1lbnRcbiAqIEByZXR1cm5zIHtFbGVtZW50IHwgU1ZHRWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gY2xhaW1fZWxlbWVudF9iYXNlKG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzLCBjcmVhdGVfZWxlbWVudCkge1xuXHRyZXR1cm4gY2xhaW1fbm9kZShcblx0XHRub2Rlcyxcblx0XHQvKiogQHJldHVybnMge25vZGUgaXMgRWxlbWVudCB8IFNWR0VsZW1lbnR9ICovXG5cdFx0KG5vZGUpID0+IG5vZGUubm9kZU5hbWUgPT09IG5hbWUsXG5cdFx0LyoqIEBwYXJhbSB7RWxlbWVudH0gbm9kZSAqL1xuXHRcdChub2RlKSA9PiB7XG5cdFx0XHRjb25zdCByZW1vdmUgPSBbXTtcblx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgbm9kZS5hdHRyaWJ1dGVzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGNvbnN0IGF0dHJpYnV0ZSA9IG5vZGUuYXR0cmlidXRlc1tqXTtcblx0XHRcdFx0aWYgKCFhdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSkge1xuXHRcdFx0XHRcdHJlbW92ZS5wdXNoKGF0dHJpYnV0ZS5uYW1lKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmVtb3ZlLmZvckVhY2goKHYpID0+IG5vZGUucmVtb3ZlQXR0cmlidXRlKHYpKTtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fSxcblx0XHQoKSA9PiBjcmVhdGVfZWxlbWVudChuYW1lKVxuXHQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHt7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfX0gYXR0cmlidXRlc1xuICogQHJldHVybnMge0VsZW1lbnQgfCBTVkdFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1fZWxlbWVudChub2RlcywgbmFtZSwgYXR0cmlidXRlcykge1xuXHRyZXR1cm4gY2xhaW1fZWxlbWVudF9iYXNlKG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzLCBlbGVtZW50KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7eyBba2V5OiBzdHJpbmddOiBib29sZWFuIH19IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHtFbGVtZW50IHwgU1ZHRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX3N2Z19lbGVtZW50KG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzKSB7XG5cdHJldHVybiBjbGFpbV9lbGVtZW50X2Jhc2Uobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMsIHN2Z19lbGVtZW50KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHJldHVybnMge1RleHR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFpbV90ZXh0KG5vZGVzLCBkYXRhKSB7XG5cdHJldHVybiBjbGFpbV9ub2RlKFxuXHRcdG5vZGVzLFxuXHRcdC8qKiBAcmV0dXJucyB7bm9kZSBpcyBUZXh0fSAqL1xuXHRcdChub2RlKSA9PiBub2RlLm5vZGVUeXBlID09PSAzLFxuXHRcdC8qKiBAcGFyYW0ge1RleHR9IG5vZGUgKi9cblx0XHQobm9kZSkgPT4ge1xuXHRcdFx0Y29uc3QgZGF0YV9zdHIgPSAnJyArIGRhdGE7XG5cdFx0XHRpZiAobm9kZS5kYXRhLnN0YXJ0c1dpdGgoZGF0YV9zdHIpKSB7XG5cdFx0XHRcdGlmIChub2RlLmRhdGEubGVuZ3RoICE9PSBkYXRhX3N0ci5sZW5ndGgpIHtcblx0XHRcdFx0XHRyZXR1cm4gbm9kZS5zcGxpdFRleHQoZGF0YV9zdHIubGVuZ3RoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bm9kZS5kYXRhID0gZGF0YV9zdHI7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQoKSA9PiB0ZXh0KGRhdGEpLFxuXHRcdHRydWUgLy8gVGV4dCBub2RlcyBzaG91bGQgbm90IHVwZGF0ZSBsYXN0IGluZGV4IHNpbmNlIGl0IGlzIGxpa2VseSBub3Qgd29ydGggaXQgdG8gZWxpbWluYXRlIGFuIGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2YgYWN0dWFsIGVsZW1lbnRzXG5cdCk7XG59XG5cbi8qKlxuICogQHJldHVybnMge1RleHR9ICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1fc3BhY2Uobm9kZXMpIHtcblx0cmV0dXJuIGNsYWltX3RleHQobm9kZXMsICcgJyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEByZXR1cm5zIHtDb21tZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1fY29tbWVudChub2RlcywgZGF0YSkge1xuXHRyZXR1cm4gY2xhaW1fbm9kZShcblx0XHRub2Rlcyxcblx0XHQvKiogQHJldHVybnMge25vZGUgaXMgQ29tbWVudH0gKi9cblx0XHQobm9kZSkgPT4gbm9kZS5ub2RlVHlwZSA9PT0gOCxcblx0XHQvKiogQHBhcmFtIHtDb21tZW50fSBub2RlICovXG5cdFx0KG5vZGUpID0+IHtcblx0XHRcdG5vZGUuZGF0YSA9ICcnICsgZGF0YTtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fSxcblx0XHQoKSA9PiBjb21tZW50KGRhdGEpLFxuXHRcdHRydWVcblx0KTtcbn1cblxuZnVuY3Rpb24gZ2V0X2NvbW1lbnRfaWR4KG5vZGVzLCB0ZXh0LCBzdGFydCkge1xuXHRmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBub2Rlcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGNvbnN0IG5vZGUgPSBub2Rlc1tpXTtcblx0XHRpZiAobm9kZS5ub2RlVHlwZSA9PT0gOCAvKiBjb21tZW50IG5vZGUgKi8gJiYgbm9kZS50ZXh0Q29udGVudC50cmltKCkgPT09IHRleHQpIHtcblx0XHRcdHJldHVybiBpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gLTE7XG59XG5cbi8qKlxuICogQHBhcmFtIHtib29sZWFufSBpc19zdmdcbiAqIEByZXR1cm5zIHtIdG1sVGFnSHlkcmF0aW9ufVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1faHRtbF90YWcobm9kZXMsIGlzX3N2Zykge1xuXHQvLyBmaW5kIGh0bWwgb3BlbmluZyB0YWdcblx0Y29uc3Qgc3RhcnRfaW5kZXggPSBnZXRfY29tbWVudF9pZHgobm9kZXMsICdIVE1MX1RBR19TVEFSVCcsIDApO1xuXHRjb25zdCBlbmRfaW5kZXggPSBnZXRfY29tbWVudF9pZHgobm9kZXMsICdIVE1MX1RBR19FTkQnLCBzdGFydF9pbmRleCArIDEpO1xuXHRpZiAoc3RhcnRfaW5kZXggPT09IC0xIHx8IGVuZF9pbmRleCA9PT0gLTEpIHtcblx0XHRyZXR1cm4gbmV3IEh0bWxUYWdIeWRyYXRpb24oaXNfc3ZnKTtcblx0fVxuXG5cdGluaXRfY2xhaW1faW5mbyhub2Rlcyk7XG5cdGNvbnN0IGh0bWxfdGFnX25vZGVzID0gbm9kZXMuc3BsaWNlKHN0YXJ0X2luZGV4LCBlbmRfaW5kZXggLSBzdGFydF9pbmRleCArIDEpO1xuXHRkZXRhY2goaHRtbF90YWdfbm9kZXNbMF0pO1xuXHRkZXRhY2goaHRtbF90YWdfbm9kZXNbaHRtbF90YWdfbm9kZXMubGVuZ3RoIC0gMV0pO1xuXHRjb25zdCBjbGFpbWVkX25vZGVzID0gaHRtbF90YWdfbm9kZXMuc2xpY2UoMSwgaHRtbF90YWdfbm9kZXMubGVuZ3RoIC0gMSk7XG5cdGlmIChjbGFpbWVkX25vZGVzLmxlbmd0aCA9PT0gMCkge1xuXHRcdHJldHVybiBuZXcgSHRtbFRhZ0h5ZHJhdGlvbihpc19zdmcpO1xuXHR9XG5cdGZvciAoY29uc3QgbiBvZiBjbGFpbWVkX25vZGVzKSB7XG5cdFx0bi5jbGFpbV9vcmRlciA9IG5vZGVzLmNsYWltX2luZm8udG90YWxfY2xhaW1lZDtcblx0XHRub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQgKz0gMTtcblx0fVxuXHRyZXR1cm4gbmV3IEh0bWxUYWdIeWRyYXRpb24oaXNfc3ZnLCBjbGFpbWVkX25vZGVzKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1RleHR9IHRleHRcbiAqIEBwYXJhbSB7dW5rbm93bn0gZGF0YVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfZGF0YSh0ZXh0LCBkYXRhKSB7XG5cdGRhdGEgPSAnJyArIGRhdGE7XG5cdGlmICh0ZXh0LmRhdGEgPT09IGRhdGEpIHJldHVybjtcblx0dGV4dC5kYXRhID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChkYXRhKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1RleHR9IHRleHRcbiAqIEBwYXJhbSB7dW5rbm93bn0gZGF0YVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfZGF0YV9jb250ZW50ZWRpdGFibGUodGV4dCwgZGF0YSkge1xuXHRkYXRhID0gJycgKyBkYXRhO1xuXHRpZiAodGV4dC53aG9sZVRleHQgPT09IGRhdGEpIHJldHVybjtcblx0dGV4dC5kYXRhID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChkYXRhKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1RleHR9IHRleHRcbiAqIEBwYXJhbSB7dW5rbm93bn0gZGF0YVxuICogQHBhcmFtIHtzdHJpbmd9IGF0dHJfdmFsdWVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2RhdGFfbWF5YmVfY29udGVudGVkaXRhYmxlKHRleHQsIGRhdGEsIGF0dHJfdmFsdWUpIHtcblx0aWYgKH5jb250ZW50ZWRpdGFibGVfdHJ1dGh5X3ZhbHVlcy5pbmRleE9mKGF0dHJfdmFsdWUpKSB7XG5cdFx0c2V0X2RhdGFfY29udGVudGVkaXRhYmxlKHRleHQsIGRhdGEpO1xuXHR9IGVsc2Uge1xuXHRcdHNldF9kYXRhKHRleHQsIGRhdGEpO1xuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2lucHV0X3ZhbHVlKGlucHV0LCB2YWx1ZSkge1xuXHRpbnB1dC52YWx1ZSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9pbnB1dF90eXBlKGlucHV0LCB0eXBlKSB7XG5cdHRyeSB7XG5cdFx0aW5wdXQudHlwZSA9IHR5cGU7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHQvLyBkbyBub3RoaW5nXG5cdH1cbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfc3R5bGUobm9kZSwga2V5LCB2YWx1ZSwgaW1wb3J0YW50KSB7XG5cdGlmICh2YWx1ZSA9PSBudWxsKSB7XG5cdFx0bm9kZS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShrZXkpO1xuXHR9IGVsc2Uge1xuXHRcdG5vZGUuc3R5bGUuc2V0UHJvcGVydHkoa2V5LCB2YWx1ZSwgaW1wb3J0YW50ID8gJ2ltcG9ydGFudCcgOiAnJyk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Rfb3B0aW9uKHNlbGVjdCwgdmFsdWUsIG1vdW50aW5nKSB7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0Lm9wdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRjb25zdCBvcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tpXTtcblx0XHRpZiAob3B0aW9uLl9fdmFsdWUgPT09IHZhbHVlKSB7XG5cdFx0XHRvcHRpb24uc2VsZWN0ZWQgPSB0cnVlO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0fVxuXHRpZiAoIW1vdW50aW5nIHx8IHZhbHVlICE9PSB1bmRlZmluZWQpIHtcblx0XHRzZWxlY3Quc2VsZWN0ZWRJbmRleCA9IC0xOyAvLyBubyBvcHRpb24gc2hvdWxkIGJlIHNlbGVjdGVkXG5cdH1cbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Rfb3B0aW9ucyhzZWxlY3QsIHZhbHVlKSB7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0Lm9wdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRjb25zdCBvcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tpXTtcblx0XHRvcHRpb24uc2VsZWN0ZWQgPSB+dmFsdWUuaW5kZXhPZihvcHRpb24uX192YWx1ZSk7XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdF92YWx1ZShzZWxlY3QpIHtcblx0Y29uc3Qgc2VsZWN0ZWRfb3B0aW9uID0gc2VsZWN0LnF1ZXJ5U2VsZWN0b3IoJzpjaGVja2VkJyk7XG5cdHJldHVybiBzZWxlY3RlZF9vcHRpb24gJiYgc2VsZWN0ZWRfb3B0aW9uLl9fdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RfbXVsdGlwbGVfdmFsdWUoc2VsZWN0KSB7XG5cdHJldHVybiBbXS5tYXAuY2FsbChzZWxlY3QucXVlcnlTZWxlY3RvckFsbCgnOmNoZWNrZWQnKSwgKG9wdGlvbikgPT4gb3B0aW9uLl9fdmFsdWUpO1xufVxuLy8gdW5mb3J0dW5hdGVseSB0aGlzIGNhbid0IGJlIGEgY29uc3RhbnQgYXMgdGhhdCB3b3VsZG4ndCBiZSB0cmVlLXNoYWtlYWJsZVxuLy8gc28gd2UgY2FjaGUgdGhlIHJlc3VsdCBpbnN0ZWFkXG5cbi8qKlxuICogQHR5cGUge2Jvb2xlYW59ICovXG5sZXQgY3Jvc3NvcmlnaW47XG5cbi8qKlxuICogQHJldHVybnMge2Jvb2xlYW59ICovXG5leHBvcnQgZnVuY3Rpb24gaXNfY3Jvc3NvcmlnaW4oKSB7XG5cdGlmIChjcm9zc29yaWdpbiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0Y3Jvc3NvcmlnaW4gPSBmYWxzZTtcblx0XHR0cnkge1xuXHRcdFx0aWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wYXJlbnQpIHtcblx0XHRcdFx0dm9pZCB3aW5kb3cucGFyZW50LmRvY3VtZW50O1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRjcm9zc29yaWdpbiA9IHRydWU7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBjcm9zc29yaWdpbjtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlXG4gKiBAcGFyYW0geygpID0+IHZvaWR9IGZuXG4gKiBAcmV0dXJucyB7KCkgPT4gdm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZF9pZnJhbWVfcmVzaXplX2xpc3RlbmVyKG5vZGUsIGZuKSB7XG5cdGNvbnN0IGNvbXB1dGVkX3N0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcblx0aWYgKGNvbXB1dGVkX3N0eWxlLnBvc2l0aW9uID09PSAnc3RhdGljJykge1xuXHRcdG5vZGUuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuXHR9XG5cdGNvbnN0IGlmcmFtZSA9IGVsZW1lbnQoJ2lmcmFtZScpO1xuXHRpZnJhbWUuc2V0QXR0cmlidXRlKFxuXHRcdCdzdHlsZScsXG5cdFx0J2Rpc3BsYXk6IGJsb2NrOyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgJyArXG5cdFx0XHQnb3ZlcmZsb3c6IGhpZGRlbjsgYm9yZGVyOiAwOyBvcGFjaXR5OiAwOyBwb2ludGVyLWV2ZW50czogbm9uZTsgei1pbmRleDogLTE7J1xuXHQpO1xuXHRpZnJhbWUuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG5cdGlmcmFtZS50YWJJbmRleCA9IC0xO1xuXHRjb25zdCBjcm9zc29yaWdpbiA9IGlzX2Nyb3Nzb3JpZ2luKCk7XG5cblx0LyoqXG5cdCAqIEB0eXBlIHsoKSA9PiB2b2lkfVxuXHQgKi9cblx0bGV0IHVuc3Vic2NyaWJlO1xuXHRpZiAoY3Jvc3NvcmlnaW4pIHtcblx0XHRpZnJhbWUuc3JjID0gXCJkYXRhOnRleHQvaHRtbCw8c2NyaXB0Pm9ucmVzaXplPWZ1bmN0aW9uKCl7cGFyZW50LnBvc3RNZXNzYWdlKDAsJyonKX08L3NjcmlwdD5cIjtcblx0XHR1bnN1YnNjcmliZSA9IGxpc3Rlbihcblx0XHRcdHdpbmRvdyxcblx0XHRcdCdtZXNzYWdlJyxcblx0XHRcdC8qKiBAcGFyYW0ge01lc3NhZ2VFdmVudH0gZXZlbnQgKi8gKGV2ZW50KSA9PiB7XG5cdFx0XHRcdGlmIChldmVudC5zb3VyY2UgPT09IGlmcmFtZS5jb250ZW50V2luZG93KSBmbigpO1xuXHRcdFx0fVxuXHRcdCk7XG5cdH0gZWxzZSB7XG5cdFx0aWZyYW1lLnNyYyA9ICdhYm91dDpibGFuayc7XG5cdFx0aWZyYW1lLm9ubG9hZCA9ICgpID0+IHtcblx0XHRcdHVuc3Vic2NyaWJlID0gbGlzdGVuKGlmcmFtZS5jb250ZW50V2luZG93LCAncmVzaXplJywgZm4pO1xuXHRcdFx0Ly8gbWFrZSBzdXJlIGFuIGluaXRpYWwgcmVzaXplIGV2ZW50IGlzIGZpcmVkIF9hZnRlcl8gdGhlIGlmcmFtZSBpcyBsb2FkZWQgKHdoaWNoIGlzIGFzeW5jaHJvbm91cylcblx0XHRcdC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vc3ZlbHRlanMvc3ZlbHRlL2lzc3Vlcy80MjMzXG5cdFx0XHRmbigpO1xuXHRcdH07XG5cdH1cblx0YXBwZW5kKG5vZGUsIGlmcmFtZSk7XG5cdHJldHVybiAoKSA9PiB7XG5cdFx0aWYgKGNyb3Nzb3JpZ2luKSB7XG5cdFx0XHR1bnN1YnNjcmliZSgpO1xuXHRcdH0gZWxzZSBpZiAodW5zdWJzY3JpYmUgJiYgaWZyYW1lLmNvbnRlbnRXaW5kb3cpIHtcblx0XHRcdHVuc3Vic2NyaWJlKCk7XG5cdFx0fVxuXHRcdGRldGFjaChpZnJhbWUpO1xuXHR9O1xufVxuZXhwb3J0IGNvbnN0IHJlc2l6ZV9vYnNlcnZlcl9jb250ZW50X2JveCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24oe1xuXHRib3g6ICdjb250ZW50LWJveCdcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc2l6ZV9vYnNlcnZlcl9ib3JkZXJfYm94ID0gLyogQF9fUFVSRV9fICovIG5ldyBSZXNpemVPYnNlcnZlclNpbmdsZXRvbih7XG5cdGJveDogJ2JvcmRlci1ib3gnXG59KTtcbmV4cG9ydCBjb25zdCByZXNpemVfb2JzZXJ2ZXJfZGV2aWNlX3BpeGVsX2NvbnRlbnRfYm94ID0gLyogQF9fUFVSRV9fICovIG5ldyBSZXNpemVPYnNlcnZlclNpbmdsZXRvbihcblx0eyBib3g6ICdkZXZpY2UtcGl4ZWwtY29udGVudC1ib3gnIH1cbik7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlclNpbmdsZXRvbiB9O1xuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZV9jbGFzcyhlbGVtZW50LCBuYW1lLCB0b2dnbGUpIHtcblx0Ly8gVGhlIGAhIWAgaXMgcmVxdWlyZWQgYmVjYXVzZSBhbiBgdW5kZWZpbmVkYCBmbGFnIG1lYW5zIGZsaXBwaW5nIHRoZSBjdXJyZW50IHN0YXRlLlxuXHRlbGVtZW50LmNsYXNzTGlzdC50b2dnbGUobmFtZSwgISF0b2dnbGUpO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtUfSBbZGV0YWlsXVxuICogQHBhcmFtIHt7IGJ1YmJsZXM/OiBib29sZWFuLCBjYW5jZWxhYmxlPzogYm9vbGVhbiB9fSBbb3B0aW9uc11cbiAqIEByZXR1cm5zIHtDdXN0b21FdmVudDxUPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGN1c3RvbV9ldmVudCh0eXBlLCBkZXRhaWwsIHsgYnViYmxlcyA9IGZhbHNlLCBjYW5jZWxhYmxlID0gZmFsc2UgfSA9IHt9KSB7XG5cdHJldHVybiBuZXcgQ3VzdG9tRXZlbnQodHlwZSwgeyBkZXRhaWwsIGJ1YmJsZXMsIGNhbmNlbGFibGUgfSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnRcbiAqIEByZXR1cm5zIHtDaGlsZE5vZGVBcnJheX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5X3NlbGVjdG9yX2FsbChzZWxlY3RvciwgcGFyZW50ID0gZG9jdW1lbnQuYm9keSkge1xuXHRyZXR1cm4gQXJyYXkuZnJvbShwYXJlbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBub2RlSWRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGhlYWRcbiAqIEByZXR1cm5zIHthbnlbXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhlYWRfc2VsZWN0b3Iobm9kZUlkLCBoZWFkKSB7XG5cdGNvbnN0IHJlc3VsdCA9IFtdO1xuXHRsZXQgc3RhcnRlZCA9IDA7XG5cdGZvciAoY29uc3Qgbm9kZSBvZiBoZWFkLmNoaWxkTm9kZXMpIHtcblx0XHRpZiAobm9kZS5ub2RlVHlwZSA9PT0gOCAvKiBjb21tZW50IG5vZGUgKi8pIHtcblx0XHRcdGNvbnN0IGNvbW1lbnQgPSBub2RlLnRleHRDb250ZW50LnRyaW0oKTtcblx0XHRcdGlmIChjb21tZW50ID09PSBgSEVBRF8ke25vZGVJZH1fRU5EYCkge1xuXHRcdFx0XHRzdGFydGVkIC09IDE7XG5cdFx0XHRcdHJlc3VsdC5wdXNoKG5vZGUpO1xuXHRcdFx0fSBlbHNlIGlmIChjb21tZW50ID09PSBgSEVBRF8ke25vZGVJZH1fU1RBUlRgKSB7XG5cdFx0XHRcdHN0YXJ0ZWQgKz0gMTtcblx0XHRcdFx0cmVzdWx0LnB1c2gobm9kZSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChzdGFydGVkID4gMCkge1xuXHRcdFx0cmVzdWx0LnB1c2gobm9kZSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG4vKiogKi9cbmV4cG9ydCBjbGFzcyBIdG1sVGFnIHtcblx0LyoqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBkZWZhdWx0IGZhbHNlXG5cdCAqL1xuXHRpc19zdmcgPSBmYWxzZTtcblx0LyoqIHBhcmVudCBmb3IgY3JlYXRpbmcgbm9kZSAqL1xuXHRlID0gdW5kZWZpbmVkO1xuXHQvKiogaHRtbCB0YWcgbm9kZXMgKi9cblx0biA9IHVuZGVmaW5lZDtcblx0LyoqIHRhcmdldCAqL1xuXHR0ID0gdW5kZWZpbmVkO1xuXHQvKiogYW5jaG9yICovXG5cdGEgPSB1bmRlZmluZWQ7XG5cdGNvbnN0cnVjdG9yKGlzX3N2ZyA9IGZhbHNlKSB7XG5cdFx0dGhpcy5pc19zdmcgPSBpc19zdmc7XG5cdFx0dGhpcy5lID0gdGhpcy5uID0gbnVsbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGMoaHRtbCkge1xuXHRcdHRoaXMuaChodG1sKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50IHwgU1ZHRWxlbWVudH0gdGFyZ2V0XG5cdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnQgfCBTVkdFbGVtZW50fSBhbmNob3Jcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRtKGh0bWwsIHRhcmdldCwgYW5jaG9yID0gbnVsbCkge1xuXHRcdGlmICghdGhpcy5lKSB7XG5cdFx0XHRpZiAodGhpcy5pc19zdmcpXG5cdFx0XHRcdHRoaXMuZSA9IHN2Z19lbGVtZW50KC8qKiBAdHlwZSB7a2V5b2YgU1ZHRWxlbWVudFRhZ05hbWVNYXB9ICovICh0YXJnZXQubm9kZU5hbWUpKTtcblx0XHRcdC8qKiAjNzM2NCAgdGFyZ2V0IGZvciA8dGVtcGxhdGU+IG1heSBiZSBwcm92aWRlZCBhcyAjZG9jdW1lbnQtZnJhZ21lbnQoMTEpICovIGVsc2Vcblx0XHRcdFx0dGhpcy5lID0gZWxlbWVudChcblx0XHRcdFx0XHQvKiogQHR5cGUge2tleW9mIEhUTUxFbGVtZW50VGFnTmFtZU1hcH0gKi8gKFxuXHRcdFx0XHRcdFx0dGFyZ2V0Lm5vZGVUeXBlID09PSAxMSA/ICdURU1QTEFURScgOiB0YXJnZXQubm9kZU5hbWVcblx0XHRcdFx0XHQpXG5cdFx0XHRcdCk7XG5cdFx0XHR0aGlzLnQgPVxuXHRcdFx0XHR0YXJnZXQudGFnTmFtZSAhPT0gJ1RFTVBMQVRFJ1xuXHRcdFx0XHRcdD8gdGFyZ2V0XG5cdFx0XHRcdFx0OiAvKiogQHR5cGUge0hUTUxUZW1wbGF0ZUVsZW1lbnR9ICovICh0YXJnZXQpLmNvbnRlbnQ7XG5cdFx0XHR0aGlzLmMoaHRtbCk7XG5cdFx0fVxuXHRcdHRoaXMuaShhbmNob3IpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0aChodG1sKSB7XG5cdFx0dGhpcy5lLmlubmVySFRNTCA9IGh0bWw7XG5cdFx0dGhpcy5uID0gQXJyYXkuZnJvbShcblx0XHRcdHRoaXMuZS5ub2RlTmFtZSA9PT0gJ1RFTVBMQVRFJyA/IHRoaXMuZS5jb250ZW50LmNoaWxkTm9kZXMgOiB0aGlzLmUuY2hpbGROb2Rlc1xuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGkoYW5jaG9yKSB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm4ubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdGluc2VydCh0aGlzLnQsIHRoaXMubltpXSwgYW5jaG9yKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRwKGh0bWwpIHtcblx0XHR0aGlzLmQoKTtcblx0XHR0aGlzLmgoaHRtbCk7XG5cdFx0dGhpcy5pKHRoaXMuYSk7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGQoKSB7XG5cdFx0dGhpcy5uLmZvckVhY2goZGV0YWNoKTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgSHRtbFRhZ0h5ZHJhdGlvbiBleHRlbmRzIEh0bWxUYWcge1xuXHQvKiogQHR5cGUge0VsZW1lbnRbXX0gaHlkcmF0aW9uIGNsYWltZWQgbm9kZXMgKi9cblx0bCA9IHVuZGVmaW5lZDtcblxuXHRjb25zdHJ1Y3Rvcihpc19zdmcgPSBmYWxzZSwgY2xhaW1lZF9ub2Rlcykge1xuXHRcdHN1cGVyKGlzX3N2Zyk7XG5cdFx0dGhpcy5lID0gdGhpcy5uID0gbnVsbDtcblx0XHR0aGlzLmwgPSBjbGFpbWVkX25vZGVzO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0YyhodG1sKSB7XG5cdFx0aWYgKHRoaXMubCkge1xuXHRcdFx0dGhpcy5uID0gdGhpcy5sO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdXBlci5jKGh0bWwpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0aShhbmNob3IpIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubi5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0aW5zZXJ0X2h5ZHJhdGlvbih0aGlzLnQsIHRoaXMubltpXSwgYW5jaG9yKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge05hbWVkTm9kZU1hcH0gYXR0cmlidXRlc1xuICogQHJldHVybnMge3t9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXR0cmlidXRlX3RvX29iamVjdChhdHRyaWJ1dGVzKSB7XG5cdGNvbnN0IHJlc3VsdCA9IHt9O1xuXHRmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiBhdHRyaWJ1dGVzKSB7XG5cdFx0cmVzdWx0W2F0dHJpYnV0ZS5uYW1lXSA9IGF0dHJpYnV0ZS52YWx1ZTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG5jb25zdCBlc2NhcGVkID0ge1xuXHQnXCInOiAnJnF1b3Q7Jyxcblx0JyYnOiAnJmFtcDsnLFxuXHQnPCc6ICcmbHQ7J1xufTtcblxuY29uc3QgcmVnZXhfYXR0cmlidXRlX2NoYXJhY3RlcnNfdG9fZXNjYXBlID0gL1tcIiY8XS9nO1xuXG4vKipcbiAqIE5vdGUgdGhhdCB0aGUgYXR0cmlidXRlIGl0c2VsZiBzaG91bGQgYmUgc3Vycm91bmRlZCBpbiBkb3VibGUgcXVvdGVzXG4gKiBAcGFyYW0ge2FueX0gYXR0cmlidXRlXG4gKi9cbmZ1bmN0aW9uIGVzY2FwZV9hdHRyaWJ1dGUoYXR0cmlidXRlKSB7XG5cdHJldHVybiBTdHJpbmcoYXR0cmlidXRlKS5yZXBsYWNlKHJlZ2V4X2F0dHJpYnV0ZV9jaGFyYWN0ZXJzX3RvX2VzY2FwZSwgKG1hdGNoKSA9PiBlc2NhcGVkW21hdGNoXSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+fSBhdHRyaWJ1dGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnlfc3ByZWFkKGF0dHJpYnV0ZXMpIHtcblx0bGV0IHN0ciA9ICcgJztcblx0Zm9yIChjb25zdCBrZXkgaW4gYXR0cmlidXRlcykge1xuXHRcdGlmIChhdHRyaWJ1dGVzW2tleV0gIT0gbnVsbCkge1xuXHRcdFx0c3RyICs9IGAke2tleX09XCIke2VzY2FwZV9hdHRyaWJ1dGUoYXR0cmlidXRlc1trZXldKX1cIiBgO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBzdHI7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge3t9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X2N1c3RvbV9lbGVtZW50c19zbG90cyhlbGVtZW50KSB7XG5cdGNvbnN0IHJlc3VsdCA9IHt9O1xuXHRlbGVtZW50LmNoaWxkTm9kZXMuZm9yRWFjaChcblx0XHQvKiogQHBhcmFtIHtFbGVtZW50fSBub2RlICovIChub2RlKSA9PiB7XG5cdFx0XHRyZXN1bHRbbm9kZS5zbG90IHx8ICdkZWZhdWx0J10gPSB0cnVlO1xuXHRcdH1cblx0KTtcblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnN0cnVjdF9zdmVsdGVfY29tcG9uZW50KGNvbXBvbmVudCwgcHJvcHMpIHtcblx0cmV0dXJuIG5ldyBjb21wb25lbnQocHJvcHMpO1xufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtOb2RlICYge1xuICogXHRjbGFpbV9vcmRlcj86IG51bWJlcjtcbiAqIFx0aHlkcmF0ZV9pbml0PzogdHJ1ZTtcbiAqIFx0YWN0dWFsX2VuZF9jaGlsZD86IE5vZGVFeDtcbiAqIFx0Y2hpbGROb2RlczogTm9kZUxpc3RPZjxOb2RlRXg+O1xuICogfX0gTm9kZUV4XG4gKi9cblxuLyoqIEB0eXBlZGVmIHtDaGlsZE5vZGUgJiBOb2RlRXh9IENoaWxkTm9kZUV4ICovXG5cbi8qKiBAdHlwZWRlZiB7Tm9kZUV4ICYgeyBjbGFpbV9vcmRlcjogbnVtYmVyIH19IE5vZGVFeDIgKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7Q2hpbGROb2RlRXhbXSAmIHtcbiAqIFx0Y2xhaW1faW5mbz86IHtcbiAqIFx0XHRsYXN0X2luZGV4OiBudW1iZXI7XG4gKiBcdFx0dG90YWxfY2xhaW1lZDogbnVtYmVyO1xuICogXHR9O1xuICogfX0gQ2hpbGROb2RlQXJyYXlcbiAqL1xuIiwiaW1wb3J0IHsgY3VzdG9tX2V2ZW50IH0gZnJvbSAnLi9kb20uanMnO1xuXG5leHBvcnQgbGV0IGN1cnJlbnRfY29tcG9uZW50O1xuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2N1cnJlbnRfY29tcG9uZW50KGNvbXBvbmVudCkge1xuXHRjdXJyZW50X2NvbXBvbmVudCA9IGNvbXBvbmVudDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldF9jdXJyZW50X2NvbXBvbmVudCgpIHtcblx0aWYgKCFjdXJyZW50X2NvbXBvbmVudCkgdGhyb3cgbmV3IEVycm9yKCdGdW5jdGlvbiBjYWxsZWQgb3V0c2lkZSBjb21wb25lbnQgaW5pdGlhbGl6YXRpb24nKTtcblx0cmV0dXJuIGN1cnJlbnRfY29tcG9uZW50O1xufVxuXG4vKipcbiAqIFNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyB1cGRhdGVkIGFmdGVyIGFueSBzdGF0ZSBjaGFuZ2UuXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIHJ1bnMgd2lsbCBiZSBiZWZvcmUgdGhlIGluaXRpYWwgYG9uTW91bnRgXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2JlZm9yZXVwZGF0ZVxuICogQHBhcmFtIHsoKSA9PiBhbnl9IGZuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJlZm9yZVVwZGF0ZShmbikge1xuXHRnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5iZWZvcmVfdXBkYXRlLnB1c2goZm4pO1xufVxuXG4vKipcbiAqIFRoZSBgb25Nb3VudGAgZnVuY3Rpb24gc2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGFzIHNvb24gYXMgdGhlIGNvbXBvbmVudCBoYXMgYmVlbiBtb3VudGVkIHRvIHRoZSBET00uXG4gKiBJdCBtdXN0IGJlIGNhbGxlZCBkdXJpbmcgdGhlIGNvbXBvbmVudCdzIGluaXRpYWxpc2F0aW9uIChidXQgZG9lc24ndCBuZWVkIHRvIGxpdmUgKmluc2lkZSogdGhlIGNvbXBvbmVudDtcbiAqIGl0IGNhbiBiZSBjYWxsZWQgZnJvbSBhbiBleHRlcm5hbCBtb2R1bGUpLlxuICpcbiAqIElmIGEgZnVuY3Rpb24gaXMgcmV0dXJuZWQgX3N5bmNocm9ub3VzbHlfIGZyb20gYG9uTW91bnRgLCBpdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgdW5tb3VudGVkLlxuICpcbiAqIGBvbk1vdW50YCBkb2VzIG5vdCBydW4gaW5zaWRlIGEgW3NlcnZlci1zaWRlIGNvbXBvbmVudF0oaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3MjcnVuLXRpbWUtc2VydmVyLXNpZGUtY29tcG9uZW50LWFwaSkuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI29ubW91bnRcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0geygpID0+IGltcG9ydCgnLi9wcml2YXRlLmpzJykuTm90RnVuY3Rpb248VD4gfCBQcm9taXNlPGltcG9ydCgnLi9wcml2YXRlLmpzJykuTm90RnVuY3Rpb248VD4+IHwgKCgpID0+IGFueSl9IGZuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uTW91bnQoZm4pIHtcblx0Z2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQub25fbW91bnQucHVzaChmbik7XG59XG5cbi8qKlxuICogU2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gdXBkYXRlZC5cbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgcnVucyB3aWxsIGJlIGFmdGVyIHRoZSBpbml0aWFsIGBvbk1vdW50YFxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNhZnRlcnVwZGF0ZVxuICogQHBhcmFtIHsoKSA9PiBhbnl9IGZuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFmdGVyVXBkYXRlKGZuKSB7XG5cdGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmFmdGVyX3VwZGF0ZS5wdXNoKGZuKTtcbn1cblxuLyoqXG4gKiBTY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgdW5tb3VudGVkLlxuICpcbiAqIE91dCBvZiBgb25Nb3VudGAsIGBiZWZvcmVVcGRhdGVgLCBgYWZ0ZXJVcGRhdGVgIGFuZCBgb25EZXN0cm95YCwgdGhpcyBpcyB0aGVcbiAqIG9ubHkgb25lIHRoYXQgcnVucyBpbnNpZGUgYSBzZXJ2ZXItc2lkZSBjb21wb25lbnQuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI29uZGVzdHJveVxuICogQHBhcmFtIHsoKSA9PiBhbnl9IGZuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uRGVzdHJveShmbikge1xuXHRnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5vbl9kZXN0cm95LnB1c2goZm4pO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gZXZlbnQgZGlzcGF0Y2hlciB0aGF0IGNhbiBiZSB1c2VkIHRvIGRpc3BhdGNoIFtjb21wb25lbnQgZXZlbnRzXShodHRwczovL3N2ZWx0ZS5kZXYvZG9jcyN0ZW1wbGF0ZS1zeW50YXgtY29tcG9uZW50LWRpcmVjdGl2ZXMtb24tZXZlbnRuYW1lKS5cbiAqIEV2ZW50IGRpc3BhdGNoZXJzIGFyZSBmdW5jdGlvbnMgdGhhdCBjYW4gdGFrZSB0d28gYXJndW1lbnRzOiBgbmFtZWAgYW5kIGBkZXRhaWxgLlxuICpcbiAqIENvbXBvbmVudCBldmVudHMgY3JlYXRlZCB3aXRoIGBjcmVhdGVFdmVudERpc3BhdGNoZXJgIGNyZWF0ZSBhXG4gKiBbQ3VzdG9tRXZlbnRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DdXN0b21FdmVudCkuXG4gKiBUaGVzZSBldmVudHMgZG8gbm90IFtidWJibGVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvTGVhcm4vSmF2YVNjcmlwdC9CdWlsZGluZ19ibG9ja3MvRXZlbnRzI0V2ZW50X2J1YmJsaW5nX2FuZF9jYXB0dXJlKS5cbiAqIFRoZSBgZGV0YWlsYCBhcmd1bWVudCBjb3JyZXNwb25kcyB0byB0aGUgW0N1c3RvbUV2ZW50LmRldGFpbF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0N1c3RvbUV2ZW50L2RldGFpbClcbiAqIHByb3BlcnR5IGFuZCBjYW4gY29udGFpbiBhbnkgdHlwZSBvZiBkYXRhLlxuICpcbiAqIFRoZSBldmVudCBkaXNwYXRjaGVyIGNhbiBiZSB0eXBlZCB0byBuYXJyb3cgdGhlIGFsbG93ZWQgZXZlbnQgbmFtZXMgYW5kIHRoZSB0eXBlIG9mIHRoZSBgZGV0YWlsYCBhcmd1bWVudDpcbiAqIGBgYHRzXG4gKiBjb25zdCBkaXNwYXRjaCA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcjx7XG4gKiAgbG9hZGVkOiBuZXZlcjsgLy8gZG9lcyBub3QgdGFrZSBhIGRldGFpbCBhcmd1bWVudFxuICogIGNoYW5nZTogc3RyaW5nOyAvLyB0YWtlcyBhIGRldGFpbCBhcmd1bWVudCBvZiB0eXBlIHN0cmluZywgd2hpY2ggaXMgcmVxdWlyZWRcbiAqICBvcHRpb25hbDogbnVtYmVyIHwgbnVsbDsgLy8gdGFrZXMgYW4gb3B0aW9uYWwgZGV0YWlsIGFyZ3VtZW50IG9mIHR5cGUgbnVtYmVyXG4gKiB9PigpO1xuICogYGBgXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2NyZWF0ZWV2ZW50ZGlzcGF0Y2hlclxuICogQHRlbXBsYXRlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBbRXZlbnRNYXA9YW55XVxuICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5FdmVudERpc3BhdGNoZXI8RXZlbnRNYXA+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCkge1xuXHRjb25zdCBjb21wb25lbnQgPSBnZXRfY3VycmVudF9jb21wb25lbnQoKTtcblx0cmV0dXJuICh0eXBlLCBkZXRhaWwsIHsgY2FuY2VsYWJsZSA9IGZhbHNlIH0gPSB7fSkgPT4ge1xuXHRcdGNvbnN0IGNhbGxiYWNrcyA9IGNvbXBvbmVudC4kJC5jYWxsYmFja3NbdHlwZV07XG5cdFx0aWYgKGNhbGxiYWNrcykge1xuXHRcdFx0Ly8gVE9ETyBhcmUgdGhlcmUgc2l0dWF0aW9ucyB3aGVyZSBldmVudHMgY291bGQgYmUgZGlzcGF0Y2hlZFxuXHRcdFx0Ly8gaW4gYSBzZXJ2ZXIgKG5vbi1ET00pIGVudmlyb25tZW50P1xuXHRcdFx0Y29uc3QgZXZlbnQgPSBjdXN0b21fZXZlbnQoLyoqIEB0eXBlIHtzdHJpbmd9ICovICh0eXBlKSwgZGV0YWlsLCB7IGNhbmNlbGFibGUgfSk7XG5cdFx0XHRjYWxsYmFja3Muc2xpY2UoKS5mb3JFYWNoKChmbikgPT4ge1xuXHRcdFx0XHRmbi5jYWxsKGNvbXBvbmVudCwgZXZlbnQpO1xuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xufVxuXG4vKipcbiAqIEFzc29jaWF0ZXMgYW4gYXJiaXRyYXJ5IGBjb250ZXh0YCBvYmplY3Qgd2l0aCB0aGUgY3VycmVudCBjb21wb25lbnQgYW5kIHRoZSBzcGVjaWZpZWQgYGtleWBcbiAqIGFuZCByZXR1cm5zIHRoYXQgb2JqZWN0LiBUaGUgY29udGV4dCBpcyB0aGVuIGF2YWlsYWJsZSB0byBjaGlsZHJlbiBvZiB0aGUgY29tcG9uZW50XG4gKiAoaW5jbHVkaW5nIHNsb3R0ZWQgY29udGVudCkgd2l0aCBgZ2V0Q29udGV4dGAuXG4gKlxuICogTGlrZSBsaWZlY3ljbGUgZnVuY3Rpb25zLCB0aGlzIG11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI3NldGNvbnRleHRcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2FueX0ga2V5XG4gKiBAcGFyYW0ge1R9IGNvbnRleHRcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29udGV4dChrZXksIGNvbnRleHQpIHtcblx0Z2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dC5zZXQoa2V5LCBjb250ZXh0KTtcblx0cmV0dXJuIGNvbnRleHQ7XG59XG5cbi8qKlxuICogUmV0cmlldmVzIHRoZSBjb250ZXh0IHRoYXQgYmVsb25ncyB0byB0aGUgY2xvc2VzdCBwYXJlbnQgY29tcG9uZW50IHdpdGggdGhlIHNwZWNpZmllZCBga2V5YC5cbiAqIE11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2dldGNvbnRleHRcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2FueX0ga2V5XG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRleHQoa2V5KSB7XG5cdHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LmdldChrZXkpO1xufVxuXG4vKipcbiAqIFJldHJpZXZlcyB0aGUgd2hvbGUgY29udGV4dCBtYXAgdGhhdCBiZWxvbmdzIHRvIHRoZSBjbG9zZXN0IHBhcmVudCBjb21wb25lbnQuXG4gKiBNdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLiBVc2VmdWwsIGZvciBleGFtcGxlLCBpZiB5b3VcbiAqIHByb2dyYW1tYXRpY2FsbHkgY3JlYXRlIGEgY29tcG9uZW50IGFuZCB3YW50IHRvIHBhc3MgdGhlIGV4aXN0aW5nIGNvbnRleHQgdG8gaXQuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2dldGFsbGNvbnRleHRzXG4gKiBAdGVtcGxhdGUge01hcDxhbnksIGFueT59IFtUPU1hcDxhbnksIGFueT5dXG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFsbENvbnRleHRzKCkge1xuXHRyZXR1cm4gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dDtcbn1cblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhIGdpdmVuIGBrZXlgIGhhcyBiZWVuIHNldCBpbiB0aGUgY29udGV4dCBvZiBhIHBhcmVudCBjb21wb25lbnQuXG4gKiBNdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNoYXNjb250ZXh0XG4gKiBAcGFyYW0ge2FueX0ga2V5XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0NvbnRleHQoa2V5KSB7XG5cdHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LmhhcyhrZXkpO1xufVxuXG4vLyBUT0RPIGZpZ3VyZSBvdXQgaWYgd2Ugc3RpbGwgd2FudCB0byBzdXBwb3J0XG4vLyBzaG9ydGhhbmQgZXZlbnRzLCBvciBpZiB3ZSB3YW50IHRvIGltcGxlbWVudFxuLy8gYSByZWFsIGJ1YmJsaW5nIG1lY2hhbmlzbVxuLyoqXG4gKiBAcGFyYW0gY29tcG9uZW50XG4gKiBAcGFyYW0gZXZlbnRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYnViYmxlKGNvbXBvbmVudCwgZXZlbnQpIHtcblx0Y29uc3QgY2FsbGJhY2tzID0gY29tcG9uZW50LiQkLmNhbGxiYWNrc1tldmVudC50eXBlXTtcblx0aWYgKGNhbGxiYWNrcykge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRjYWxsYmFja3Muc2xpY2UoKS5mb3JFYWNoKChmbikgPT4gZm4uY2FsbCh0aGlzLCBldmVudCkpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBydW5fYWxsIH0gZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQgeyBjdXJyZW50X2NvbXBvbmVudCwgc2V0X2N1cnJlbnRfY29tcG9uZW50IH0gZnJvbSAnLi9saWZlY3ljbGUuanMnO1xuXG5leHBvcnQgY29uc3QgZGlydHlfY29tcG9uZW50cyA9IFtdO1xuZXhwb3J0IGNvbnN0IGludHJvcyA9IHsgZW5hYmxlZDogZmFsc2UgfTtcbmV4cG9ydCBjb25zdCBiaW5kaW5nX2NhbGxiYWNrcyA9IFtdO1xuXG5sZXQgcmVuZGVyX2NhbGxiYWNrcyA9IFtdO1xuXG5jb25zdCBmbHVzaF9jYWxsYmFja3MgPSBbXTtcblxuY29uc3QgcmVzb2x2ZWRfcHJvbWlzZSA9IC8qIEBfX1BVUkVfXyAqLyBQcm9taXNlLnJlc29sdmUoKTtcblxubGV0IHVwZGF0ZV9zY2hlZHVsZWQgPSBmYWxzZTtcblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlX3VwZGF0ZSgpIHtcblx0aWYgKCF1cGRhdGVfc2NoZWR1bGVkKSB7XG5cdFx0dXBkYXRlX3NjaGVkdWxlZCA9IHRydWU7XG5cdFx0cmVzb2x2ZWRfcHJvbWlzZS50aGVuKGZsdXNoKTtcblx0fVxufVxuXG4vKiogQHJldHVybnMge1Byb21pc2U8dm9pZD59ICovXG5leHBvcnQgZnVuY3Rpb24gdGljaygpIHtcblx0c2NoZWR1bGVfdXBkYXRlKCk7XG5cdHJldHVybiByZXNvbHZlZF9wcm9taXNlO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gYWRkX3JlbmRlcl9jYWxsYmFjayhmbikge1xuXHRyZW5kZXJfY2FsbGJhY2tzLnB1c2goZm4pO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gYWRkX2ZsdXNoX2NhbGxiYWNrKGZuKSB7XG5cdGZsdXNoX2NhbGxiYWNrcy5wdXNoKGZuKTtcbn1cblxuLy8gZmx1c2goKSBjYWxscyBjYWxsYmFja3MgaW4gdGhpcyBvcmRlcjpcbi8vIDEuIEFsbCBiZWZvcmVVcGRhdGUgY2FsbGJhY2tzLCBpbiBvcmRlcjogcGFyZW50cyBiZWZvcmUgY2hpbGRyZW5cbi8vIDIuIEFsbCBiaW5kOnRoaXMgY2FsbGJhY2tzLCBpbiByZXZlcnNlIG9yZGVyOiBjaGlsZHJlbiBiZWZvcmUgcGFyZW50cy5cbi8vIDMuIEFsbCBhZnRlclVwZGF0ZSBjYWxsYmFja3MsIGluIG9yZGVyOiBwYXJlbnRzIGJlZm9yZSBjaGlsZHJlbi4gRVhDRVBUXG4vLyAgICBmb3IgYWZ0ZXJVcGRhdGVzIGNhbGxlZCBkdXJpbmcgdGhlIGluaXRpYWwgb25Nb3VudCwgd2hpY2ggYXJlIGNhbGxlZCBpblxuLy8gICAgcmV2ZXJzZSBvcmRlcjogY2hpbGRyZW4gYmVmb3JlIHBhcmVudHMuXG4vLyBTaW5jZSBjYWxsYmFja3MgbWlnaHQgdXBkYXRlIGNvbXBvbmVudCB2YWx1ZXMsIHdoaWNoIGNvdWxkIHRyaWdnZXIgYW5vdGhlclxuLy8gY2FsbCB0byBmbHVzaCgpLCB0aGUgZm9sbG93aW5nIHN0ZXBzIGd1YXJkIGFnYWluc3QgdGhpczpcbi8vIDEuIER1cmluZyBiZWZvcmVVcGRhdGUsIGFueSB1cGRhdGVkIGNvbXBvbmVudHMgd2lsbCBiZSBhZGRlZCB0byB0aGVcbi8vICAgIGRpcnR5X2NvbXBvbmVudHMgYXJyYXkgYW5kIHdpbGwgY2F1c2UgYSByZWVudHJhbnQgY2FsbCB0byBmbHVzaCgpLiBCZWNhdXNlXG4vLyAgICB0aGUgZmx1c2ggaW5kZXggaXMga2VwdCBvdXRzaWRlIHRoZSBmdW5jdGlvbiwgdGhlIHJlZW50cmFudCBjYWxsIHdpbGwgcGlja1xuLy8gICAgdXAgd2hlcmUgdGhlIGVhcmxpZXIgY2FsbCBsZWZ0IG9mZiBhbmQgZ28gdGhyb3VnaCBhbGwgZGlydHkgY29tcG9uZW50cy4gVGhlXG4vLyAgICBjdXJyZW50X2NvbXBvbmVudCB2YWx1ZSBpcyBzYXZlZCBhbmQgcmVzdG9yZWQgc28gdGhhdCB0aGUgcmVlbnRyYW50IGNhbGwgd2lsbFxuLy8gICAgbm90IGludGVyZmVyZSB3aXRoIHRoZSBcInBhcmVudFwiIGZsdXNoKCkgY2FsbC5cbi8vIDIuIGJpbmQ6dGhpcyBjYWxsYmFja3MgY2Fubm90IHRyaWdnZXIgbmV3IGZsdXNoKCkgY2FsbHMuXG4vLyAzLiBEdXJpbmcgYWZ0ZXJVcGRhdGUsIGFueSB1cGRhdGVkIGNvbXBvbmVudHMgd2lsbCBOT1QgaGF2ZSB0aGVpciBhZnRlclVwZGF0ZVxuLy8gICAgY2FsbGJhY2sgY2FsbGVkIGEgc2Vjb25kIHRpbWU7IHRoZSBzZWVuX2NhbGxiYWNrcyBzZXQsIG91dHNpZGUgdGhlIGZsdXNoKClcbi8vICAgIGZ1bmN0aW9uLCBndWFyYW50ZWVzIHRoaXMgYmVoYXZpb3IuXG5jb25zdCBzZWVuX2NhbGxiYWNrcyA9IG5ldyBTZXQoKTtcblxubGV0IGZsdXNoaWR4ID0gMDsgLy8gRG8gKm5vdCogbW92ZSB0aGlzIGluc2lkZSB0aGUgZmx1c2goKSBmdW5jdGlvblxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZmx1c2goKSB7XG5cdC8vIERvIG5vdCByZWVudGVyIGZsdXNoIHdoaWxlIGRpcnR5IGNvbXBvbmVudHMgYXJlIHVwZGF0ZWQsIGFzIHRoaXMgY2FuXG5cdC8vIHJlc3VsdCBpbiBhbiBpbmZpbml0ZSBsb29wLiBJbnN0ZWFkLCBsZXQgdGhlIGlubmVyIGZsdXNoIGhhbmRsZSBpdC5cblx0Ly8gUmVlbnRyYW5jeSBpcyBvayBhZnRlcndhcmRzIGZvciBiaW5kaW5ncyBldGMuXG5cdGlmIChmbHVzaGlkeCAhPT0gMCkge1xuXHRcdHJldHVybjtcblx0fVxuXHRjb25zdCBzYXZlZF9jb21wb25lbnQgPSBjdXJyZW50X2NvbXBvbmVudDtcblx0ZG8ge1xuXHRcdC8vIGZpcnN0LCBjYWxsIGJlZm9yZVVwZGF0ZSBmdW5jdGlvbnNcblx0XHQvLyBhbmQgdXBkYXRlIGNvbXBvbmVudHNcblx0XHR0cnkge1xuXHRcdFx0d2hpbGUgKGZsdXNoaWR4IDwgZGlydHlfY29tcG9uZW50cy5sZW5ndGgpIHtcblx0XHRcdFx0Y29uc3QgY29tcG9uZW50ID0gZGlydHlfY29tcG9uZW50c1tmbHVzaGlkeF07XG5cdFx0XHRcdGZsdXNoaWR4Kys7XG5cdFx0XHRcdHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpO1xuXHRcdFx0XHR1cGRhdGUoY29tcG9uZW50LiQkKTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHQvLyByZXNldCBkaXJ0eSBzdGF0ZSB0byBub3QgZW5kIHVwIGluIGEgZGVhZGxvY2tlZCBzdGF0ZSBhbmQgdGhlbiByZXRocm93XG5cdFx0XHRkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCA9IDA7XG5cdFx0XHRmbHVzaGlkeCA9IDA7XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH1cblx0XHRzZXRfY3VycmVudF9jb21wb25lbnQobnVsbCk7XG5cdFx0ZGlydHlfY29tcG9uZW50cy5sZW5ndGggPSAwO1xuXHRcdGZsdXNoaWR4ID0gMDtcblx0XHR3aGlsZSAoYmluZGluZ19jYWxsYmFja3MubGVuZ3RoKSBiaW5kaW5nX2NhbGxiYWNrcy5wb3AoKSgpO1xuXHRcdC8vIHRoZW4sIG9uY2UgY29tcG9uZW50cyBhcmUgdXBkYXRlZCwgY2FsbFxuXHRcdC8vIGFmdGVyVXBkYXRlIGZ1bmN0aW9ucy4gVGhpcyBtYXkgY2F1c2Vcblx0XHQvLyBzdWJzZXF1ZW50IHVwZGF0ZXMuLi5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHJlbmRlcl9jYWxsYmFja3MubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdGNvbnN0IGNhbGxiYWNrID0gcmVuZGVyX2NhbGxiYWNrc1tpXTtcblx0XHRcdGlmICghc2Vlbl9jYWxsYmFja3MuaGFzKGNhbGxiYWNrKSkge1xuXHRcdFx0XHQvLyAuLi5zbyBndWFyZCBhZ2FpbnN0IGluZmluaXRlIGxvb3BzXG5cdFx0XHRcdHNlZW5fY2FsbGJhY2tzLmFkZChjYWxsYmFjayk7XG5cdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJlbmRlcl9jYWxsYmFja3MubGVuZ3RoID0gMDtcblx0fSB3aGlsZSAoZGlydHlfY29tcG9uZW50cy5sZW5ndGgpO1xuXHR3aGlsZSAoZmx1c2hfY2FsbGJhY2tzLmxlbmd0aCkge1xuXHRcdGZsdXNoX2NhbGxiYWNrcy5wb3AoKSgpO1xuXHR9XG5cdHVwZGF0ZV9zY2hlZHVsZWQgPSBmYWxzZTtcblx0c2Vlbl9jYWxsYmFja3MuY2xlYXIoKTtcblx0c2V0X2N1cnJlbnRfY29tcG9uZW50KHNhdmVkX2NvbXBvbmVudCk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmZ1bmN0aW9uIHVwZGF0ZSgkJCkge1xuXHRpZiAoJCQuZnJhZ21lbnQgIT09IG51bGwpIHtcblx0XHQkJC51cGRhdGUoKTtcblx0XHRydW5fYWxsKCQkLmJlZm9yZV91cGRhdGUpO1xuXHRcdGNvbnN0IGRpcnR5ID0gJCQuZGlydHk7XG5cdFx0JCQuZGlydHkgPSBbLTFdO1xuXHRcdCQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LnAoJCQuY3R4LCBkaXJ0eSk7XG5cdFx0JCQuYWZ0ZXJfdXBkYXRlLmZvckVhY2goYWRkX3JlbmRlcl9jYWxsYmFjayk7XG5cdH1cbn1cblxuLyoqXG4gKiBVc2VmdWwgZm9yIGV4YW1wbGUgdG8gZXhlY3V0ZSByZW1haW5pbmcgYGFmdGVyVXBkYXRlYCBjYWxsYmFja3MgYmVmb3JlIGV4ZWN1dGluZyBgZGVzdHJveWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9uW119IGZuc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbHVzaF9yZW5kZXJfY2FsbGJhY2tzKGZucykge1xuXHRjb25zdCBmaWx0ZXJlZCA9IFtdO1xuXHRjb25zdCB0YXJnZXRzID0gW107XG5cdHJlbmRlcl9jYWxsYmFja3MuZm9yRWFjaCgoYykgPT4gKGZucy5pbmRleE9mKGMpID09PSAtMSA/IGZpbHRlcmVkLnB1c2goYykgOiB0YXJnZXRzLnB1c2goYykpKTtcblx0dGFyZ2V0cy5mb3JFYWNoKChjKSA9PiBjKCkpO1xuXHRyZW5kZXJfY2FsbGJhY2tzID0gZmlsdGVyZWQ7XG59XG4iLCJpbXBvcnQgeyBpZGVudGl0eSBhcyBsaW5lYXIsIGlzX2Z1bmN0aW9uLCBub29wLCBydW5fYWxsIH0gZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQgeyBub3cgfSBmcm9tICcuL2Vudmlyb25tZW50LmpzJztcbmltcG9ydCB7IGxvb3AgfSBmcm9tICcuL2xvb3AuanMnO1xuaW1wb3J0IHsgY3JlYXRlX3J1bGUsIGRlbGV0ZV9ydWxlIH0gZnJvbSAnLi9zdHlsZV9tYW5hZ2VyLmpzJztcbmltcG9ydCB7IGN1c3RvbV9ldmVudCB9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IGFkZF9yZW5kZXJfY2FsbGJhY2sgfSBmcm9tICcuL3NjaGVkdWxlci5qcyc7XG5cbi8qKlxuICogQHR5cGUge1Byb21pc2U8dm9pZD4gfCBudWxsfVxuICovXG5sZXQgcHJvbWlzZTtcblxuLyoqXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAqL1xuZnVuY3Rpb24gd2FpdCgpIHtcblx0aWYgKCFwcm9taXNlKSB7XG5cdFx0cHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuXHRcdHByb21pc2UudGhlbigoKSA9PiB7XG5cdFx0XHRwcm9taXNlID0gbnVsbDtcblx0XHR9KTtcblx0fVxuXHRyZXR1cm4gcHJvbWlzZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7SU5UUk8gfCBPVVRSTyB8IGJvb2xlYW59IGRpcmVjdGlvblxuICogQHBhcmFtIHsnc3RhcnQnIHwgJ2VuZCd9IGtpbmRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiBkaXNwYXRjaChub2RlLCBkaXJlY3Rpb24sIGtpbmQpIHtcblx0bm9kZS5kaXNwYXRjaEV2ZW50KGN1c3RvbV9ldmVudChgJHtkaXJlY3Rpb24gPyAnaW50cm8nIDogJ291dHJvJ30ke2tpbmR9YCkpO1xufVxuXG5jb25zdCBvdXRyb2luZyA9IG5ldyBTZXQoKTtcblxuLyoqXG4gKiBAdHlwZSB7T3V0cm99XG4gKi9cbmxldCBvdXRyb3M7XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZ3JvdXBfb3V0cm9zKCkge1xuXHRvdXRyb3MgPSB7XG5cdFx0cjogMCxcblx0XHRjOiBbXSxcblx0XHRwOiBvdXRyb3MgLy8gcGFyZW50IGdyb3VwXG5cdH07XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tfb3V0cm9zKCkge1xuXHRpZiAoIW91dHJvcy5yKSB7XG5cdFx0cnVuX2FsbChvdXRyb3MuYyk7XG5cdH1cblx0b3V0cm9zID0gb3V0cm9zLnA7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLkZyYWdtZW50fSBibG9ja1xuICogQHBhcmFtIHswIHwgMX0gW2xvY2FsXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2l0aW9uX2luKGJsb2NrLCBsb2NhbCkge1xuXHRpZiAoYmxvY2sgJiYgYmxvY2suaSkge1xuXHRcdG91dHJvaW5nLmRlbGV0ZShibG9jayk7XG5cdFx0YmxvY2suaShsb2NhbCk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuRnJhZ21lbnR9IGJsb2NrXG4gKiBAcGFyYW0gezAgfCAxfSBsb2NhbFxuICogQHBhcmFtIHswIHwgMX0gW2RldGFjaF1cbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gW2NhbGxiYWNrXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2l0aW9uX291dChibG9jaywgbG9jYWwsIGRldGFjaCwgY2FsbGJhY2spIHtcblx0aWYgKGJsb2NrICYmIGJsb2NrLm8pIHtcblx0XHRpZiAob3V0cm9pbmcuaGFzKGJsb2NrKSkgcmV0dXJuO1xuXHRcdG91dHJvaW5nLmFkZChibG9jayk7XG5cdFx0b3V0cm9zLmMucHVzaCgoKSA9PiB7XG5cdFx0XHRvdXRyb2luZy5kZWxldGUoYmxvY2spO1xuXHRcdFx0aWYgKGNhbGxiYWNrKSB7XG5cdFx0XHRcdGlmIChkZXRhY2gpIGJsb2NrLmQoMSk7XG5cdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0YmxvY2subyhsb2NhbCk7XG5cdH0gZWxzZSBpZiAoY2FsbGJhY2spIHtcblx0XHRjYWxsYmFjaygpO1xuXHR9XG59XG5cbi8qKlxuICogQHR5cGUge2ltcG9ydCgnLi4vdHJhbnNpdGlvbi9wdWJsaWMuanMnKS5UcmFuc2l0aW9uQ29uZmlnfVxuICovXG5jb25zdCBudWxsX3RyYW5zaXRpb24gPSB7IGR1cmF0aW9uOiAwIH07XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge1RyYW5zaXRpb25Gbn0gZm5cbiAqIEBwYXJhbSB7YW55fSBwYXJhbXNcbiAqIEByZXR1cm5zIHt7IHN0YXJ0KCk6IHZvaWQ7IGludmFsaWRhdGUoKTogdm9pZDsgZW5kKCk6IHZvaWQ7IH19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfaW5fdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zKSB7XG5cdC8qKlxuXHQgKiBAdHlwZSB7VHJhbnNpdGlvbk9wdGlvbnN9ICovXG5cdGNvbnN0IG9wdGlvbnMgPSB7IGRpcmVjdGlvbjogJ2luJyB9O1xuXHRsZXQgY29uZmlnID0gZm4obm9kZSwgcGFyYW1zLCBvcHRpb25zKTtcblx0bGV0IHJ1bm5pbmcgPSBmYWxzZTtcblx0bGV0IGFuaW1hdGlvbl9uYW1lO1xuXHRsZXQgdGFzaztcblx0bGV0IHVpZCA9IDA7XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBjbGVhbnVwKCkge1xuXHRcdGlmIChhbmltYXRpb25fbmFtZSkgZGVsZXRlX3J1bGUobm9kZSwgYW5pbWF0aW9uX25hbWUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBnbygpIHtcblx0XHRjb25zdCB7XG5cdFx0XHRkZWxheSA9IDAsXG5cdFx0XHRkdXJhdGlvbiA9IDMwMCxcblx0XHRcdGVhc2luZyA9IGxpbmVhcixcblx0XHRcdHRpY2sgPSBub29wLFxuXHRcdFx0Y3NzXG5cdFx0fSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG5cdFx0aWYgKGNzcykgYW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShub2RlLCAwLCAxLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzLCB1aWQrKyk7XG5cdFx0dGljaygwLCAxKTtcblx0XHRjb25zdCBzdGFydF90aW1lID0gbm93KCkgKyBkZWxheTtcblx0XHRjb25zdCBlbmRfdGltZSA9IHN0YXJ0X3RpbWUgKyBkdXJhdGlvbjtcblx0XHRpZiAodGFzaykgdGFzay5hYm9ydCgpO1xuXHRcdHJ1bm5pbmcgPSB0cnVlO1xuXHRcdGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgdHJ1ZSwgJ3N0YXJ0JykpO1xuXHRcdHRhc2sgPSBsb29wKChub3cpID0+IHtcblx0XHRcdGlmIChydW5uaW5nKSB7XG5cdFx0XHRcdGlmIChub3cgPj0gZW5kX3RpbWUpIHtcblx0XHRcdFx0XHR0aWNrKDEsIDApO1xuXHRcdFx0XHRcdGRpc3BhdGNoKG5vZGUsIHRydWUsICdlbmQnKTtcblx0XHRcdFx0XHRjbGVhbnVwKCk7XG5cdFx0XHRcdFx0cmV0dXJuIChydW5uaW5nID0gZmFsc2UpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChub3cgPj0gc3RhcnRfdGltZSkge1xuXHRcdFx0XHRcdGNvbnN0IHQgPSBlYXNpbmcoKG5vdyAtIHN0YXJ0X3RpbWUpIC8gZHVyYXRpb24pO1xuXHRcdFx0XHRcdHRpY2sodCwgMSAtIHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcnVubmluZztcblx0XHR9KTtcblx0fVxuXHRsZXQgc3RhcnRlZCA9IGZhbHNlO1xuXHRyZXR1cm4ge1xuXHRcdHN0YXJ0KCkge1xuXHRcdFx0aWYgKHN0YXJ0ZWQpIHJldHVybjtcblx0XHRcdHN0YXJ0ZWQgPSB0cnVlO1xuXHRcdFx0ZGVsZXRlX3J1bGUobm9kZSk7XG5cdFx0XHRpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuXHRcdFx0XHRjb25maWcgPSBjb25maWcob3B0aW9ucyk7XG5cdFx0XHRcdHdhaXQoKS50aGVuKGdvKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGdvKCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRpbnZhbGlkYXRlKCkge1xuXHRcdFx0c3RhcnRlZCA9IGZhbHNlO1xuXHRcdH0sXG5cdFx0ZW5kKCkge1xuXHRcdFx0aWYgKHJ1bm5pbmcpIHtcblx0XHRcdFx0Y2xlYW51cCgpO1xuXHRcdFx0XHRydW5uaW5nID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudCAmIEVsZW1lbnRDU1NJbmxpbmVTdHlsZX0gbm9kZVxuICogQHBhcmFtIHtUcmFuc2l0aW9uRm59IGZuXG4gKiBAcGFyYW0ge2FueX0gcGFyYW1zXG4gKiBAcmV0dXJucyB7eyBlbmQocmVzZXQ6IGFueSk6IHZvaWQ7IH19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfb3V0X3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcykge1xuXHQvKiogQHR5cGUge1RyYW5zaXRpb25PcHRpb25zfSAqL1xuXHRjb25zdCBvcHRpb25zID0geyBkaXJlY3Rpb246ICdvdXQnIH07XG5cdGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMsIG9wdGlvbnMpO1xuXHRsZXQgcnVubmluZyA9IHRydWU7XG5cdGxldCBhbmltYXRpb25fbmFtZTtcblx0Y29uc3QgZ3JvdXAgPSBvdXRyb3M7XG5cdGdyb3VwLnIgKz0gMTtcblx0LyoqIEB0eXBlIHtib29sZWFufSAqL1xuXHRsZXQgb3JpZ2luYWxfaW5lcnRfdmFsdWU7XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBnbygpIHtcblx0XHRjb25zdCB7XG5cdFx0XHRkZWxheSA9IDAsXG5cdFx0XHRkdXJhdGlvbiA9IDMwMCxcblx0XHRcdGVhc2luZyA9IGxpbmVhcixcblx0XHRcdHRpY2sgPSBub29wLFxuXHRcdFx0Y3NzXG5cdFx0fSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG5cblx0XHRpZiAoY3NzKSBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIDEsIDAsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MpO1xuXG5cdFx0Y29uc3Qgc3RhcnRfdGltZSA9IG5vdygpICsgZGVsYXk7XG5cdFx0Y29uc3QgZW5kX3RpbWUgPSBzdGFydF90aW1lICsgZHVyYXRpb247XG5cdFx0YWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCBmYWxzZSwgJ3N0YXJ0JykpO1xuXG5cdFx0aWYgKCdpbmVydCcgaW4gbm9kZSkge1xuXHRcdFx0b3JpZ2luYWxfaW5lcnRfdmFsdWUgPSAvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqLyAobm9kZSkuaW5lcnQ7XG5cdFx0XHRub2RlLmluZXJ0ID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRsb29wKChub3cpID0+IHtcblx0XHRcdGlmIChydW5uaW5nKSB7XG5cdFx0XHRcdGlmIChub3cgPj0gZW5kX3RpbWUpIHtcblx0XHRcdFx0XHR0aWNrKDAsIDEpO1xuXHRcdFx0XHRcdGRpc3BhdGNoKG5vZGUsIGZhbHNlLCAnZW5kJyk7XG5cdFx0XHRcdFx0aWYgKCEtLWdyb3VwLnIpIHtcblx0XHRcdFx0XHRcdC8vIHRoaXMgd2lsbCByZXN1bHQgaW4gYGVuZCgpYCBiZWluZyBjYWxsZWQsXG5cdFx0XHRcdFx0XHQvLyBzbyB3ZSBkb24ndCBuZWVkIHRvIGNsZWFuIHVwIGhlcmVcblx0XHRcdFx0XHRcdHJ1bl9hbGwoZ3JvdXAuYyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAobm93ID49IHN0YXJ0X3RpbWUpIHtcblx0XHRcdFx0XHRjb25zdCB0ID0gZWFzaW5nKChub3cgLSBzdGFydF90aW1lKSAvIGR1cmF0aW9uKTtcblx0XHRcdFx0XHR0aWNrKDEgLSB0LCB0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJ1bm5pbmc7XG5cdFx0fSk7XG5cdH1cblxuXHRpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuXHRcdHdhaXQoKS50aGVuKCgpID0+IHtcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNvbmZpZyA9IGNvbmZpZyhvcHRpb25zKTtcblx0XHRcdGdvKCk7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0Z28oKTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0ZW5kKHJlc2V0KSB7XG5cdFx0XHRpZiAocmVzZXQgJiYgJ2luZXJ0JyBpbiBub2RlKSB7XG5cdFx0XHRcdG5vZGUuaW5lcnQgPSBvcmlnaW5hbF9pbmVydF92YWx1ZTtcblx0XHRcdH1cblx0XHRcdGlmIChyZXNldCAmJiBjb25maWcudGljaykge1xuXHRcdFx0XHRjb25maWcudGljaygxLCAwKTtcblx0XHRcdH1cblx0XHRcdGlmIChydW5uaW5nKSB7XG5cdFx0XHRcdGlmIChhbmltYXRpb25fbmFtZSkgZGVsZXRlX3J1bGUobm9kZSwgYW5pbWF0aW9uX25hbWUpO1xuXHRcdFx0XHRydW5uaW5nID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudCAmIEVsZW1lbnRDU1NJbmxpbmVTdHlsZX0gbm9kZVxuICogQHBhcmFtIHtUcmFuc2l0aW9uRm59IGZuXG4gKiBAcGFyYW0ge2FueX0gcGFyYW1zXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGludHJvXG4gKiBAcmV0dXJucyB7eyBydW4oYjogMCB8IDEpOiB2b2lkOyBlbmQoKTogdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9iaWRpcmVjdGlvbmFsX3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcywgaW50cm8pIHtcblx0LyoqXG5cdCAqIEB0eXBlIHtUcmFuc2l0aW9uT3B0aW9uc30gKi9cblx0Y29uc3Qgb3B0aW9ucyA9IHsgZGlyZWN0aW9uOiAnYm90aCcgfTtcblx0bGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcywgb3B0aW9ucyk7XG5cdGxldCB0ID0gaW50cm8gPyAwIDogMTtcblxuXHQvKipcblx0ICogQHR5cGUge1Byb2dyYW0gfCBudWxsfSAqL1xuXHRsZXQgcnVubmluZ19wcm9ncmFtID0gbnVsbDtcblxuXHQvKipcblx0ICogQHR5cGUge1BlbmRpbmdQcm9ncmFtIHwgbnVsbH0gKi9cblx0bGV0IHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG5cdGxldCBhbmltYXRpb25fbmFtZSA9IG51bGw7XG5cblx0LyoqIEB0eXBlIHtib29sZWFufSAqL1xuXHRsZXQgb3JpZ2luYWxfaW5lcnRfdmFsdWU7XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBjbGVhcl9hbmltYXRpb24oKSB7XG5cdFx0aWYgKGFuaW1hdGlvbl9uYW1lKSBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtQZW5kaW5nUHJvZ3JhbX0gcHJvZ3JhbVxuXHQgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb25cblx0ICogQHJldHVybnMge1Byb2dyYW19XG5cdCAqL1xuXHRmdW5jdGlvbiBpbml0KHByb2dyYW0sIGR1cmF0aW9uKSB7XG5cdFx0Y29uc3QgZCA9IC8qKiBAdHlwZSB7UHJvZ3JhbVsnZCddfSAqLyAocHJvZ3JhbS5iIC0gdCk7XG5cdFx0ZHVyYXRpb24gKj0gTWF0aC5hYnMoZCk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGE6IHQsXG5cdFx0XHRiOiBwcm9ncmFtLmIsXG5cdFx0XHRkLFxuXHRcdFx0ZHVyYXRpb24sXG5cdFx0XHRzdGFydDogcHJvZ3JhbS5zdGFydCxcblx0XHRcdGVuZDogcHJvZ3JhbS5zdGFydCArIGR1cmF0aW9uLFxuXHRcdFx0Z3JvdXA6IHByb2dyYW0uZ3JvdXBcblx0XHR9O1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7SU5UUk8gfCBPVVRST30gYlxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGZ1bmN0aW9uIGdvKGIpIHtcblx0XHRjb25zdCB7XG5cdFx0XHRkZWxheSA9IDAsXG5cdFx0XHRkdXJhdGlvbiA9IDMwMCxcblx0XHRcdGVhc2luZyA9IGxpbmVhcixcblx0XHRcdHRpY2sgPSBub29wLFxuXHRcdFx0Y3NzXG5cdFx0fSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG5cblx0XHQvKipcblx0XHQgKiBAdHlwZSB7UGVuZGluZ1Byb2dyYW19ICovXG5cdFx0Y29uc3QgcHJvZ3JhbSA9IHtcblx0XHRcdHN0YXJ0OiBub3coKSArIGRlbGF5LFxuXHRcdFx0YlxuXHRcdH07XG5cblx0XHRpZiAoIWIpIHtcblx0XHRcdC8vIEB0cy1pZ25vcmUgdG9kbzogaW1wcm92ZSB0eXBpbmdzXG5cdFx0XHRwcm9ncmFtLmdyb3VwID0gb3V0cm9zO1xuXHRcdFx0b3V0cm9zLnIgKz0gMTtcblx0XHR9XG5cblx0XHRpZiAoJ2luZXJ0JyBpbiBub2RlKSB7XG5cdFx0XHRpZiAoYikge1xuXHRcdFx0XHRpZiAob3JpZ2luYWxfaW5lcnRfdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdC8vIGFib3J0ZWQvcmV2ZXJzZWQgb3V0cm8g4oCUIHJlc3RvcmUgcHJldmlvdXMgaW5lcnQgdmFsdWVcblx0XHRcdFx0XHRub2RlLmluZXJ0ID0gb3JpZ2luYWxfaW5lcnRfdmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG9yaWdpbmFsX2luZXJ0X3ZhbHVlID0gLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi8gKG5vZGUpLmluZXJ0O1xuXHRcdFx0XHRub2RlLmluZXJ0ID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAocnVubmluZ19wcm9ncmFtIHx8IHBlbmRpbmdfcHJvZ3JhbSkge1xuXHRcdFx0cGVuZGluZ19wcm9ncmFtID0gcHJvZ3JhbTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gaWYgdGhpcyBpcyBhbiBpbnRybywgYW5kIHRoZXJlJ3MgYSBkZWxheSwgd2UgbmVlZCB0byBkb1xuXHRcdFx0Ly8gYW4gaW5pdGlhbCB0aWNrIGFuZC9vciBhcHBseSBDU1MgYW5pbWF0aW9uIGltbWVkaWF0ZWx5XG5cdFx0XHRpZiAoY3NzKSB7XG5cdFx0XHRcdGNsZWFyX2FuaW1hdGlvbigpO1xuXHRcdFx0XHRhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIHQsIGIsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGIpIHRpY2soMCwgMSk7XG5cdFx0XHRydW5uaW5nX3Byb2dyYW0gPSBpbml0KHByb2dyYW0sIGR1cmF0aW9uKTtcblx0XHRcdGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgYiwgJ3N0YXJ0JykpO1xuXHRcdFx0bG9vcCgobm93KSA9PiB7XG5cdFx0XHRcdGlmIChwZW5kaW5nX3Byb2dyYW0gJiYgbm93ID4gcGVuZGluZ19wcm9ncmFtLnN0YXJ0KSB7XG5cdFx0XHRcdFx0cnVubmluZ19wcm9ncmFtID0gaW5pdChwZW5kaW5nX3Byb2dyYW0sIGR1cmF0aW9uKTtcblx0XHRcdFx0XHRwZW5kaW5nX3Byb2dyYW0gPSBudWxsO1xuXHRcdFx0XHRcdGRpc3BhdGNoKG5vZGUsIHJ1bm5pbmdfcHJvZ3JhbS5iLCAnc3RhcnQnKTtcblx0XHRcdFx0XHRpZiAoY3NzKSB7XG5cdFx0XHRcdFx0XHRjbGVhcl9hbmltYXRpb24oKTtcblx0XHRcdFx0XHRcdGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUoXG5cdFx0XHRcdFx0XHRcdG5vZGUsXG5cdFx0XHRcdFx0XHRcdHQsXG5cdFx0XHRcdFx0XHRcdHJ1bm5pbmdfcHJvZ3JhbS5iLFxuXHRcdFx0XHRcdFx0XHRydW5uaW5nX3Byb2dyYW0uZHVyYXRpb24sXG5cdFx0XHRcdFx0XHRcdDAsXG5cdFx0XHRcdFx0XHRcdGVhc2luZyxcblx0XHRcdFx0XHRcdFx0Y29uZmlnLmNzc1xuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHJ1bm5pbmdfcHJvZ3JhbSkge1xuXHRcdFx0XHRcdGlmIChub3cgPj0gcnVubmluZ19wcm9ncmFtLmVuZCkge1xuXHRcdFx0XHRcdFx0dGljaygodCA9IHJ1bm5pbmdfcHJvZ3JhbS5iKSwgMSAtIHQpO1xuXHRcdFx0XHRcdFx0ZGlzcGF0Y2gobm9kZSwgcnVubmluZ19wcm9ncmFtLmIsICdlbmQnKTtcblx0XHRcdFx0XHRcdGlmICghcGVuZGluZ19wcm9ncmFtKSB7XG5cdFx0XHRcdFx0XHRcdC8vIHdlJ3JlIGRvbmVcblx0XHRcdFx0XHRcdFx0aWYgKHJ1bm5pbmdfcHJvZ3JhbS5iKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gaW50cm8g4oCUIHdlIGNhbiB0aWR5IHVwIGltbWVkaWF0ZWx5XG5cdFx0XHRcdFx0XHRcdFx0Y2xlYXJfYW5pbWF0aW9uKCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gb3V0cm8g4oCUIG5lZWRzIHRvIGJlIGNvb3JkaW5hdGVkXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCEtLXJ1bm5pbmdfcHJvZ3JhbS5ncm91cC5yKSBydW5fYWxsKHJ1bm5pbmdfcHJvZ3JhbS5ncm91cC5jKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cnVubmluZ19wcm9ncmFtID0gbnVsbDtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKG5vdyA+PSBydW5uaW5nX3Byb2dyYW0uc3RhcnQpIHtcblx0XHRcdFx0XHRcdGNvbnN0IHAgPSBub3cgLSBydW5uaW5nX3Byb2dyYW0uc3RhcnQ7XG5cdFx0XHRcdFx0XHR0ID0gcnVubmluZ19wcm9ncmFtLmEgKyBydW5uaW5nX3Byb2dyYW0uZCAqIGVhc2luZyhwIC8gcnVubmluZ19wcm9ncmFtLmR1cmF0aW9uKTtcblx0XHRcdFx0XHRcdHRpY2sodCwgMSAtIHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gISEocnVubmluZ19wcm9ncmFtIHx8IHBlbmRpbmdfcHJvZ3JhbSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHtcblx0XHRydW4oYikge1xuXHRcdFx0aWYgKGlzX2Z1bmN0aW9uKGNvbmZpZykpIHtcblx0XHRcdFx0d2FpdCgpLnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IG9wdHMgPSB7IGRpcmVjdGlvbjogYiA/ICdpbicgOiAnb3V0JyB9O1xuXHRcdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0XHRjb25maWcgPSBjb25maWcob3B0cyk7XG5cdFx0XHRcdFx0Z28oYik7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Z28oYik7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRlbmQoKSB7XG5cdFx0XHRjbGVhcl9hbmltYXRpb24oKTtcblx0XHRcdHJ1bm5pbmdfcHJvZ3JhbSA9IHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG5cdFx0fVxuXHR9O1xufVxuXG4vKiogQHR5cGVkZWYgezF9IElOVFJPICovXG4vKiogQHR5cGVkZWYgezB9IE9VVFJPICovXG4vKiogQHR5cGVkZWYge3sgZGlyZWN0aW9uOiAnaW4nIHwgJ291dCcgfCAnYm90aCcgfX0gVHJhbnNpdGlvbk9wdGlvbnMgKi9cbi8qKiBAdHlwZWRlZiB7KG5vZGU6IEVsZW1lbnQsIHBhcmFtczogYW55LCBvcHRpb25zOiBUcmFuc2l0aW9uT3B0aW9ucykgPT4gaW1wb3J0KCcuLi90cmFuc2l0aW9uL3B1YmxpYy5qcycpLlRyYW5zaXRpb25Db25maWd9IFRyYW5zaXRpb25GbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE91dHJvXG4gKiBAcHJvcGVydHkge251bWJlcn0gclxuICogQHByb3BlcnR5IHtGdW5jdGlvbltdfSBjXG4gKiBAcHJvcGVydHkge09iamVjdH0gcFxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUGVuZGluZ1Byb2dyYW1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzdGFydFxuICogQHByb3BlcnR5IHtJTlRST3xPVVRST30gYlxuICogQHByb3BlcnR5IHtPdXRyb30gW2dyb3VwXVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUHJvZ3JhbVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGFcbiAqIEBwcm9wZXJ0eSB7SU5UUk98T1VUUk99IGJcbiAqIEBwcm9wZXJ0eSB7MXwtMX0gZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGR1cmF0aW9uXG4gKiBAcHJvcGVydHkge251bWJlcn0gc3RhcnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBlbmRcbiAqIEBwcm9wZXJ0eSB7T3V0cm99IFtncm91cF1cbiAqL1xuIiwiaW1wb3J0IHsgaXNfcHJvbWlzZSB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHsgY2hlY2tfb3V0cm9zLCBncm91cF9vdXRyb3MsIHRyYW5zaXRpb25faW4sIHRyYW5zaXRpb25fb3V0IH0gZnJvbSAnLi90cmFuc2l0aW9ucy5qcyc7XG5pbXBvcnQgeyBmbHVzaCB9IGZyb20gJy4vc2NoZWR1bGVyLmpzJztcbmltcG9ydCB7IGdldF9jdXJyZW50X2NvbXBvbmVudCwgc2V0X2N1cnJlbnRfY29tcG9uZW50IH0gZnJvbSAnLi9saWZlY3ljbGUuanMnO1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1Byb21pc2U8VD59IHByb21pc2VcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5Qcm9taXNlSW5mbzxUPn0gaW5mb1xuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVfcHJvbWlzZShwcm9taXNlLCBpbmZvKSB7XG5cdGNvbnN0IHRva2VuID0gKGluZm8udG9rZW4gPSB7fSk7XG5cdC8qKlxuXHQgKiBAcGFyYW0ge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuRnJhZ21lbnRGYWN0b3J5fSB0eXBlXG5cdCAqIEBwYXJhbSB7MCB8IDEgfCAyfSBpbmRleFxuXHQgKiBAcGFyYW0ge251bWJlcn0gW2tleV1cblx0ICogQHBhcmFtIHthbnl9IFt2YWx1ZV1cblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRmdW5jdGlvbiB1cGRhdGUodHlwZSwgaW5kZXgsIGtleSwgdmFsdWUpIHtcblx0XHRpZiAoaW5mby50b2tlbiAhPT0gdG9rZW4pIHJldHVybjtcblx0XHRpbmZvLnJlc29sdmVkID0gdmFsdWU7XG5cdFx0bGV0IGNoaWxkX2N0eCA9IGluZm8uY3R4O1xuXHRcdGlmIChrZXkgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Y2hpbGRfY3R4ID0gY2hpbGRfY3R4LnNsaWNlKCk7XG5cdFx0XHRjaGlsZF9jdHhba2V5XSA9IHZhbHVlO1xuXHRcdH1cblx0XHRjb25zdCBibG9jayA9IHR5cGUgJiYgKGluZm8uY3VycmVudCA9IHR5cGUpKGNoaWxkX2N0eCk7XG5cdFx0bGV0IG5lZWRzX2ZsdXNoID0gZmFsc2U7XG5cdFx0aWYgKGluZm8uYmxvY2spIHtcblx0XHRcdGlmIChpbmZvLmJsb2Nrcykge1xuXHRcdFx0XHRpbmZvLmJsb2Nrcy5mb3JFYWNoKChibG9jaywgaSkgPT4ge1xuXHRcdFx0XHRcdGlmIChpICE9PSBpbmRleCAmJiBibG9jaykge1xuXHRcdFx0XHRcdFx0Z3JvdXBfb3V0cm9zKCk7XG5cdFx0XHRcdFx0XHR0cmFuc2l0aW9uX291dChibG9jaywgMSwgMSwgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAoaW5mby5ibG9ja3NbaV0gPT09IGJsb2NrKSB7XG5cdFx0XHRcdFx0XHRcdFx0aW5mby5ibG9ja3NbaV0gPSBudWxsO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdGNoZWNrX291dHJvcygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpbmZvLmJsb2NrLmQoMSk7XG5cdFx0XHR9XG5cdFx0XHRibG9jay5jKCk7XG5cdFx0XHR0cmFuc2l0aW9uX2luKGJsb2NrLCAxKTtcblx0XHRcdGJsb2NrLm0oaW5mby5tb3VudCgpLCBpbmZvLmFuY2hvcik7XG5cdFx0XHRuZWVkc19mbHVzaCA9IHRydWU7XG5cdFx0fVxuXHRcdGluZm8uYmxvY2sgPSBibG9jaztcblx0XHRpZiAoaW5mby5ibG9ja3MpIGluZm8uYmxvY2tzW2luZGV4XSA9IGJsb2NrO1xuXHRcdGlmIChuZWVkc19mbHVzaCkge1xuXHRcdFx0Zmx1c2goKTtcblx0XHR9XG5cdH1cblx0aWYgKGlzX3Byb21pc2UocHJvbWlzZSkpIHtcblx0XHRjb25zdCBjdXJyZW50X2NvbXBvbmVudCA9IGdldF9jdXJyZW50X2NvbXBvbmVudCgpO1xuXHRcdHByb21pc2UudGhlbihcblx0XHRcdCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRzZXRfY3VycmVudF9jb21wb25lbnQoY3VycmVudF9jb21wb25lbnQpO1xuXHRcdFx0XHR1cGRhdGUoaW5mby50aGVuLCAxLCBpbmZvLnZhbHVlLCB2YWx1ZSk7XG5cdFx0XHRcdHNldF9jdXJyZW50X2NvbXBvbmVudChudWxsKTtcblx0XHRcdH0sXG5cdFx0XHQoZXJyb3IpID0+IHtcblx0XHRcdFx0c2V0X2N1cnJlbnRfY29tcG9uZW50KGN1cnJlbnRfY29tcG9uZW50KTtcblx0XHRcdFx0dXBkYXRlKGluZm8uY2F0Y2gsIDIsIGluZm8uZXJyb3IsIGVycm9yKTtcblx0XHRcdFx0c2V0X2N1cnJlbnRfY29tcG9uZW50KG51bGwpO1xuXHRcdFx0XHRpZiAoIWluZm8uaGFzQ2F0Y2gpIHtcblx0XHRcdFx0XHR0aHJvdyBlcnJvcjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdCk7XG5cdFx0Ly8gaWYgd2UgcHJldmlvdXNseSBoYWQgYSB0aGVuL2NhdGNoIGJsb2NrLCBkZXN0cm95IGl0XG5cdFx0aWYgKGluZm8uY3VycmVudCAhPT0gaW5mby5wZW5kaW5nKSB7XG5cdFx0XHR1cGRhdGUoaW5mby5wZW5kaW5nLCAwKTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRpZiAoaW5mby5jdXJyZW50ICE9PSBpbmZvLnRoZW4pIHtcblx0XHRcdHVwZGF0ZShpbmZvLnRoZW4sIDEsIGluZm8udmFsdWUsIHByb21pc2UpO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdGluZm8ucmVzb2x2ZWQgPSAvKiogQHR5cGUge1R9ICovIChwcm9taXNlKTtcblx0fVxufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX2F3YWl0X2Jsb2NrX2JyYW5jaChpbmZvLCBjdHgsIGRpcnR5KSB7XG5cdGNvbnN0IGNoaWxkX2N0eCA9IGN0eC5zbGljZSgpO1xuXHRjb25zdCB7IHJlc29sdmVkIH0gPSBpbmZvO1xuXHRpZiAoaW5mby5jdXJyZW50ID09PSBpbmZvLnRoZW4pIHtcblx0XHRjaGlsZF9jdHhbaW5mby52YWx1ZV0gPSByZXNvbHZlZDtcblx0fVxuXHRpZiAoaW5mby5jdXJyZW50ID09PSBpbmZvLmNhdGNoKSB7XG5cdFx0Y2hpbGRfY3R4W2luZm8uZXJyb3JdID0gcmVzb2x2ZWQ7XG5cdH1cblx0aW5mby5ibG9jay5wKGNoaWxkX2N0eCwgZGlydHkpO1xufVxuIiwiaW1wb3J0IHsgdHJhbnNpdGlvbl9pbiwgdHJhbnNpdGlvbl9vdXQgfSBmcm9tICcuL3RyYW5zaXRpb25zLmpzJztcbmltcG9ydCB7IHJ1bl9hbGwgfSBmcm9tICcuL3V0aWxzLmpzJztcblxuLy8gZ2VuZXJhbCBlYWNoIGZ1bmN0aW9uczpcblxuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZV9hcnJheV9saWtlKGFycmF5X2xpa2Vfb3JfaXRlcmF0b3IpIHtcblx0cmV0dXJuIGFycmF5X2xpa2Vfb3JfaXRlcmF0b3I/Lmxlbmd0aCAhPT0gdW5kZWZpbmVkXG5cdFx0PyBhcnJheV9saWtlX29yX2l0ZXJhdG9yXG5cdFx0OiBBcnJheS5mcm9tKGFycmF5X2xpa2Vfb3JfaXRlcmF0b3IpO1xufVxuXG4vLyBrZXllZCBlYWNoIGZ1bmN0aW9uczpcblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuXHRibG9jay5kKDEpO1xuXHRsb29rdXAuZGVsZXRlKGJsb2NrLmtleSk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBvdXRyb19hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG5cdHRyYW5zaXRpb25fb3V0KGJsb2NrLCAxLCAxLCAoKSA9PiB7XG5cdFx0bG9va3VwLmRlbGV0ZShibG9jay5rZXkpO1xuXHR9KTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpeF9hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG5cdGJsb2NrLmYoKTtcblx0ZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpeF9hbmRfb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuXHRibG9jay5mKCk7XG5cdG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApO1xufVxuXG4vKiogQHJldHVybnMge2FueVtdfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZV9rZXllZF9lYWNoKFxuXHRvbGRfYmxvY2tzLFxuXHRkaXJ0eSxcblx0Z2V0X2tleSxcblx0ZHluYW1pYyxcblx0Y3R4LFxuXHRsaXN0LFxuXHRsb29rdXAsXG5cdG5vZGUsXG5cdGRlc3Ryb3ksXG5cdGNyZWF0ZV9lYWNoX2Jsb2NrLFxuXHRuZXh0LFxuXHRnZXRfY29udGV4dFxuKSB7XG5cdGxldCBvID0gb2xkX2Jsb2Nrcy5sZW5ndGg7XG5cdGxldCBuID0gbGlzdC5sZW5ndGg7XG5cdGxldCBpID0gbztcblx0Y29uc3Qgb2xkX2luZGV4ZXMgPSB7fTtcblx0d2hpbGUgKGktLSkgb2xkX2luZGV4ZXNbb2xkX2Jsb2Nrc1tpXS5rZXldID0gaTtcblx0Y29uc3QgbmV3X2Jsb2NrcyA9IFtdO1xuXHRjb25zdCBuZXdfbG9va3VwID0gbmV3IE1hcCgpO1xuXHRjb25zdCBkZWx0YXMgPSBuZXcgTWFwKCk7XG5cdGNvbnN0IHVwZGF0ZXMgPSBbXTtcblx0aSA9IG47XG5cdHdoaWxlIChpLS0pIHtcblx0XHRjb25zdCBjaGlsZF9jdHggPSBnZXRfY29udGV4dChjdHgsIGxpc3QsIGkpO1xuXHRcdGNvbnN0IGtleSA9IGdldF9rZXkoY2hpbGRfY3R4KTtcblx0XHRsZXQgYmxvY2sgPSBsb29rdXAuZ2V0KGtleSk7XG5cdFx0aWYgKCFibG9jaykge1xuXHRcdFx0YmxvY2sgPSBjcmVhdGVfZWFjaF9ibG9jayhrZXksIGNoaWxkX2N0eCk7XG5cdFx0XHRibG9jay5jKCk7XG5cdFx0fSBlbHNlIGlmIChkeW5hbWljKSB7XG5cdFx0XHQvLyBkZWZlciB1cGRhdGVzIHVudGlsIGFsbCB0aGUgRE9NIHNodWZmbGluZyBpcyBkb25lXG5cdFx0XHR1cGRhdGVzLnB1c2goKCkgPT4gYmxvY2sucChjaGlsZF9jdHgsIGRpcnR5KSk7XG5cdFx0fVxuXHRcdG5ld19sb29rdXAuc2V0KGtleSwgKG5ld19ibG9ja3NbaV0gPSBibG9jaykpO1xuXHRcdGlmIChrZXkgaW4gb2xkX2luZGV4ZXMpIGRlbHRhcy5zZXQoa2V5LCBNYXRoLmFicyhpIC0gb2xkX2luZGV4ZXNba2V5XSkpO1xuXHR9XG5cdGNvbnN0IHdpbGxfbW92ZSA9IG5ldyBTZXQoKTtcblx0Y29uc3QgZGlkX21vdmUgPSBuZXcgU2V0KCk7XG5cdC8qKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0ZnVuY3Rpb24gaW5zZXJ0KGJsb2NrKSB7XG5cdFx0dHJhbnNpdGlvbl9pbihibG9jaywgMSk7XG5cdFx0YmxvY2subShub2RlLCBuZXh0KTtcblx0XHRsb29rdXAuc2V0KGJsb2NrLmtleSwgYmxvY2spO1xuXHRcdG5leHQgPSBibG9jay5maXJzdDtcblx0XHRuLS07XG5cdH1cblx0d2hpbGUgKG8gJiYgbikge1xuXHRcdGNvbnN0IG5ld19ibG9jayA9IG5ld19ibG9ja3NbbiAtIDFdO1xuXHRcdGNvbnN0IG9sZF9ibG9jayA9IG9sZF9ibG9ja3NbbyAtIDFdO1xuXHRcdGNvbnN0IG5ld19rZXkgPSBuZXdfYmxvY2sua2V5O1xuXHRcdGNvbnN0IG9sZF9rZXkgPSBvbGRfYmxvY2sua2V5O1xuXHRcdGlmIChuZXdfYmxvY2sgPT09IG9sZF9ibG9jaykge1xuXHRcdFx0Ly8gZG8gbm90aGluZ1xuXHRcdFx0bmV4dCA9IG5ld19ibG9jay5maXJzdDtcblx0XHRcdG8tLTtcblx0XHRcdG4tLTtcblx0XHR9IGVsc2UgaWYgKCFuZXdfbG9va3VwLmhhcyhvbGRfa2V5KSkge1xuXHRcdFx0Ly8gcmVtb3ZlIG9sZCBibG9ja1xuXHRcdFx0ZGVzdHJveShvbGRfYmxvY2ssIGxvb2t1cCk7XG5cdFx0XHRvLS07XG5cdFx0fSBlbHNlIGlmICghbG9va3VwLmhhcyhuZXdfa2V5KSB8fCB3aWxsX21vdmUuaGFzKG5ld19rZXkpKSB7XG5cdFx0XHRpbnNlcnQobmV3X2Jsb2NrKTtcblx0XHR9IGVsc2UgaWYgKGRpZF9tb3ZlLmhhcyhvbGRfa2V5KSkge1xuXHRcdFx0by0tO1xuXHRcdH0gZWxzZSBpZiAoZGVsdGFzLmdldChuZXdfa2V5KSA+IGRlbHRhcy5nZXQob2xkX2tleSkpIHtcblx0XHRcdGRpZF9tb3ZlLmFkZChuZXdfa2V5KTtcblx0XHRcdGluc2VydChuZXdfYmxvY2spO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR3aWxsX21vdmUuYWRkKG9sZF9rZXkpO1xuXHRcdFx0by0tO1xuXHRcdH1cblx0fVxuXHR3aGlsZSAoby0tKSB7XG5cdFx0Y29uc3Qgb2xkX2Jsb2NrID0gb2xkX2Jsb2Nrc1tvXTtcblx0XHRpZiAoIW5ld19sb29rdXAuaGFzKG9sZF9ibG9jay5rZXkpKSBkZXN0cm95KG9sZF9ibG9jaywgbG9va3VwKTtcblx0fVxuXHR3aGlsZSAobikgaW5zZXJ0KG5ld19ibG9ja3NbbiAtIDFdKTtcblx0cnVuX2FsbCh1cGRhdGVzKTtcblx0cmV0dXJuIG5ld19ibG9ja3M7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZV9lYWNoX2tleXMoY3R4LCBsaXN0LCBnZXRfY29udGV4dCwgZ2V0X2tleSkge1xuXHRjb25zdCBrZXlzID0gbmV3IE1hcCgpO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHRjb25zdCBrZXkgPSBnZXRfa2V5KGdldF9jb250ZXh0KGN0eCwgbGlzdCwgaSkpO1xuXHRcdGlmIChrZXlzLmhhcyhrZXkpKSB7XG5cdFx0XHRsZXQgdmFsdWUgPSAnJztcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHZhbHVlID0gYHdpdGggdmFsdWUgJyR7U3RyaW5nKGtleSl9JyBgO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHQvLyBjYW4ndCBzdHJpbmdpZnlcblx0XHRcdH1cblx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0YENhbm5vdCBoYXZlIGR1cGxpY2F0ZSBrZXlzIGluIGEga2V5ZWQgZWFjaDogS2V5cyBhdCBpbmRleCAke2tleXMuZ2V0KFxuXHRcdFx0XHRcdGtleVxuXHRcdFx0XHQpfSBhbmQgJHtpfSAke3ZhbHVlfWFyZSBkdXBsaWNhdGVzYFxuXHRcdFx0KTtcblx0XHR9XG5cdFx0a2V5cy5zZXQoa2V5LCBpKTtcblx0fVxufVxuIiwiaW1wb3J0IHtcblx0YWRkX3JlbmRlcl9jYWxsYmFjayxcblx0Zmx1c2gsXG5cdGZsdXNoX3JlbmRlcl9jYWxsYmFja3MsXG5cdHNjaGVkdWxlX3VwZGF0ZSxcblx0ZGlydHlfY29tcG9uZW50c1xufSBmcm9tICcuL3NjaGVkdWxlci5qcyc7XG5pbXBvcnQgeyBjdXJyZW50X2NvbXBvbmVudCwgc2V0X2N1cnJlbnRfY29tcG9uZW50IH0gZnJvbSAnLi9saWZlY3ljbGUuanMnO1xuaW1wb3J0IHsgYmxhbmtfb2JqZWN0LCBpc19lbXB0eSwgaXNfZnVuY3Rpb24sIHJ1biwgcnVuX2FsbCwgbm9vcCB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHtcblx0Y2hpbGRyZW4sXG5cdGRldGFjaCxcblx0c3RhcnRfaHlkcmF0aW5nLFxuXHRlbmRfaHlkcmF0aW5nLFxuXHRnZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzLFxuXHRpbnNlcnQsXG5cdGVsZW1lbnQsXG5cdGF0dHJcbn0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgdHJhbnNpdGlvbl9pbiB9IGZyb20gJy4vdHJhbnNpdGlvbnMuanMnO1xuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gYmluZChjb21wb25lbnQsIG5hbWUsIGNhbGxiYWNrKSB7XG5cdGNvbnN0IGluZGV4ID0gY29tcG9uZW50LiQkLnByb3BzW25hbWVdO1xuXHRpZiAoaW5kZXggIT09IHVuZGVmaW5lZCkge1xuXHRcdGNvbXBvbmVudC4kJC5ib3VuZFtpbmRleF0gPSBjYWxsYmFjaztcblx0XHRjYWxsYmFjayhjb21wb25lbnQuJCQuY3R4W2luZGV4XSk7XG5cdH1cbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9jb21wb25lbnQoYmxvY2spIHtcblx0YmxvY2sgJiYgYmxvY2suYygpO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1fY29tcG9uZW50KGJsb2NrLCBwYXJlbnRfbm9kZXMpIHtcblx0YmxvY2sgJiYgYmxvY2subChwYXJlbnRfbm9kZXMpO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gbW91bnRfY29tcG9uZW50KGNvbXBvbmVudCwgdGFyZ2V0LCBhbmNob3IpIHtcblx0Y29uc3QgeyBmcmFnbWVudCwgYWZ0ZXJfdXBkYXRlIH0gPSBjb21wb25lbnQuJCQ7XG5cdGZyYWdtZW50ICYmIGZyYWdtZW50Lm0odGFyZ2V0LCBhbmNob3IpO1xuXHQvLyBvbk1vdW50IGhhcHBlbnMgYmVmb3JlIHRoZSBpbml0aWFsIGFmdGVyVXBkYXRlXG5cdGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4ge1xuXHRcdGNvbnN0IG5ld19vbl9kZXN0cm95ID0gY29tcG9uZW50LiQkLm9uX21vdW50Lm1hcChydW4pLmZpbHRlcihpc19mdW5jdGlvbik7XG5cdFx0Ly8gaWYgdGhlIGNvbXBvbmVudCB3YXMgZGVzdHJveWVkIGltbWVkaWF0ZWx5XG5cdFx0Ly8gaXQgd2lsbCB1cGRhdGUgdGhlIGAkJC5vbl9kZXN0cm95YCByZWZlcmVuY2UgdG8gYG51bGxgLlxuXHRcdC8vIHRoZSBkZXN0cnVjdHVyZWQgb25fZGVzdHJveSBtYXkgc3RpbGwgcmVmZXJlbmNlIHRvIHRoZSBvbGQgYXJyYXlcblx0XHRpZiAoY29tcG9uZW50LiQkLm9uX2Rlc3Ryb3kpIHtcblx0XHRcdGNvbXBvbmVudC4kJC5vbl9kZXN0cm95LnB1c2goLi4ubmV3X29uX2Rlc3Ryb3kpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBFZGdlIGNhc2UgLSBjb21wb25lbnQgd2FzIGRlc3Ryb3llZCBpbW1lZGlhdGVseSxcblx0XHRcdC8vIG1vc3QgbGlrZWx5IGFzIGEgcmVzdWx0IG9mIGEgYmluZGluZyBpbml0aWFsaXNpbmdcblx0XHRcdHJ1bl9hbGwobmV3X29uX2Rlc3Ryb3kpO1xuXHRcdH1cblx0XHRjb21wb25lbnQuJCQub25fbW91bnQgPSBbXTtcblx0fSk7XG5cdGFmdGVyX3VwZGF0ZS5mb3JFYWNoKGFkZF9yZW5kZXJfY2FsbGJhY2spO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZGVzdHJveV9jb21wb25lbnQoY29tcG9uZW50LCBkZXRhY2hpbmcpIHtcblx0Y29uc3QgJCQgPSBjb21wb25lbnQuJCQ7XG5cdGlmICgkJC5mcmFnbWVudCAhPT0gbnVsbCkge1xuXHRcdGZsdXNoX3JlbmRlcl9jYWxsYmFja3MoJCQuYWZ0ZXJfdXBkYXRlKTtcblx0XHRydW5fYWxsKCQkLm9uX2Rlc3Ryb3kpO1xuXHRcdCQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LmQoZGV0YWNoaW5nKTtcblx0XHQvLyBUT0RPIG51bGwgb3V0IG90aGVyIHJlZnMsIGluY2x1ZGluZyBjb21wb25lbnQuJCQgKGJ1dCBuZWVkIHRvXG5cdFx0Ly8gcHJlc2VydmUgZmluYWwgc3RhdGU/KVxuXHRcdCQkLm9uX2Rlc3Ryb3kgPSAkJC5mcmFnbWVudCA9IG51bGw7XG5cdFx0JCQuY3R4ID0gW107XG5cdH1cbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZnVuY3Rpb24gbWFrZV9kaXJ0eShjb21wb25lbnQsIGkpIHtcblx0aWYgKGNvbXBvbmVudC4kJC5kaXJ0eVswXSA9PT0gLTEpIHtcblx0XHRkaXJ0eV9jb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcblx0XHRzY2hlZHVsZV91cGRhdGUoKTtcblx0XHRjb21wb25lbnQuJCQuZGlydHkuZmlsbCgwKTtcblx0fVxuXHRjb21wb25lbnQuJCQuZGlydHlbKGkgLyAzMSkgfCAwXSB8PSAxIDw8IGkgJSAzMTtcbn1cblxuLy8gVE9ETzogRG9jdW1lbnQgdGhlIG90aGVyIHBhcmFtc1xuLyoqXG4gKiBAcGFyYW0ge1N2ZWx0ZUNvbXBvbmVudH0gY29tcG9uZW50XG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5Db21wb25lbnRDb25zdHJ1Y3Rvck9wdGlvbnN9IG9wdGlvbnNcbiAqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi91dGlscy5qcycpWydub3RfZXF1YWwnXX0gbm90X2VxdWFsIFVzZWQgdG8gY29tcGFyZSBwcm9wcyBhbmQgc3RhdGUgdmFsdWVzLlxuICogQHBhcmFtIHsodGFyZ2V0OiBFbGVtZW50IHwgU2hhZG93Um9vdCkgPT4gdm9pZH0gW2FwcGVuZF9zdHlsZXNdIEZ1bmN0aW9uIHRoYXQgYXBwZW5kcyBzdHlsZXMgdG8gdGhlIERPTSB3aGVuIHRoZSBjb21wb25lbnQgaXMgZmlyc3QgaW5pdGlhbGlzZWQuXG4gKiBUaGlzIHdpbGwgYmUgdGhlIGBhZGRfY3NzYCBmdW5jdGlvbiBmcm9tIHRoZSBjb21waWxlZCBjb21wb25lbnQuXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0KFxuXHRjb21wb25lbnQsXG5cdG9wdGlvbnMsXG5cdGluc3RhbmNlLFxuXHRjcmVhdGVfZnJhZ21lbnQsXG5cdG5vdF9lcXVhbCxcblx0cHJvcHMsXG5cdGFwcGVuZF9zdHlsZXMgPSBudWxsLFxuXHRkaXJ0eSA9IFstMV1cbikge1xuXHRjb25zdCBwYXJlbnRfY29tcG9uZW50ID0gY3VycmVudF9jb21wb25lbnQ7XG5cdHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpO1xuXHQvKiogQHR5cGUge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuVCQkfSAqL1xuXHRjb25zdCAkJCA9IChjb21wb25lbnQuJCQgPSB7XG5cdFx0ZnJhZ21lbnQ6IG51bGwsXG5cdFx0Y3R4OiBbXSxcblx0XHQvLyBzdGF0ZVxuXHRcdHByb3BzLFxuXHRcdHVwZGF0ZTogbm9vcCxcblx0XHRub3RfZXF1YWwsXG5cdFx0Ym91bmQ6IGJsYW5rX29iamVjdCgpLFxuXHRcdC8vIGxpZmVjeWNsZVxuXHRcdG9uX21vdW50OiBbXSxcblx0XHRvbl9kZXN0cm95OiBbXSxcblx0XHRvbl9kaXNjb25uZWN0OiBbXSxcblx0XHRiZWZvcmVfdXBkYXRlOiBbXSxcblx0XHRhZnRlcl91cGRhdGU6IFtdLFxuXHRcdGNvbnRleHQ6IG5ldyBNYXAob3B0aW9ucy5jb250ZXh0IHx8IChwYXJlbnRfY29tcG9uZW50ID8gcGFyZW50X2NvbXBvbmVudC4kJC5jb250ZXh0IDogW10pKSxcblx0XHQvLyBldmVyeXRoaW5nIGVsc2Vcblx0XHRjYWxsYmFja3M6IGJsYW5rX29iamVjdCgpLFxuXHRcdGRpcnR5LFxuXHRcdHNraXBfYm91bmQ6IGZhbHNlLFxuXHRcdHJvb3Q6IG9wdGlvbnMudGFyZ2V0IHx8IHBhcmVudF9jb21wb25lbnQuJCQucm9vdFxuXHR9KTtcblx0YXBwZW5kX3N0eWxlcyAmJiBhcHBlbmRfc3R5bGVzKCQkLnJvb3QpO1xuXHRsZXQgcmVhZHkgPSBmYWxzZTtcblx0JCQuY3R4ID0gaW5zdGFuY2Vcblx0XHQ/IGluc3RhbmNlKGNvbXBvbmVudCwgb3B0aW9ucy5wcm9wcyB8fCB7fSwgKGksIHJldCwgLi4ucmVzdCkgPT4ge1xuXHRcdFx0XHRjb25zdCB2YWx1ZSA9IHJlc3QubGVuZ3RoID8gcmVzdFswXSA6IHJldDtcblx0XHRcdFx0aWYgKCQkLmN0eCAmJiBub3RfZXF1YWwoJCQuY3R4W2ldLCAoJCQuY3R4W2ldID0gdmFsdWUpKSkge1xuXHRcdFx0XHRcdGlmICghJCQuc2tpcF9ib3VuZCAmJiAkJC5ib3VuZFtpXSkgJCQuYm91bmRbaV0odmFsdWUpO1xuXHRcdFx0XHRcdGlmIChyZWFkeSkgbWFrZV9kaXJ0eShjb21wb25lbnQsIGkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0ICB9KVxuXHRcdDogW107XG5cdCQkLnVwZGF0ZSgpO1xuXHRyZWFkeSA9IHRydWU7XG5cdHJ1bl9hbGwoJCQuYmVmb3JlX3VwZGF0ZSk7XG5cdC8vIGBmYWxzZWAgYXMgYSBzcGVjaWFsIGNhc2Ugb2Ygbm8gRE9NIGNvbXBvbmVudFxuXHQkJC5mcmFnbWVudCA9IGNyZWF0ZV9mcmFnbWVudCA/IGNyZWF0ZV9mcmFnbWVudCgkJC5jdHgpIDogZmFsc2U7XG5cdGlmIChvcHRpb25zLnRhcmdldCkge1xuXHRcdGlmIChvcHRpb25zLmh5ZHJhdGUpIHtcblx0XHRcdHN0YXJ0X2h5ZHJhdGluZygpO1xuXHRcdFx0Ly8gVE9ETzogd2hhdCBpcyB0aGUgY29ycmVjdCB0eXBlIGhlcmU/XG5cdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0XHRjb25zdCBub2RlcyA9IGNoaWxkcmVuKG9wdGlvbnMudGFyZ2V0KTtcblx0XHRcdCQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50Lmwobm9kZXMpO1xuXHRcdFx0bm9kZXMuZm9yRWFjaChkZXRhY2gpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuXHRcdFx0JCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQuYygpO1xuXHRcdH1cblx0XHRpZiAob3B0aW9ucy5pbnRybykgdHJhbnNpdGlvbl9pbihjb21wb25lbnQuJCQuZnJhZ21lbnQpO1xuXHRcdG1vdW50X2NvbXBvbmVudChjb21wb25lbnQsIG9wdGlvbnMudGFyZ2V0LCBvcHRpb25zLmFuY2hvcik7XG5cdFx0ZW5kX2h5ZHJhdGluZygpO1xuXHRcdGZsdXNoKCk7XG5cdH1cblx0c2V0X2N1cnJlbnRfY29tcG9uZW50KHBhcmVudF9jb21wb25lbnQpO1xufVxuXG5leHBvcnQgbGV0IFN2ZWx0ZUVsZW1lbnQ7XG5cbmlmICh0eXBlb2YgSFRNTEVsZW1lbnQgPT09ICdmdW5jdGlvbicpIHtcblx0U3ZlbHRlRWxlbWVudCA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuXHRcdC8qKiBUaGUgU3ZlbHRlIGNvbXBvbmVudCBjb25zdHJ1Y3RvciAqL1xuXHRcdCQkY3Rvcjtcblx0XHQvKiogU2xvdHMgKi9cblx0XHQkJHM7XG5cdFx0LyoqIFRoZSBTdmVsdGUgY29tcG9uZW50IGluc3RhbmNlICovXG5cdFx0JCRjO1xuXHRcdC8qKiBXaGV0aGVyIG9yIG5vdCB0aGUgY3VzdG9tIGVsZW1lbnQgaXMgY29ubmVjdGVkICovXG5cdFx0JCRjbiA9IGZhbHNlO1xuXHRcdC8qKiBDb21wb25lbnQgcHJvcHMgZGF0YSAqL1xuXHRcdCQkZCA9IHt9O1xuXHRcdC8qKiBgdHJ1ZWAgaWYgY3VycmVudGx5IGluIHRoZSBwcm9jZXNzIG9mIHJlZmxlY3RpbmcgY29tcG9uZW50IHByb3BzIGJhY2sgdG8gYXR0cmlidXRlcyAqL1xuXHRcdCQkciA9IGZhbHNlO1xuXHRcdC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgQ3VzdG9tRWxlbWVudFByb3BEZWZpbml0aW9uPn0gUHJvcHMgZGVmaW5pdGlvbiAobmFtZSwgcmVmbGVjdGVkLCB0eXBlIGV0YykgKi9cblx0XHQkJHBfZCA9IHt9O1xuXHRcdC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgRnVuY3Rpb25bXT59IEV2ZW50IGxpc3RlbmVycyAqL1xuXHRcdCQkbCA9IHt9O1xuXHRcdC8qKiBAdHlwZSB7TWFwPEZ1bmN0aW9uLCBGdW5jdGlvbj59IEV2ZW50IGxpc3RlbmVyIHVuc3Vic2NyaWJlIGZ1bmN0aW9ucyAqL1xuXHRcdCQkbF91ID0gbmV3IE1hcCgpO1xuXG5cdFx0Y29uc3RydWN0b3IoJCRjb21wb25lbnRDdG9yLCAkJHNsb3RzLCB1c2Vfc2hhZG93X2RvbSkge1xuXHRcdFx0c3VwZXIoKTtcblx0XHRcdHRoaXMuJCRjdG9yID0gJCRjb21wb25lbnRDdG9yO1xuXHRcdFx0dGhpcy4kJHMgPSAkJHNsb3RzO1xuXHRcdFx0aWYgKHVzZV9zaGFkb3dfZG9tKSB7XG5cdFx0XHRcdHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcblx0XHRcdC8vIFdlIGNhbid0IGRldGVybWluZSB1cGZyb250IGlmIHRoZSBldmVudCBpcyBhIGN1c3RvbSBldmVudCBvciBub3QsIHNvIHdlIGhhdmUgdG9cblx0XHRcdC8vIGxpc3RlbiB0byBib3RoLiBJZiBzb21lb25lIHVzZXMgYSBjdXN0b20gZXZlbnQgd2l0aCB0aGUgc2FtZSBuYW1lIGFzIGEgcmVndWxhclxuXHRcdFx0Ly8gYnJvd3NlciBldmVudCwgdGhpcyBmaXJlcyB0d2ljZSAtIHdlIGNhbid0IGF2b2lkIHRoYXQuXG5cdFx0XHR0aGlzLiQkbFt0eXBlXSA9IHRoaXMuJCRsW3R5cGVdIHx8IFtdO1xuXHRcdFx0dGhpcy4kJGxbdHlwZV0ucHVzaChsaXN0ZW5lcik7XG5cdFx0XHRpZiAodGhpcy4kJGMpIHtcblx0XHRcdFx0Y29uc3QgdW5zdWIgPSB0aGlzLiQkYy4kb24odHlwZSwgbGlzdGVuZXIpO1xuXHRcdFx0XHR0aGlzLiQkbF91LnNldChsaXN0ZW5lciwgdW5zdWIpO1xuXHRcdFx0fVxuXHRcdFx0c3VwZXIuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0cmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuXHRcdFx0c3VwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG5cdFx0XHRpZiAodGhpcy4kJGMpIHtcblx0XHRcdFx0Y29uc3QgdW5zdWIgPSB0aGlzLiQkbF91LmdldChsaXN0ZW5lcik7XG5cdFx0XHRcdGlmICh1bnN1Yikge1xuXHRcdFx0XHRcdHVuc3ViKCk7XG5cdFx0XHRcdFx0dGhpcy4kJGxfdS5kZWxldGUobGlzdGVuZXIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0YXN5bmMgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG5cdFx0XHR0aGlzLiQkY24gPSB0cnVlO1xuXHRcdFx0aWYgKCF0aGlzLiQkYykge1xuXHRcdFx0XHQvLyBXZSB3YWl0IG9uZSB0aWNrIHRvIGxldCBwb3NzaWJsZSBjaGlsZCBzbG90IGVsZW1lbnRzIGJlIGNyZWF0ZWQvbW91bnRlZFxuXHRcdFx0XHRhd2FpdCBQcm9taXNlLnJlc29sdmUoKTtcblx0XHRcdFx0aWYgKCF0aGlzLiQkY24gfHwgdGhpcy4kJGMpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0ZnVuY3Rpb24gY3JlYXRlX3Nsb3QobmFtZSkge1xuXHRcdFx0XHRcdHJldHVybiAoKSA9PiB7XG5cdFx0XHRcdFx0XHRsZXQgbm9kZTtcblx0XHRcdFx0XHRcdGNvbnN0IG9iaiA9IHtcblx0XHRcdFx0XHRcdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0XHRcdFx0XHRcdG5vZGUgPSBlbGVtZW50KCdzbG90Jyk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKG5hbWUgIT09ICdkZWZhdWx0Jykge1xuXHRcdFx0XHRcdFx0XHRcdFx0YXR0cihub2RlLCAnbmFtZScsIG5hbWUpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0LyoqXG5cdFx0XHRcdFx0XHRcdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldFxuXHRcdFx0XHRcdFx0XHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBbYW5jaG9yXVxuXHRcdFx0XHRcdFx0XHQgKi9cblx0XHRcdFx0XHRcdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdFx0XHRcdFx0XHRpbnNlcnQodGFyZ2V0LCBub2RlLCBhbmNob3IpO1xuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGRldGFjaChub2RlKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRyZXR1cm4gb2JqO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29uc3QgJCRzbG90cyA9IHt9O1xuXHRcdFx0XHRjb25zdCBleGlzdGluZ19zbG90cyA9IGdldF9jdXN0b21fZWxlbWVudHNfc2xvdHModGhpcyk7XG5cdFx0XHRcdGZvciAoY29uc3QgbmFtZSBvZiB0aGlzLiQkcykge1xuXHRcdFx0XHRcdGlmIChuYW1lIGluIGV4aXN0aW5nX3Nsb3RzKSB7XG5cdFx0XHRcdFx0XHQkJHNsb3RzW25hbWVdID0gW2NyZWF0ZV9zbG90KG5hbWUpXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0Zm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgdGhpcy5hdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdFx0Ly8gdGhpcy4kJGRhdGEgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIHRoaXMuYXR0cmlidXRlc1xuXHRcdFx0XHRcdGNvbnN0IG5hbWUgPSB0aGlzLiQkZ19wKGF0dHJpYnV0ZS5uYW1lKTtcblx0XHRcdFx0XHRpZiAoIShuYW1lIGluIHRoaXMuJCRkKSkge1xuXHRcdFx0XHRcdFx0dGhpcy4kJGRbbmFtZV0gPSBnZXRfY3VzdG9tX2VsZW1lbnRfdmFsdWUobmFtZSwgYXR0cmlidXRlLnZhbHVlLCB0aGlzLiQkcF9kLCAndG9Qcm9wJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIFBvcnQgb3ZlciBwcm9wcyB0aGF0IHdlcmUgc2V0IHByb2dyYW1tYXRpY2FsbHkgYmVmb3JlIGNlIHdhcyBpbml0aWFsaXplZFxuXHRcdFx0XHRmb3IgKGNvbnN0IGtleSBpbiB0aGlzLiQkcF9kKSB7XG5cdFx0XHRcdFx0aWYgKCEoa2V5IGluIHRoaXMuJCRkKSAmJiB0aGlzW2tleV0gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0dGhpcy4kJGRba2V5XSA9IHRoaXNba2V5XTsgLy8gZG9uJ3QgdHJhbnNmb3JtLCB0aGVzZSB3ZXJlIHNldCB0aHJvdWdoIEphdmFTY3JpcHRcblx0XHRcdFx0XHRcdGRlbGV0ZSB0aGlzW2tleV07IC8vIHJlbW92ZSB0aGUgcHJvcGVydHkgdGhhdCBzaGFkb3dzIHRoZSBnZXR0ZXIvc2V0dGVyXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuJCRjID0gbmV3IHRoaXMuJCRjdG9yKHtcblx0XHRcdFx0XHR0YXJnZXQ6IHRoaXMuc2hhZG93Um9vdCB8fCB0aGlzLFxuXHRcdFx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdFx0XHQuLi50aGlzLiQkZCxcblx0XHRcdFx0XHRcdCQkc2xvdHMsXG5cdFx0XHRcdFx0XHQkJHNjb3BlOiB7XG5cdFx0XHRcdFx0XHRcdGN0eDogW11cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdC8vIFJlZmxlY3QgY29tcG9uZW50IHByb3BzIGFzIGF0dHJpYnV0ZXNcblx0XHRcdFx0Y29uc3QgcmVmbGVjdF9hdHRyaWJ1dGVzID0gKCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMuJCRyID0gdHJ1ZTtcblx0XHRcdFx0XHRmb3IgKGNvbnN0IGtleSBpbiB0aGlzLiQkcF9kKSB7XG5cdFx0XHRcdFx0XHR0aGlzLiQkZFtrZXldID0gdGhpcy4kJGMuJCQuY3R4W3RoaXMuJCRjLiQkLnByb3BzW2tleV1dO1xuXHRcdFx0XHRcdFx0aWYgKHRoaXMuJCRwX2Rba2V5XS5yZWZsZWN0KSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGF0dHJpYnV0ZV92YWx1ZSA9IGdldF9jdXN0b21fZWxlbWVudF92YWx1ZShcblx0XHRcdFx0XHRcdFx0XHRrZXksXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy4kJGRba2V5XSxcblx0XHRcdFx0XHRcdFx0XHR0aGlzLiQkcF9kLFxuXHRcdFx0XHRcdFx0XHRcdCd0b0F0dHJpYnV0ZSdcblx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0aWYgKGF0dHJpYnV0ZV92YWx1ZSA9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5yZW1vdmVBdHRyaWJ1dGUodGhpcy4kJHBfZFtrZXldLmF0dHJpYnV0ZSB8fCBrZXkpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuc2V0QXR0cmlidXRlKHRoaXMuJCRwX2Rba2V5XS5hdHRyaWJ1dGUgfHwga2V5LCBhdHRyaWJ1dGVfdmFsdWUpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRoaXMuJCRyID0gZmFsc2U7XG5cdFx0XHRcdH07XG5cdFx0XHRcdHRoaXMuJCRjLiQkLmFmdGVyX3VwZGF0ZS5wdXNoKHJlZmxlY3RfYXR0cmlidXRlcyk7XG5cdFx0XHRcdHJlZmxlY3RfYXR0cmlidXRlcygpOyAvLyBvbmNlIGluaXRpYWxseSBiZWNhdXNlIGFmdGVyX3VwZGF0ZSBpcyBhZGRlZCB0b28gbGF0ZSBmb3IgZmlyc3QgcmVuZGVyXG5cblx0XHRcdFx0Zm9yIChjb25zdCB0eXBlIGluIHRoaXMuJCRsKSB7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLiQkbFt0eXBlXSkge1xuXHRcdFx0XHRcdFx0Y29uc3QgdW5zdWIgPSB0aGlzLiQkYy4kb24odHlwZSwgbGlzdGVuZXIpO1xuXHRcdFx0XHRcdFx0dGhpcy4kJGxfdS5zZXQobGlzdGVuZXIsIHVuc3ViKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy4kJGwgPSB7fTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBXZSBkb24ndCBuZWVkIHRoaXMgd2hlbiB3b3JraW5nIHdpdGhpbiBTdmVsdGUgY29kZSwgYnV0IGZvciBjb21wYXRpYmlsaXR5IG9mIHBlb3BsZSB1c2luZyB0aGlzIG91dHNpZGUgb2YgU3ZlbHRlXG5cdFx0Ly8gYW5kIHNldHRpbmcgYXR0cmlidXRlcyB0aHJvdWdoIHNldEF0dHJpYnV0ZSBldGMsIHRoaXMgaXMgaGVscGZ1bFxuXHRcdGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhdHRyLCBfb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG5cdFx0XHRpZiAodGhpcy4kJHIpIHJldHVybjtcblx0XHRcdGF0dHIgPSB0aGlzLiQkZ19wKGF0dHIpO1xuXHRcdFx0dGhpcy4kJGRbYXR0cl0gPSBnZXRfY3VzdG9tX2VsZW1lbnRfdmFsdWUoYXR0ciwgbmV3VmFsdWUsIHRoaXMuJCRwX2QsICd0b1Byb3AnKTtcblx0XHRcdHRoaXMuJCRjPy4kc2V0KHsgW2F0dHJdOiB0aGlzLiQkZFthdHRyXSB9KTtcblx0XHR9XG5cblx0XHRkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcblx0XHRcdHRoaXMuJCRjbiA9IGZhbHNlO1xuXHRcdFx0Ly8gSW4gYSBtaWNyb3Rhc2ssIGJlY2F1c2UgdGhpcyBjb3VsZCBiZSBhIG1vdmUgd2l0aGluIHRoZSBET01cblx0XHRcdFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRpZiAoIXRoaXMuJCRjbikge1xuXHRcdFx0XHRcdHRoaXMuJCRjLiRkZXN0cm95KCk7XG5cdFx0XHRcdFx0dGhpcy4kJGMgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdCQkZ19wKGF0dHJpYnV0ZV9uYW1lKSB7XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRPYmplY3Qua2V5cyh0aGlzLiQkcF9kKS5maW5kKFxuXHRcdFx0XHRcdChrZXkpID0+XG5cdFx0XHRcdFx0XHR0aGlzLiQkcF9kW2tleV0uYXR0cmlidXRlID09PSBhdHRyaWJ1dGVfbmFtZSB8fFxuXHRcdFx0XHRcdFx0KCF0aGlzLiQkcF9kW2tleV0uYXR0cmlidXRlICYmIGtleS50b0xvd2VyQ2FzZSgpID09PSBhdHRyaWJ1dGVfbmFtZSlcblx0XHRcdFx0KSB8fCBhdHRyaWJ1dGVfbmFtZVxuXHRcdFx0KTtcblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBDdXN0b21FbGVtZW50UHJvcERlZmluaXRpb24+fSBwcm9wc19kZWZpbml0aW9uXG4gKiBAcGFyYW0geyd0b0F0dHJpYnV0ZScgfCAndG9Qcm9wJ30gW3RyYW5zZm9ybV1cbiAqL1xuZnVuY3Rpb24gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKHByb3AsIHZhbHVlLCBwcm9wc19kZWZpbml0aW9uLCB0cmFuc2Zvcm0pIHtcblx0Y29uc3QgdHlwZSA9IHByb3BzX2RlZmluaXRpb25bcHJvcF0/LnR5cGU7XG5cdHZhbHVlID0gdHlwZSA9PT0gJ0Jvb2xlYW4nICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ2Jvb2xlYW4nID8gdmFsdWUgIT0gbnVsbCA6IHZhbHVlO1xuXHRpZiAoIXRyYW5zZm9ybSB8fCAhcHJvcHNfZGVmaW5pdGlvbltwcm9wXSkge1xuXHRcdHJldHVybiB2YWx1ZTtcblx0fSBlbHNlIGlmICh0cmFuc2Zvcm0gPT09ICd0b0F0dHJpYnV0ZScpIHtcblx0XHRzd2l0Y2ggKHR5cGUpIHtcblx0XHRcdGNhc2UgJ09iamVjdCc6XG5cdFx0XHRjYXNlICdBcnJheSc6XG5cdFx0XHRcdHJldHVybiB2YWx1ZSA9PSBudWxsID8gbnVsbCA6IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcblx0XHRcdGNhc2UgJ0Jvb2xlYW4nOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPyAnJyA6IG51bGw7XG5cdFx0XHRjYXNlICdOdW1iZXInOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/IG51bGwgOiB2YWx1ZTtcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0c3dpdGNoICh0eXBlKSB7XG5cdFx0XHRjYXNlICdPYmplY3QnOlxuXHRcdFx0Y2FzZSAnQXJyYXknOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgJiYgSlNPTi5wYXJzZSh2YWx1ZSk7XG5cdFx0XHRjYXNlICdCb29sZWFuJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlOyAvLyBjb252ZXJzaW9uIGFscmVhZHkgaGFuZGxlZCBhYm92ZVxuXHRcdFx0Y2FzZSAnTnVtYmVyJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlICE9IG51bGwgPyArdmFsdWUgOiB2YWx1ZTtcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqXG4gKiBUdXJuIGEgU3ZlbHRlIGNvbXBvbmVudCBpbnRvIGEgY3VzdG9tIGVsZW1lbnQuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5Db21wb25lbnRUeXBlfSBDb21wb25lbnQgIEEgU3ZlbHRlIGNvbXBvbmVudCBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBDdXN0b21FbGVtZW50UHJvcERlZmluaXRpb24+fSBwcm9wc19kZWZpbml0aW9uICBUaGUgcHJvcHMgdG8gb2JzZXJ2ZVxuICogQHBhcmFtIHtzdHJpbmdbXX0gc2xvdHMgIFRoZSBzbG90cyB0byBjcmVhdGVcbiAqIEBwYXJhbSB7c3RyaW5nW119IGFjY2Vzc29ycyAgT3RoZXIgYWNjZXNzb3JzIGJlc2lkZXMgdGhlIG9uZXMgZm9yIHByb3BzIHRoZSBjb21wb25lbnQgaGFzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHVzZV9zaGFkb3dfZG9tICBXaGV0aGVyIHRvIHVzZSBzaGFkb3cgRE9NXG4gKiBAcGFyYW0geyhjZTogbmV3ICgpID0+IEhUTUxFbGVtZW50KSA9PiBuZXcgKCkgPT4gSFRNTEVsZW1lbnR9IFtleHRlbmRdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfY3VzdG9tX2VsZW1lbnQoXG5cdENvbXBvbmVudCxcblx0cHJvcHNfZGVmaW5pdGlvbixcblx0c2xvdHMsXG5cdGFjY2Vzc29ycyxcblx0dXNlX3NoYWRvd19kb20sXG5cdGV4dGVuZFxuKSB7XG5cdGxldCBDbGFzcyA9IGNsYXNzIGV4dGVuZHMgU3ZlbHRlRWxlbWVudCB7XG5cdFx0Y29uc3RydWN0b3IoKSB7XG5cdFx0XHRzdXBlcihDb21wb25lbnQsIHNsb3RzLCB1c2Vfc2hhZG93X2RvbSk7XG5cdFx0XHR0aGlzLiQkcF9kID0gcHJvcHNfZGVmaW5pdGlvbjtcblx0XHR9XG5cdFx0c3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG5cdFx0XHRyZXR1cm4gT2JqZWN0LmtleXMocHJvcHNfZGVmaW5pdGlvbikubWFwKChrZXkpID0+XG5cdFx0XHRcdChwcm9wc19kZWZpbml0aW9uW2tleV0uYXR0cmlidXRlIHx8IGtleSkudG9Mb3dlckNhc2UoKVxuXHRcdFx0KTtcblx0XHR9XG5cdH07XG5cdE9iamVjdC5rZXlzKHByb3BzX2RlZmluaXRpb24pLmZvckVhY2goKHByb3ApID0+IHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2xhc3MucHJvdG90eXBlLCBwcm9wLCB7XG5cdFx0XHRnZXQoKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLiQkYyAmJiBwcm9wIGluIHRoaXMuJCRjID8gdGhpcy4kJGNbcHJvcF0gOiB0aGlzLiQkZFtwcm9wXTtcblx0XHRcdH0sXG5cdFx0XHRzZXQodmFsdWUpIHtcblx0XHRcdFx0dmFsdWUgPSBnZXRfY3VzdG9tX2VsZW1lbnRfdmFsdWUocHJvcCwgdmFsdWUsIHByb3BzX2RlZmluaXRpb24pO1xuXHRcdFx0XHR0aGlzLiQkZFtwcm9wXSA9IHZhbHVlO1xuXHRcdFx0XHR0aGlzLiQkYz8uJHNldCh7IFtwcm9wXTogdmFsdWUgfSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xuXHRhY2Nlc3NvcnMuZm9yRWFjaCgoYWNjZXNzb3IpID0+IHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2xhc3MucHJvdG90eXBlLCBhY2Nlc3Nvciwge1xuXHRcdFx0Z2V0KCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy4kJGM/LlthY2Nlc3Nvcl07XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xuXHRpZiAoZXh0ZW5kKSB7XG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvciAtIGFzc2lnbmluZyBoZXJlIGlzIGZpbmVcblx0XHRDbGFzcyA9IGV4dGVuZChDbGFzcyk7XG5cdH1cblx0Q29tcG9uZW50LmVsZW1lbnQgPSAvKiogQHR5cGUge2FueX0gKi8gKENsYXNzKTtcblx0cmV0dXJuIENsYXNzO1xufVxuXG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIFN2ZWx0ZSBjb21wb25lbnRzLiBVc2VkIHdoZW4gZGV2PWZhbHNlLlxuICpcbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gW1Byb3BzPWFueV1cbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gW0V2ZW50cz1hbnldXG4gKi9cbmV4cG9ydCBjbGFzcyBTdmVsdGVDb21wb25lbnQge1xuXHQvKipcblx0ICogIyMjIFBSSVZBVEUgQVBJXG5cdCAqXG5cdCAqIERvIG5vdCB1c2UsIG1heSBjaGFuZ2UgYXQgYW55IHRpbWVcblx0ICpcblx0ICogQHR5cGUge2FueX1cblx0ICovXG5cdCQkID0gdW5kZWZpbmVkO1xuXHQvKipcblx0ICogIyMjIFBSSVZBVEUgQVBJXG5cdCAqXG5cdCAqIERvIG5vdCB1c2UsIG1heSBjaGFuZ2UgYXQgYW55IHRpbWVcblx0ICpcblx0ICogQHR5cGUge2FueX1cblx0ICovXG5cdCQkc2V0ID0gdW5kZWZpbmVkO1xuXG5cdC8qKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0JGRlc3Ryb3koKSB7XG5cdFx0ZGVzdHJveV9jb21wb25lbnQodGhpcywgMSk7XG5cdFx0dGhpcy4kZGVzdHJveSA9IG5vb3A7XG5cdH1cblxuXHQvKipcblx0ICogQHRlbXBsYXRlIHtFeHRyYWN0PGtleW9mIEV2ZW50cywgc3RyaW5nPn0gS1xuXHQgKiBAcGFyYW0ge0t9IHR5cGVcblx0ICogQHBhcmFtIHsoKGU6IEV2ZW50c1tLXSkgPT4gdm9pZCkgfCBudWxsIHwgdW5kZWZpbmVkfSBjYWxsYmFja1xuXHQgKiBAcmV0dXJucyB7KCkgPT4gdm9pZH1cblx0ICovXG5cdCRvbih0eXBlLCBjYWxsYmFjaykge1xuXHRcdGlmICghaXNfZnVuY3Rpb24oY2FsbGJhY2spKSB7XG5cdFx0XHRyZXR1cm4gbm9vcDtcblx0XHR9XG5cdFx0Y29uc3QgY2FsbGJhY2tzID0gdGhpcy4kJC5jYWxsYmFja3NbdHlwZV0gfHwgKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdID0gW10pO1xuXHRcdGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcblx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0Y29uc3QgaW5kZXggPSBjYWxsYmFja3MuaW5kZXhPZihjYWxsYmFjayk7XG5cdFx0XHRpZiAoaW5kZXggIT09IC0xKSBjYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcblx0XHR9O1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7UGFydGlhbDxQcm9wcz59IHByb3BzXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0JHNldChwcm9wcykge1xuXHRcdGlmICh0aGlzLiQkc2V0ICYmICFpc19lbXB0eShwcm9wcykpIHtcblx0XHRcdHRoaXMuJCQuc2tpcF9ib3VuZCA9IHRydWU7XG5cdFx0XHR0aGlzLiQkc2V0KHByb3BzKTtcblx0XHRcdHRoaXMuJCQuc2tpcF9ib3VuZCA9IGZhbHNlO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEN1c3RvbUVsZW1lbnRQcm9wRGVmaW5pdGlvblxuICogQHByb3BlcnR5IHtzdHJpbmd9IFthdHRyaWJ1dGVdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtyZWZsZWN0XVxuICogQHByb3BlcnR5IHsnU3RyaW5nJ3wnQm9vbGVhbid8J051bWJlcid8J0FycmF5J3wnT2JqZWN0J30gW3R5cGVdXG4gKi9cbiIsIi8vIGdlbmVyYXRlZCBkdXJpbmcgcmVsZWFzZSwgZG8gbm90IG1vZGlmeVxuXG4vKipcbiAqIFRoZSBjdXJyZW50IHZlcnNpb24sIGFzIHNldCBpbiBwYWNrYWdlLmpzb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLWNvbXBpbGVyI3N2ZWx0ZS12ZXJzaW9uXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgVkVSU0lPTiA9ICc0LjIuMTInO1xuZXhwb3J0IGNvbnN0IFBVQkxJQ19WRVJTSU9OID0gJzQnO1xuIiwiaW1wb3J0IHtcblx0cnVuX2FsbCxcblx0c3Vic2NyaWJlLFxuXHRub29wLFxuXHRzYWZlX25vdF9lcXVhbCxcblx0aXNfZnVuY3Rpb24sXG5cdGdldF9zdG9yZV92YWx1ZVxufSBmcm9tICcuLi9pbnRlcm5hbC9pbmRleC5qcyc7XG5cbmNvbnN0IHN1YnNjcmliZXJfcXVldWUgPSBbXTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgYFJlYWRhYmxlYCBzdG9yZSB0aGF0IGFsbG93cyByZWFkaW5nIGJ5IHN1YnNjcmlwdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtc3RvcmUjcmVhZGFibGVcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1R9IFt2YWx1ZV0gaW5pdGlhbCB2YWx1ZVxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuU3RhcnRTdG9wTm90aWZpZXI8VD59IFtzdGFydF1cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuUmVhZGFibGU8VD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWFkYWJsZSh2YWx1ZSwgc3RhcnQpIHtcblx0cmV0dXJuIHtcblx0XHRzdWJzY3JpYmU6IHdyaXRhYmxlKHZhbHVlLCBzdGFydCkuc3Vic2NyaWJlXG5cdH07XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgYFdyaXRhYmxlYCBzdG9yZSB0aGF0IGFsbG93cyBib3RoIHVwZGF0aW5nIGFuZCByZWFkaW5nIGJ5IHN1YnNjcmlwdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtc3RvcmUjd3JpdGFibGVcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1R9IFt2YWx1ZV0gaW5pdGlhbCB2YWx1ZVxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuU3RhcnRTdG9wTm90aWZpZXI8VD59IFtzdGFydF1cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuV3JpdGFibGU8VD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cml0YWJsZSh2YWx1ZSwgc3RhcnQgPSBub29wKSB7XG5cdC8qKiBAdHlwZSB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlVuc3Vic2NyaWJlcn0gKi9cblx0bGV0IHN0b3A7XG5cdC8qKiBAdHlwZSB7U2V0PGltcG9ydCgnLi9wcml2YXRlLmpzJykuU3Vic2NyaWJlSW52YWxpZGF0ZVR1cGxlPFQ+Pn0gKi9cblx0Y29uc3Qgc3Vic2NyaWJlcnMgPSBuZXcgU2V0KCk7XG5cdC8qKiBAcGFyYW0ge1R9IG5ld192YWx1ZVxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGZ1bmN0aW9uIHNldChuZXdfdmFsdWUpIHtcblx0XHRpZiAoc2FmZV9ub3RfZXF1YWwodmFsdWUsIG5ld192YWx1ZSkpIHtcblx0XHRcdHZhbHVlID0gbmV3X3ZhbHVlO1xuXHRcdFx0aWYgKHN0b3ApIHtcblx0XHRcdFx0Ly8gc3RvcmUgaXMgcmVhZHlcblx0XHRcdFx0Y29uc3QgcnVuX3F1ZXVlID0gIXN1YnNjcmliZXJfcXVldWUubGVuZ3RoO1xuXHRcdFx0XHRmb3IgKGNvbnN0IHN1YnNjcmliZXIgb2Ygc3Vic2NyaWJlcnMpIHtcblx0XHRcdFx0XHRzdWJzY3JpYmVyWzFdKCk7XG5cdFx0XHRcdFx0c3Vic2NyaWJlcl9xdWV1ZS5wdXNoKHN1YnNjcmliZXIsIHZhbHVlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAocnVuX3F1ZXVlKSB7XG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzdWJzY3JpYmVyX3F1ZXVlLmxlbmd0aDsgaSArPSAyKSB7XG5cdFx0XHRcdFx0XHRzdWJzY3JpYmVyX3F1ZXVlW2ldWzBdKHN1YnNjcmliZXJfcXVldWVbaSArIDFdKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0c3Vic2NyaWJlcl9xdWV1ZS5sZW5ndGggPSAwO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlVwZGF0ZXI8VD59IGZuXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0ZnVuY3Rpb24gdXBkYXRlKGZuKSB7XG5cdFx0c2V0KGZuKHZhbHVlKSk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuU3Vic2NyaWJlcjxUPn0gcnVuXG5cdCAqIEBwYXJhbSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5JbnZhbGlkYXRvcjxUPn0gW2ludmFsaWRhdGVdXG5cdCAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuVW5zdWJzY3JpYmVyfVxuXHQgKi9cblx0ZnVuY3Rpb24gc3Vic2NyaWJlKHJ1biwgaW52YWxpZGF0ZSA9IG5vb3ApIHtcblx0XHQvKiogQHR5cGUge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuU3Vic2NyaWJlSW52YWxpZGF0ZVR1cGxlPFQ+fSAqL1xuXHRcdGNvbnN0IHN1YnNjcmliZXIgPSBbcnVuLCBpbnZhbGlkYXRlXTtcblx0XHRzdWJzY3JpYmVycy5hZGQoc3Vic2NyaWJlcik7XG5cdFx0aWYgKHN1YnNjcmliZXJzLnNpemUgPT09IDEpIHtcblx0XHRcdHN0b3AgPSBzdGFydChzZXQsIHVwZGF0ZSkgfHwgbm9vcDtcblx0XHR9XG5cdFx0cnVuKHZhbHVlKTtcblx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0c3Vic2NyaWJlcnMuZGVsZXRlKHN1YnNjcmliZXIpO1xuXHRcdFx0aWYgKHN1YnNjcmliZXJzLnNpemUgPT09IDAgJiYgc3RvcCkge1xuXHRcdFx0XHRzdG9wKCk7XG5cdFx0XHRcdHN0b3AgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblx0cmV0dXJuIHsgc2V0LCB1cGRhdGUsIHN1YnNjcmliZSB9O1xufVxuXG4vKipcbiAqIERlcml2ZWQgdmFsdWUgc3RvcmUgYnkgc3luY2hyb25pemluZyBvbmUgb3IgbW9yZSByZWFkYWJsZSBzdG9yZXMgYW5kXG4gKiBhcHBseWluZyBhbiBhZ2dyZWdhdGlvbiBmdW5jdGlvbiBvdmVyIGl0cyBpbnB1dCB2YWx1ZXMuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLXN0b3JlI2Rlcml2ZWRcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5TdG9yZXN9IFNcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAb3ZlcmxvYWRcbiAqIEBwYXJhbSB7U30gc3RvcmVzIC0gaW5wdXQgc3RvcmVzXG4gKiBAcGFyYW0geyh2YWx1ZXM6IGltcG9ydCgnLi9wcml2YXRlLmpzJykuU3RvcmVzVmFsdWVzPFM+LCBzZXQ6ICh2YWx1ZTogVCkgPT4gdm9pZCwgdXBkYXRlOiAoZm46IGltcG9ydCgnLi9wdWJsaWMuanMnKS5VcGRhdGVyPFQ+KSA9PiB2b2lkKSA9PiBpbXBvcnQoJy4vcHVibGljLmpzJykuVW5zdWJzY3JpYmVyIHwgdm9pZH0gZm4gLSBmdW5jdGlvbiBjYWxsYmFjayB0aGF0IGFnZ3JlZ2F0ZXMgdGhlIHZhbHVlc1xuICogQHBhcmFtIHtUfSBbaW5pdGlhbF92YWx1ZV0gLSBpbml0aWFsIHZhbHVlXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlJlYWRhYmxlPFQ+fVxuICovXG5cbi8qKlxuICogRGVyaXZlZCB2YWx1ZSBzdG9yZSBieSBzeW5jaHJvbml6aW5nIG9uZSBvciBtb3JlIHJlYWRhYmxlIHN0b3JlcyBhbmRcbiAqIGFwcGx5aW5nIGFuIGFnZ3JlZ2F0aW9uIGZ1bmN0aW9uIG92ZXIgaXRzIGlucHV0IHZhbHVlcy5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtc3RvcmUjZGVyaXZlZFxuICogQHRlbXBsYXRlIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlN0b3Jlc30gU1xuICogQHRlbXBsYXRlIFRcbiAqIEBvdmVybG9hZFxuICogQHBhcmFtIHtTfSBzdG9yZXMgLSBpbnB1dCBzdG9yZXNcbiAqIEBwYXJhbSB7KHZhbHVlczogaW1wb3J0KCcuL3ByaXZhdGUuanMnKS5TdG9yZXNWYWx1ZXM8Uz4pID0+IFR9IGZuIC0gZnVuY3Rpb24gY2FsbGJhY2sgdGhhdCBhZ2dyZWdhdGVzIHRoZSB2YWx1ZXNcbiAqIEBwYXJhbSB7VH0gW2luaXRpYWxfdmFsdWVdIC0gaW5pdGlhbCB2YWx1ZVxuICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn1cbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5TdG9yZXN9IFNcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1N9IHN0b3Jlc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7VH0gW2luaXRpYWxfdmFsdWVdXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlJlYWRhYmxlPFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVyaXZlZChzdG9yZXMsIGZuLCBpbml0aWFsX3ZhbHVlKSB7XG5cdGNvbnN0IHNpbmdsZSA9ICFBcnJheS5pc0FycmF5KHN0b3Jlcyk7XG5cdC8qKiBAdHlwZSB7QXJyYXk8aW1wb3J0KCcuL3B1YmxpYy5qcycpLlJlYWRhYmxlPGFueT4+fSAqL1xuXHRjb25zdCBzdG9yZXNfYXJyYXkgPSBzaW5nbGUgPyBbc3RvcmVzXSA6IHN0b3Jlcztcblx0aWYgKCFzdG9yZXNfYXJyYXkuZXZlcnkoQm9vbGVhbikpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ2Rlcml2ZWQoKSBleHBlY3RzIHN0b3JlcyBhcyBpbnB1dCwgZ290IGEgZmFsc3kgdmFsdWUnKTtcblx0fVxuXHRjb25zdCBhdXRvID0gZm4ubGVuZ3RoIDwgMjtcblx0cmV0dXJuIHJlYWRhYmxlKGluaXRpYWxfdmFsdWUsIChzZXQsIHVwZGF0ZSkgPT4ge1xuXHRcdGxldCBzdGFydGVkID0gZmFsc2U7XG5cdFx0Y29uc3QgdmFsdWVzID0gW107XG5cdFx0bGV0IHBlbmRpbmcgPSAwO1xuXHRcdGxldCBjbGVhbnVwID0gbm9vcDtcblx0XHRjb25zdCBzeW5jID0gKCkgPT4ge1xuXHRcdFx0aWYgKHBlbmRpbmcpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0Y2xlYW51cCgpO1xuXHRcdFx0Y29uc3QgcmVzdWx0ID0gZm4oc2luZ2xlID8gdmFsdWVzWzBdIDogdmFsdWVzLCBzZXQsIHVwZGF0ZSk7XG5cdFx0XHRpZiAoYXV0bykge1xuXHRcdFx0XHRzZXQocmVzdWx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNsZWFudXAgPSBpc19mdW5jdGlvbihyZXN1bHQpID8gcmVzdWx0IDogbm9vcDtcblx0XHRcdH1cblx0XHR9O1xuXHRcdGNvbnN0IHVuc3Vic2NyaWJlcnMgPSBzdG9yZXNfYXJyYXkubWFwKChzdG9yZSwgaSkgPT5cblx0XHRcdHN1YnNjcmliZShcblx0XHRcdFx0c3RvcmUsXG5cdFx0XHRcdCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHZhbHVlc1tpXSA9IHZhbHVlO1xuXHRcdFx0XHRcdHBlbmRpbmcgJj0gfigxIDw8IGkpO1xuXHRcdFx0XHRcdGlmIChzdGFydGVkKSB7XG5cdFx0XHRcdFx0XHRzeW5jKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHQoKSA9PiB7XG5cdFx0XHRcdFx0cGVuZGluZyB8PSAxIDw8IGk7XG5cdFx0XHRcdH1cblx0XHRcdClcblx0XHQpO1xuXHRcdHN0YXJ0ZWQgPSB0cnVlO1xuXHRcdHN5bmMoKTtcblx0XHRyZXR1cm4gZnVuY3Rpb24gc3RvcCgpIHtcblx0XHRcdHJ1bl9hbGwodW5zdWJzY3JpYmVycyk7XG5cdFx0XHRjbGVhbnVwKCk7XG5cdFx0XHQvLyBXZSBuZWVkIHRvIHNldCB0aGlzIHRvIGZhbHNlIGJlY2F1c2UgY2FsbGJhY2tzIGNhbiBzdGlsbCBoYXBwZW4gZGVzcGl0ZSBoYXZpbmcgdW5zdWJzY3JpYmVkOlxuXHRcdFx0Ly8gQ2FsbGJhY2tzIG1pZ2h0IGFscmVhZHkgYmUgcGxhY2VkIGluIHRoZSBxdWV1ZSB3aGljaCBkb2Vzbid0IGtub3cgaXQgc2hvdWxkIG5vIGxvbmdlclxuXHRcdFx0Ly8gaW52b2tlIHRoaXMgZGVyaXZlZCBzdG9yZS5cblx0XHRcdHN0YXJ0ZWQgPSBmYWxzZTtcblx0XHR9O1xuXHR9KTtcbn1cblxuLyoqXG4gKiBUYWtlcyBhIHN0b3JlIGFuZCByZXR1cm5zIGEgbmV3IG9uZSBkZXJpdmVkIGZyb20gdGhlIG9sZCBvbmUgdGhhdCBpcyByZWFkYWJsZS5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtc3RvcmUjcmVhZG9ubHlcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn0gc3RvcmUgIC0gc3RvcmUgdG8gbWFrZSByZWFkb25seVxuICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRvbmx5KHN0b3JlKSB7XG5cdHJldHVybiB7XG5cdFx0c3Vic2NyaWJlOiBzdG9yZS5zdWJzY3JpYmUuYmluZChzdG9yZSlcblx0fTtcbn1cblxuZXhwb3J0IHsgZ2V0X3N0b3JlX3ZhbHVlIGFzIGdldCB9O1xuIiwiaW1wb3J0IHsgd3JpdGFibGUgfSBmcm9tICdzdmVsdGUvc3RvcmUnO1xuXG5leHBvcnQgZW51bSBTZXZlcml0eSB7XG5cdGluZm8gPSAnaW5mbycsXG5cdHdhcm4gPSAnd2FybicsXG5cdGVycm9yID0gJ2Vycm9yJ1xufVxuXG5leHBvcnQgdHlwZSBMb2cgPSB7XG5cdHNldmVyaXR5OiBTZXZlcml0eTtcblx0ZGF0ZTogRGF0ZTtcblx0Y29udGVudDogc3RyaW5nO1xufTtcblxuY2xhc3MgTG9nZ2VyIHtcblx0Ly8gVE9ETzogbWFrZSB0aGlzIGEgJHN0YXRlIHZhcmlhYmxlIHdpdGggc3ZlbHRlNVxuXHRsb2dzID0gd3JpdGFibGU8TG9nW10+KFtdKTtcblxuXHRwcml2YXRlIF9hZGRMb2coc2V2ZXJpdHk6IFNldmVyaXR5LCBjb250ZW50OiBzdHJpbmcpIHtcblx0XHR0aGlzLmxvZ3MudXBkYXRlKChsb2dzKSA9PiB7XG5cdFx0XHRsb2dzLnVuc2hpZnQoe1xuXHRcdFx0XHRkYXRlOiBuZXcgRGF0ZSgpLFxuXHRcdFx0XHRzZXZlcml0eSxcblx0XHRcdFx0Y29udGVudFxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gbG9ncztcblx0XHR9KTtcblx0fVxuXG5cdGluZm8oY29udGVudDogc3RyaW5nKSB7XG5cdFx0dGhpcy5fYWRkTG9nKFNldmVyaXR5LmluZm8sIGNvbnRlbnQpO1xuXHR9XG5cblx0d2Fybihjb250ZW50OiBzdHJpbmcpIHtcblx0XHR0aGlzLl9hZGRMb2coU2V2ZXJpdHkud2FybiwgY29udGVudCk7XG5cdH1cblxuXHRlcnJvcihjb250ZW50OiBzdHJpbmcpIHtcblx0XHR0aGlzLl9hZGRMb2coU2V2ZXJpdHkuZXJyb3IsIGNvbnRlbnQpO1xuXHR9XG59XG5cbmV4cG9ydCBjb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKCk7XG4iLCJpbXBvcnQgdHlwZSB7IFdyaXRhYmxlIH0gZnJvbSAnc3ZlbHRlL3N0b3JlJztcblxuZXhwb3J0IGZ1bmN0aW9uIG9uV3JpdGFibGVDaGFuZ2U8VD4oc3RvcmU6IFdyaXRhYmxlPFQ+LCBmbjogKG5ld1ZhbHVlOiBUKSA9PiB2b2lkKSB7XG5cdGxldCBpbml0aWFsaXplZCA9IGZhbHNlO1xuXHRyZXR1cm4gc3RvcmUuc3Vic2NyaWJlKCh2YWx1ZSkgPT4ge1xuXHRcdGlmIChpbml0aWFsaXplZCkge1xuXHRcdFx0Zm4odmFsdWUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpbml0aWFsaXplZCA9IHRydWU7XG5cdFx0fVxuXHR9KTtcbn1cbiIsImltcG9ydCB7IEJvbHRTZXJ2aWNlIH0gZnJvbSAnJGxpYi9TZXJ2aWNlcy9Cb2x0U2VydmljZSc7XG5pbXBvcnQgeyBHbG9iYWxTdGF0ZSB9IGZyb20gJyRsaWIvU3RhdGUvR2xvYmFsU3RhdGUnO1xuaW1wb3J0IHsgQ2xpZW50LCBHYW1lIH0gZnJvbSAnJGxpYi9VdGlsL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnJGxpYi9VdGlsL0xvZ2dlcic7XG5pbXBvcnQgeyBvbldyaXRhYmxlQ2hhbmdlIH0gZnJvbSAnJGxpYi9VdGlsL29uV3JpdGFibGVDaGFuZ2UnO1xuaW1wb3J0IHsgZ2V0IH0gZnJvbSAnc3ZlbHRlL3N0b3JlJztcblxuZXhwb3J0IGludGVyZmFjZSBDb25maWcge1xuXHR1c2VfZGFya190aGVtZTogYm9vbGVhbjtcblx0cnNfcGx1Z2luX2xvYWRlcjogYm9vbGVhbjtcblx0ZmxhdHBha19yaWNoX3ByZXNlbmNlOiBib29sZWFuO1xuXHRydW5lbGl0ZV91c2VfY3VzdG9tX2phcjogYm9vbGVhbjtcblx0c2VsZWN0ZWRfZ2FtZTogR2FtZTtcblx0c2VsZWN0ZWRfY2xpZW50OiBDbGllbnQ7XG5cdHVzZV9jdXN0b21fcnNfY29uZmlnX3VyaTogYm9vbGVhbjtcblx0cnNfY29uZmlnX3VyaT86IHN0cmluZztcblx0cnVuZWxpdGVfY3VzdG9tX2phcj86IHN0cmluZztcblx0c2VsZWN0ZWRfdXNlcl9pZD86IHN0cmluZztcblx0c2VsZWN0ZWRfYWNjb3VudF9pZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb25maWc6IENvbmZpZyA9IHtcblx0dXNlX2RhcmtfdGhlbWU6IHRydWUsXG5cdHJzX3BsdWdpbl9sb2FkZXI6IGZhbHNlLFxuXHRmbGF0cGFrX3JpY2hfcHJlc2VuY2U6IGZhbHNlLFxuXHRydW5lbGl0ZV91c2VfY3VzdG9tX2phcjogZmFsc2UsXG5cdHVzZV9jdXN0b21fcnNfY29uZmlnX3VyaTogZmFsc2UsXG5cdHNlbGVjdGVkX2dhbWU6IEdhbWUub3Nycyxcblx0c2VsZWN0ZWRfY2xpZW50OiBDbGllbnQub2ZmaWNpYWxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0Q29uZmlnKCkge1xuXHRjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuXHRjb25zdCBjb25maWdQYXJhbSA9IHBhcmFtcy5nZXQoJ2NvbmZpZycpO1xuXG5cdGZ1bmN0aW9uIGlzQ29uZmlnVmFsaWQoY29uZjogQ29uZmlnKTogY29uZiBpcyBDb25maWcge1xuXHRcdHJldHVybiAoXG5cdFx0XHR0eXBlb2YgY29uZiA9PT0gJ29iamVjdCcgJiZcblx0XHRcdHR5cGVvZiBjb25mLnVzZV9kYXJrX3RoZW1lID09PSAnYm9vbGVhbicgJiZcblx0XHRcdHR5cGVvZiBjb25mLnJzX3BsdWdpbl9sb2FkZXIgPT09ICdib29sZWFuJyAmJlxuXHRcdFx0dHlwZW9mIGNvbmYuZmxhdHBha19yaWNoX3ByZXNlbmNlID09PSAnYm9vbGVhbicgJiZcblx0XHRcdHR5cGVvZiBjb25mLnJ1bmVsaXRlX3VzZV9jdXN0b21famFyID09PSAnYm9vbGVhbicgJiZcblx0XHRcdE9iamVjdC52YWx1ZXMoR2FtZSkuaW5jbHVkZXMoY29uZi5zZWxlY3RlZF9nYW1lKSAmJlxuXHRcdFx0T2JqZWN0LnZhbHVlcyhDbGllbnQpLmluY2x1ZGVzKGNvbmYuc2VsZWN0ZWRfY2xpZW50KVxuXHRcdCk7XG5cdH1cblxuXHRjb25zdCB7IGNvbmZpZyB9ID0gR2xvYmFsU3RhdGU7XG5cblx0aWYgKGNvbmZpZ1BhcmFtKSB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHBhcnNlZENvbmZpZyA9IEpTT04ucGFyc2UoY29uZmlnUGFyYW0pO1xuXHRcdFx0aWYgKGlzQ29uZmlnVmFsaWQocGFyc2VkQ29uZmlnKSkge1xuXHRcdFx0XHRjb25maWcuc2V0KHBhcnNlZENvbmZpZyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRsb2dnZXIuZXJyb3IoXG5cdFx0XHRcdFx0J1RoZSBjb25maWcgc2F2ZWQgb24gZGlzayBpcyBub3QgdGhlIGNvcnJlY3QgZm9ybWF0LiBJdCBoYXMgYmVlbiByZXN0b3JlZCB0byBkZWZhdWx0Lidcblx0XHRcdFx0KTtcblx0XHRcdFx0R2xvYmFsU3RhdGUuY29uZmlnSGFzUGVuZGluZ0NoYW5nZXMgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGxvZ2dlci5lcnJvcignVW5hYmxlIHRvIHBhcnNlIGNvbmZpZywgcmVzdG9yaW5nIHRvIGRlZmF1bHQnKTtcblx0XHRcdEdsb2JhbFN0YXRlLmNvbmZpZ0hhc1BlbmRpbmdDaGFuZ2VzID0gdHJ1ZTtcblx0XHR9XG5cdH1cblxuXHRjb25zdCBzZWxlY3RlZF91c2VyX2lkID0gZ2V0KGNvbmZpZykuc2VsZWN0ZWRfdXNlcl9pZDtcblx0Y29uc3Qgc2F2ZWRTZXNzaW9uSXNNaXNzaW5nID0gQm9sdFNlcnZpY2UuZmluZFNlc3Npb24oc2VsZWN0ZWRfdXNlcl9pZCA/PyAnJykgPT09IHVuZGVmaW5lZDtcblx0aWYgKHNhdmVkU2Vzc2lvbklzTWlzc2luZykgc2VsZWN0Rmlyc3RTZXNzaW9uKCk7XG5cblx0b25Xcml0YWJsZUNoYW5nZShHbG9iYWxTdGF0ZS5jb25maWcsICgpID0+IHtcblx0XHRHbG9iYWxTdGF0ZS5jb25maWdIYXNQZW5kaW5nQ2hhbmdlcyA9IHRydWU7XG5cdH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0Rmlyc3RTZXNzaW9uKCkge1xuXHRjb25zdCB7IGNvbmZpZywgc2Vzc2lvbnM6IHNlc3Npb25zU3RvcmUgfSA9IEdsb2JhbFN0YXRlO1xuXHRjb25maWcudXBkYXRlKChfY29uZmlnKSA9PiB7XG5cdFx0Y29uc3Qgc2Vzc2lvbnMgPSBnZXQoc2Vzc2lvbnNTdG9yZSk7XG5cdFx0aWYgKHNlc3Npb25zLmxlbmd0aCA+IDApIHtcblx0XHRcdGNvbnN0IGZpcnN0U2Vzc2lvbiA9IHNlc3Npb25zWzBdO1xuXHRcdFx0X2NvbmZpZy5zZWxlY3RlZF91c2VyX2lkID0gZmlyc3RTZXNzaW9uLnVzZXIudXNlcklkO1xuXHRcdFx0X2NvbmZpZy5zZWxlY3RlZF9hY2NvdW50X2lkID0gZmlyc3RTZXNzaW9uLmFjY291bnRzWzBdLmFjY291bnRJZDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0X2NvbmZpZy5zZWxlY3RlZF91c2VyX2lkID0gdW5kZWZpbmVkO1xuXHRcdFx0X2NvbmZpZy5zZWxlY3RlZF9hY2NvdW50X2lkID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHRyZXR1cm4gX2NvbmZpZztcblx0fSk7XG59XG4iLCJpbXBvcnQgdHlwZSB7IFNlc3Npb24gfSBmcm9tICckbGliL1NlcnZpY2VzL1VzZXJTZXJ2aWNlJztcbmltcG9ydCB7IGRlZmF1bHRDb25maWcsIHR5cGUgQ29uZmlnIH0gZnJvbSAnJGxpYi9VdGlsL0NvbmZpZ1V0aWxzJztcbmltcG9ydCB7IHdyaXRhYmxlIH0gZnJvbSAnc3ZlbHRlL3N0b3JlJztcblxuZXhwb3J0IGNvbnN0IEdsb2JhbFN0YXRlID0ge1xuXHRjb25maWdIYXNQZW5kaW5nQ2hhbmdlczogZmFsc2UsXG5cdGNvbmZpZzogd3JpdGFibGU8Q29uZmlnPihkZWZhdWx0Q29uZmlnKSxcblx0c2Vzc2lvbnM6IHdyaXRhYmxlPFNlc3Npb25bXT4oW10pXG59O1xuIiwiaW1wb3J0IHsgQXV0aFNlcnZpY2UgfSBmcm9tICckbGliL1NlcnZpY2VzL0F1dGhTZXJ2aWNlJztcbmltcG9ydCB7IHR5cGUgQWNjb3VudCwgdHlwZSBTZXNzaW9uIH0gZnJvbSAnJGxpYi9TZXJ2aWNlcy9Vc2VyU2VydmljZSc7XG5pbXBvcnQgeyBHbG9iYWxTdGF0ZSB9IGZyb20gJyRsaWIvU3RhdGUvR2xvYmFsU3RhdGUnO1xuaW1wb3J0IHsgc2VsZWN0Rmlyc3RTZXNzaW9uIH0gZnJvbSAnJGxpYi9VdGlsL0NvbmZpZ1V0aWxzJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJyRsaWIvVXRpbC9Mb2dnZXInO1xuaW1wb3J0IHsgZ2V0IH0gZnJvbSAnc3ZlbHRlL3N0b3JlJztcblxubGV0IHNhdmVJblByb2dyZXNzOiBib29sZWFuID0gZmFsc2U7XG5cbmV4cG9ydCBjbGFzcyBCb2x0U2VydmljZSB7XG5cdHN0YXRpYyBhc3luYyBsb2dvdXQoc3ViOiBzdHJpbmcpOiBQcm9taXNlPFNlc3Npb25bXT4ge1xuXHRcdGNvbnN0IHsgc2Vzc2lvbnM6IHNlc3Npb25zU3RvcmUgfSA9IEdsb2JhbFN0YXRlO1xuXHRcdGNvbnN0IHNlc3Npb25zID0gZ2V0KHNlc3Npb25zU3RvcmUpO1xuXHRcdGNvbnN0IHNlc3Npb25JbmRleCA9IHNlc3Npb25zLmZpbmRJbmRleCgoc2Vzc2lvbikgPT4gc2Vzc2lvbi51c2VyLnVzZXJJZCA9PT0gc3ViKTtcblx0XHRpZiAoc2Vzc2lvbkluZGV4ID4gLTEpIHtcblx0XHRcdEF1dGhTZXJ2aWNlLnJldm9rZU9hdXRoQ3JlZHMoc2Vzc2lvbnNbc2Vzc2lvbkluZGV4XS50b2tlbnMuYWNjZXNzX3Rva2VuKTtcblx0XHRcdHNlc3Npb25zLnNwbGljZShzZXNzaW9uSW5kZXgsIDEpO1xuXHRcdFx0c2Vzc2lvbnNTdG9yZS5zZXQoc2Vzc2lvbnMpO1xuXHRcdH1cblx0XHRzZWxlY3RGaXJzdFNlc3Npb24oKTtcblx0XHRCb2x0U2VydmljZS5zYXZlQ3JlZGVudGlhbHMoKTtcblx0XHRyZXR1cm4gc2Vzc2lvbnM7XG5cdH1cblxuXHQvLyBzZW5kcyBhbiBhc3luY2hyb25vdXMgcmVxdWVzdCB0byBzYXZlIHRoZSBjdXJyZW50IHVzZXIgY29uZmlnIHRvIGRpc2ssIGlmIGl0IGhhcyBjaGFuZ2VkXG5cdHN0YXRpYyBzYXZlQ29uZmlnKGNoZWNrRm9yUGVuZGluZ0NoYW5nZXMgPSB0cnVlKSB7XG5cdFx0aWYgKHNhdmVJblByb2dyZXNzKSByZXR1cm47XG5cdFx0aWYgKGNoZWNrRm9yUGVuZGluZ0NoYW5nZXMgJiYgIUdsb2JhbFN0YXRlLmNvbmZpZ0hhc1BlbmRpbmdDaGFuZ2VzKSByZXR1cm47XG5cblx0XHRzYXZlSW5Qcm9ncmVzcyA9IHRydWU7XG5cdFx0Y29uc3QgeG1sID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cdFx0eG1sLm9wZW4oJ1BPU1QnLCAnL3NhdmUtY29uZmlnJywgdHJ1ZSk7XG5cdFx0eG1sLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcblx0XHRcdGlmICh4bWwucmVhZHlTdGF0ZSA9PSA0KSB7XG5cdFx0XHRcdGxvZ2dlci5pbmZvKGBTYXZlIGNvbmZpZyBzdGF0dXM6ICcke3htbC5yZXNwb25zZVRleHQudHJpbSgpfSdgKTtcblx0XHRcdFx0c2F2ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9O1xuXHRcdHhtbC5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG5cdFx0Y29uc3QgY29uZmlnID0gZ2V0KEdsb2JhbFN0YXRlLmNvbmZpZyk7XG5cdFx0eG1sLnNlbmQoSlNPTi5zdHJpbmdpZnkoY29uZmlnKSk7XG5cdFx0cmV0dXJuIGNvbmZpZztcblx0fVxuXG5cdC8vIHNlbmRzIGEgcmVxdWVzdCB0byBzYXZlIGFsbCBjcmVkZW50aWFscyB0byB0aGVpciBjb25maWcgZmlsZSxcblx0Ly8gb3ZlcndyaXRpbmcgdGhlIHByZXZpb3VzIGZpbGUsIGlmIGFueVxuXHRzdGF0aWMgYXN5bmMgc2F2ZUNyZWRlbnRpYWxzKCk6IFByb21pc2U8dW5kZWZpbmVkPiB7XG5cdFx0bmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcblx0XHRcdGNvbnN0IHhtbCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXHRcdFx0eG1sLm9wZW4oJ1BPU1QnLCAnL3NhdmUtY3JlZGVudGlhbHMnLCB0cnVlKTtcblx0XHRcdHhtbC5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXHRcdFx0eG1sLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcblx0XHRcdFx0aWYgKHhtbC5yZWFkeVN0YXRlID09IDQpIHtcblx0XHRcdFx0XHRyZXNvbHZlKHVuZGVmaW5lZCk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdGNvbnN0IHNlc3Npb25zID0gZ2V0KEdsb2JhbFN0YXRlLnNlc3Npb25zKTtcblx0XHRcdHhtbC5zZW5kKEpTT04uc3RyaW5naWZ5KHNlc3Npb25zKSk7XG5cdFx0fSk7XG5cdH1cblxuXHRzdGF0aWMgYXN5bmMgb3BlbkZpbGVQaWNrZXIoKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcblx0XHRcdGNvbnN0IHhtbCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXHRcdFx0eG1sLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcblx0XHRcdFx0aWYgKHhtbC5yZWFkeVN0YXRlID09IDQpIHtcblx0XHRcdFx0XHQvLyBpZiB0aGUgdXNlciBjbG9zZXMgdGhlIGZpbGUgcGlja2VyIHdpdGhvdXQgc2VsZWN0aW5nIGEgZmlsZSwgc3RhdHVzIGhlcmUgaXMgMjA0XG5cdFx0XHRcdFx0aWYgKHhtbC5zdGF0dXMgPT0gMjAwKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzb2x2ZSh4bWwucmVzcG9uc2VUZXh0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHJlc29sdmUodW5kZWZpbmVkKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdHhtbC5vcGVuKCdHRVQnLCAnL2phci1maWxlLXBpY2tlcicsIHRydWUpO1xuXHRcdFx0eG1sLnNlbmQoKTtcblx0XHR9KTtcblx0fVxuXG5cdHN0YXRpYyBmaW5kU2Vzc2lvbih1c2VySWQ6IHN0cmluZyk6IFNlc3Npb24gfCB1bmRlZmluZWQge1xuXHRcdGNvbnN0IHNlc3Npb25zID0gZ2V0KEdsb2JhbFN0YXRlLnNlc3Npb25zKTtcblx0XHRyZXR1cm4gc2Vzc2lvbnMuZmluZCgoc2Vzc2lvbikgPT4gc2Vzc2lvbi51c2VyLnVzZXJJZCA9PT0gdXNlcklkKTtcblx0fVxuXG5cdHN0YXRpYyBmaW5kQWNjb3VudChhY2NvdW50czogQWNjb3VudFtdLCBhY2NvdW50SWQ6IHN0cmluZyk6IEFjY291bnQgfCB1bmRlZmluZWQge1xuXHRcdHJldHVybiBhY2NvdW50cy5maW5kKChhY2NvdW50KSA9PiBhY2NvdW50LmFjY291bnRJZCA9PSBhY2NvdW50SWQpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBCb2x0U2VydmljZSB9IGZyb20gJyRsaWIvU2VydmljZXMvQm9sdFNlcnZpY2UnO1xuaW1wb3J0IHsgYm9sdCB9IGZyb20gJyRsaWIvU3RhdGUvQm9sdCc7XG5pbXBvcnQgeyBHbG9iYWxTdGF0ZSB9IGZyb20gJyRsaWIvU3RhdGUvR2xvYmFsU3RhdGUnO1xuaW1wb3J0IHsgdHlwZSBEaXJlY3Q2VG9rZW4sIHR5cGUgR2FtZUNsaWVudCB9IGZyb20gJyRsaWIvVXRpbC9pbnRlcmZhY2VzJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJyRsaWIvVXRpbC9Mb2dnZXInO1xuaW1wb3J0IHsgZ2V0IH0gZnJvbSAnc3ZlbHRlL3N0b3JlJztcblxuLy8gYXN5bmNocm9ub3VzbHkgZG93bmxvYWQgYW5kIGxhdW5jaCBSUzMncyBvZmZpY2lhbCAuZGViIGNsaWVudCB1c2luZyB0aGUgZ2l2ZW4gZW52IHZhcmlhYmxlc1xuZXhwb3J0IGZ1bmN0aW9uIGxhdW5jaFJTM0xpbnV4KFxuXHRqeF9zZXNzaW9uX2lkOiBzdHJpbmcsXG5cdGp4X2NoYXJhY3Rlcl9pZDogc3RyaW5nLFxuXHRqeF9kaXNwbGF5X25hbWU6IHN0cmluZ1xuKSB7XG5cdEJvbHRTZXJ2aWNlLnNhdmVDb25maWcoKTtcblxuXHRjb25zdCBsYXVuY2ggPSAoaGFzaD86IHN0cmluZywgZGViPzogbmV2ZXIpID0+IHtcblx0XHRjb25zdCB4bWwgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0XHRjb25zdCBwYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblx0XHRjb25zdCBjb25maWcgPSBnZXQoR2xvYmFsU3RhdGUuY29uZmlnKTtcblx0XHRpZiAoaGFzaCkgcGFyYW1zLmhhc2ggPSBoYXNoO1xuXHRcdGlmIChqeF9zZXNzaW9uX2lkKSBwYXJhbXMuanhfc2Vzc2lvbl9pZCA9IGp4X3Nlc3Npb25faWQ7XG5cdFx0aWYgKGp4X2NoYXJhY3Rlcl9pZCkgcGFyYW1zLmp4X2NoYXJhY3Rlcl9pZCA9IGp4X2NoYXJhY3Rlcl9pZDtcblx0XHRpZiAoanhfZGlzcGxheV9uYW1lKSBwYXJhbXMuanhfZGlzcGxheV9uYW1lID0ganhfZGlzcGxheV9uYW1lO1xuXHRcdGlmIChjb25maWcucnNfcGx1Z2luX2xvYWRlcikgcGFyYW1zLnBsdWdpbl9sb2FkZXIgPSAnMSc7XG5cdFx0aWYgKGNvbmZpZy51c2VfY3VzdG9tX3JzX2NvbmZpZ191cmkgJiYgY29uZmlnLnJzX2NvbmZpZ191cmkpIHtcblx0XHRcdHBhcmFtcy5jb25maWdfdXJpID0gY29uZmlnLnJzX2NvbmZpZ191cmk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHBhcmFtcy5jb25maWdfdXJpID0gYm9sdC5lbnYuZGVmYXVsdF9jb25maWdfdXJpO1xuXHRcdH1cblx0XHR4bWwub3BlbignUE9TVCcsICcvbGF1bmNoLXJzMy1kZWI/Jy5jb25jYXQobmV3IFVSTFNlYXJjaFBhcmFtcyhwYXJhbXMpLnRvU3RyaW5nKCkpLCB0cnVlKTtcblx0XHR4bWwub25yZWFkeXN0YXRlY2hhbmdlID0gKCkgPT4ge1xuXHRcdFx0aWYgKHhtbC5yZWFkeVN0YXRlID09IDQpIHtcblx0XHRcdFx0bG9nZ2VyLmluZm8oYEdhbWUgbGF1bmNoIHN0YXR1czogJyR7eG1sLnJlc3BvbnNlVGV4dC50cmltKCl9J2ApO1xuXHRcdFx0XHRpZiAoeG1sLnN0YXR1cyA9PSAyMDAgJiYgaGFzaCkge1xuXHRcdFx0XHRcdGJvbHQucnMzRGViSW5zdGFsbGVkSGFzaCA9IGhhc2g7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHRcdHhtbC5zZW5kKGRlYik7XG5cdH07XG5cblx0Y29uc3QgeG1sID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cdGNvbnN0IGNvbnRlbnRVcmwgPSBib2x0LmVudi5jb250ZW50X3VybDtcblx0Y29uc3QgdXJsID0gY29udGVudFVybC5jb25jYXQoJ2Rpc3RzL3RydXN0eS9ub24tZnJlZS9iaW5hcnktYW1kNjQvUGFja2FnZXMnKTtcblx0eG1sLm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7XG5cdHhtbC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7XG5cdFx0aWYgKHhtbC5yZWFkeVN0YXRlID09IDQgJiYgeG1sLnN0YXR1cyA9PSAyMDApIHtcblx0XHRcdGNvbnN0IGxpbmVzID0gT2JqZWN0LmZyb21FbnRyaWVzKFxuXHRcdFx0XHR4bWwucmVzcG9uc2Uuc3BsaXQoJ1xcbicpLm1hcCgoeDogc3RyaW5nKSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIHguc3BsaXQoJzogJyk7XG5cdFx0XHRcdH0pXG5cdFx0XHQpO1xuXHRcdFx0aWYgKCFsaW5lcy5GaWxlbmFtZSB8fCAhbGluZXMuU2l6ZSkge1xuXHRcdFx0XHRsb2dnZXIuZXJyb3IoYENvdWxkIG5vdCBwYXJzZSBwYWNrYWdlIGRhdGEgZnJvbSBVUkw6ICR7dXJsfWApO1xuXHRcdFx0XHRsYXVuY2goKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGxpbmVzLlNIQTI1NiAhPT0gYm9sdC5yczNEZWJJbnN0YWxsZWRIYXNoKSB7XG5cdFx0XHRcdGxvZ2dlci5pbmZvKCdEb3dubG9hZGluZyBSUzMgY2xpZW50Li4uJyk7XG5cdFx0XHRcdGNvbnN0IGV4ZVhtbCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXHRcdFx0XHRleGVYbWwub3BlbignR0VUJywgY29udGVudFVybC5jb25jYXQobGluZXMuRmlsZW5hbWUpLCB0cnVlKTtcblx0XHRcdFx0ZXhlWG1sLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG5cdFx0XHRcdGV4ZVhtbC5vbnByb2dyZXNzID0gKGUpID0+IHtcblx0XHRcdFx0XHRpZiAoZS5sb2FkZWQpIHtcblx0XHRcdFx0XHRcdGNvbnN0IHByb2dyZXNzID0gKE1hdGgucm91bmQoKDEwMDAuMCAqIGUubG9hZGVkKSAvIGUudG90YWwpIC8gMTAuMCkudG9GaXhlZCgxKTtcblx0XHRcdFx0XHRcdGxvZ2dlci5pbmZvKGBEb3dubG9hZGluZyBSUzMgY2xpZW50Li4uICR7cHJvZ3Jlc3N9JWApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdFx0ZXhlWG1sLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcblx0XHRcdFx0XHRpZiAoZXhlWG1sLnJlYWR5U3RhdGUgPT0gNCAmJiBleGVYbWwuc3RhdHVzID09IDIwMCkge1xuXHRcdFx0XHRcdFx0bGF1bmNoKGxpbmVzLlNIQTI1NiwgZXhlWG1sLnJlc3BvbnNlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHRcdGV4ZVhtbC5vbmVycm9yID0gKCkgPT4ge1xuXHRcdFx0XHRcdGxvZ2dlci5lcnJvcihgRXJyb3IgZG93bmxvYWRpbmcgZ2FtZSBjbGllbnQ6IGZyb20gJHt1cmx9OiBub24taHR0cCBlcnJvcmApO1xuXHRcdFx0XHRcdGxhdW5jaCgpO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRleGVYbWwuc2VuZCgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bG9nZ2VyLmluZm8oJ0xhdGVzdCBjbGllbnQgaXMgYWxyZWFkeSBpbnN0YWxsZWQnKTtcblx0XHRcdFx0bGF1bmNoKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHR4bWwub25lcnJvciA9ICgpID0+IHtcblx0XHRsb2dnZXIuZXJyb3IoYEVycm9yOiBmcm9tICR7dXJsfTogbm9uLWh0dHAgZXJyb3JgKTtcblx0XHRsYXVuY2goKTtcblx0fTtcblx0eG1sLnNlbmQoKTtcbn1cblxuLy8gbG9jYXRlIHJ1bmVsaXRlJ3MgLmphciBlaXRoZXIgZnJvbSB0aGUgdXNlcidzIGNvbmZpZyBvciBieSBwYXJzaW5nIGdpdGh1YiByZWxlYXNlcyxcbi8vIHRoZW4gYXR0ZW1wdCB0byBsYXVuY2ggaXQgd2l0aCB0aGUgZ2l2ZW4gZW52IHZhcmlhYmxlc1xuLy8gbGFzdCBwYXJhbSBpbmRpY2VzIHdoZXRoZXIgLS1jb25maWd1cmUgd2lsbCBiZSBwYXNzZWQgb3Igbm90XG5leHBvcnQgZnVuY3Rpb24gbGF1bmNoUnVuZUxpdGUoXG5cdGp4X3Nlc3Npb25faWQ6IHN0cmluZyxcblx0anhfY2hhcmFjdGVyX2lkOiBzdHJpbmcsXG5cdGp4X2Rpc3BsYXlfbmFtZTogc3RyaW5nLFxuXHRjb25maWd1cmU6IGJvb2xlYW5cbikge1xuXHRCb2x0U2VydmljZS5zYXZlQ29uZmlnKCk7XG5cdGNvbnN0IGxhdW5jaFBhdGggPSBjb25maWd1cmUgPyAnL2xhdW5jaC1ydW5lbGl0ZS1qYXItY29uZmlndXJlPycgOiAnL2xhdW5jaC1ydW5lbGl0ZS1qYXI/JztcblxuXHRjb25zdCBsYXVuY2ggPSAoaWQ/OiBzdHJpbmcgfCBudWxsLCBqYXI/OiB1bmtub3duLCBqYXJQYXRoPzogdW5rbm93bikgPT4ge1xuXHRcdGNvbnN0IHhtbCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXHRcdGNvbnN0IHBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuXHRcdGlmIChpZCkgcGFyYW1zLmlkID0gPHN0cmluZz5pZDtcblx0XHRpZiAoamFyUGF0aCkgcGFyYW1zLmphcl9wYXRoID0gPHN0cmluZz5qYXJQYXRoO1xuXHRcdGlmIChqeF9zZXNzaW9uX2lkKSBwYXJhbXMuanhfc2Vzc2lvbl9pZCA9IGp4X3Nlc3Npb25faWQ7XG5cdFx0aWYgKGp4X2NoYXJhY3Rlcl9pZCkgcGFyYW1zLmp4X2NoYXJhY3Rlcl9pZCA9IGp4X2NoYXJhY3Rlcl9pZDtcblx0XHRpZiAoanhfZGlzcGxheV9uYW1lKSBwYXJhbXMuanhfZGlzcGxheV9uYW1lID0ganhfZGlzcGxheV9uYW1lO1xuXHRcdGlmIChnZXQoR2xvYmFsU3RhdGUuY29uZmlnKS5mbGF0cGFrX3JpY2hfcHJlc2VuY2UpIHBhcmFtcy5mbGF0cGFrX3JpY2hfcHJlc2VuY2UgPSAnJztcblx0XHR4bWwub3BlbihqYXIgPyAnUE9TVCcgOiAnR0VUJywgbGF1bmNoUGF0aC5jb25jYXQobmV3IFVSTFNlYXJjaFBhcmFtcyhwYXJhbXMpLnRvU3RyaW5nKCkpLCB0cnVlKTtcblx0XHR4bWwub25yZWFkeXN0YXRlY2hhbmdlID0gKCkgPT4ge1xuXHRcdFx0aWYgKHhtbC5yZWFkeVN0YXRlID09IDQpIHtcblx0XHRcdFx0bG9nZ2VyLmluZm8oYEdhbWUgbGF1bmNoIHN0YXR1czogJyR7eG1sLnJlc3BvbnNlVGV4dC50cmltKCl9J2ApO1xuXHRcdFx0XHRpZiAoeG1sLnN0YXR1cyA9PSAyMDAgJiYgaWQpIHtcblx0XHRcdFx0XHRib2x0LnJ1bmVMaXRlSW5zdGFsbGVkSWQgPSBpZDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdFx0eG1sLnNlbmQoPHN0cmluZz5qYXIpO1xuXHR9O1xuXG5cdGlmIChnZXQoR2xvYmFsU3RhdGUuY29uZmlnKS5ydW5lbGl0ZV91c2VfY3VzdG9tX2phcikge1xuXHRcdGxhdW5jaChudWxsLCBudWxsLCBnZXQoR2xvYmFsU3RhdGUuY29uZmlnKS5ydW5lbGl0ZV9jdXN0b21famFyKTtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRjb25zdCB4bWwgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0Y29uc3QgdXJsID0gJ2h0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvcnVuZWxpdGUvbGF1bmNoZXIvcmVsZWFzZXMnO1xuXHR4bWwub3BlbignR0VUJywgdXJsLCB0cnVlKTtcblx0eG1sLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcblx0XHRpZiAoeG1sLnJlYWR5U3RhdGUgPT0gNCkge1xuXHRcdFx0aWYgKHhtbC5zdGF0dXMgPT0gMjAwKSB7XG5cdFx0XHRcdGNvbnN0IHJ1bmVsaXRlID0gSlNPTi5wYXJzZSh4bWwucmVzcG9uc2VUZXh0KVxuXHRcdFx0XHRcdC5tYXAoKHg6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4pID0+IHguYXNzZXRzKVxuXHRcdFx0XHRcdC5mbGF0KClcblx0XHRcdFx0XHQuZmluZCgoeDogUmVjb3JkPHN0cmluZywgc3RyaW5nPikgPT4geC5uYW1lLnRvTG93ZXJDYXNlKCkgPT0gJ3J1bmVsaXRlLmphcicpO1xuXHRcdFx0XHRpZiAocnVuZWxpdGUuaWQgIT0gYm9sdC5ydW5lTGl0ZUluc3RhbGxlZElkKSB7XG5cdFx0XHRcdFx0bG9nZ2VyLmluZm8oJ0Rvd25sb2FkaW5nIFJ1bmVMaXRlLi4uJyk7XG5cdFx0XHRcdFx0Y29uc3QgeG1sUmwgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0XHRcdFx0XHR4bWxSbC5vcGVuKCdHRVQnLCBydW5lbGl0ZS5icm93c2VyX2Rvd25sb2FkX3VybCwgdHJ1ZSk7XG5cdFx0XHRcdFx0eG1sUmwucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcblx0XHRcdFx0XHR4bWxSbC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAoeG1sUmwucmVhZHlTdGF0ZSA9PSA0KSB7XG5cdFx0XHRcdFx0XHRcdGlmICh4bWxSbC5zdGF0dXMgPT0gMjAwKSB7XG5cdFx0XHRcdFx0XHRcdFx0bGF1bmNoKHJ1bmVsaXRlLmlkLCB4bWxSbC5yZXNwb25zZSk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0bG9nZ2VyLmVycm9yKFxuXHRcdFx0XHRcdFx0XHRcdFx0YEVycm9yIGRvd25sb2FkaW5nIGZyb20gJHtydW5lbGl0ZS51cmx9OiAke3htbFJsLnN0YXR1c306ICR7eG1sUmwucmVzcG9uc2VUZXh0fWBcblx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR4bWxSbC5vbnByb2dyZXNzID0gKGUpID0+IHtcblx0XHRcdFx0XHRcdGlmIChlLmxvYWRlZCAmJiBlLmxlbmd0aENvbXB1dGFibGUpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgcHJvZ3Jlc3MgPSAoTWF0aC5yb3VuZCgoMTAwMC4wICogZS5sb2FkZWQpIC8gZS50b3RhbCkgLyAxMC4wKS50b0ZpeGVkKDEpO1xuXHRcdFx0XHRcdFx0XHRsb2dnZXIuaW5mbyhgRG93bmxvYWRpbmcgUnVuZUxpdGUuLi4gJHtwcm9ncmVzc31gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdHhtbFJsLnNlbmQoKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRsb2dnZXIuaW5mbygnTGF0ZXN0IEpBUiBpcyBhbHJlYWR5IGluc3RhbGxlZCcpO1xuXHRcdFx0XHRcdGxhdW5jaCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRsb2dnZXIuZXJyb3IoYEVycm9yIGZyb20gJHt1cmx9OiAke3htbC5zdGF0dXN9OiAke3htbC5yZXNwb25zZVRleHR9YCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHR4bWwuc2VuZCgpO1xufVxuXG4vLyBsb2NhdGUgaGRvcydzIC5qYXIgZnJvbSB0aGVpciBDRE4sIHRoZW4gYXR0ZW1wdCB0byBsYXVuY2ggaXQgd2l0aCB0aGUgZ2l2ZW4gZW52IHZhcmlhYmxlc1xuZXhwb3J0IGZ1bmN0aW9uIGxhdW5jaEhkb3MoXG5cdGp4X3Nlc3Npb25faWQ6IHN0cmluZyxcblx0anhfY2hhcmFjdGVyX2lkOiBzdHJpbmcsXG5cdGp4X2Rpc3BsYXlfbmFtZTogc3RyaW5nXG4pIHtcblx0Qm9sdFNlcnZpY2Uuc2F2ZUNvbmZpZygpO1xuXG5cdGNvbnN0IGxhdW5jaCA9ICh2ZXJzaW9uPzogc3RyaW5nLCBqYXI/OiBzdHJpbmcpID0+IHtcblx0XHRjb25zdCB4bWwgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0XHRjb25zdCBwYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblx0XHRpZiAodmVyc2lvbikgcGFyYW1zLnZlcnNpb24gPSB2ZXJzaW9uO1xuXHRcdGlmIChqeF9zZXNzaW9uX2lkKSBwYXJhbXMuanhfc2Vzc2lvbl9pZCA9IGp4X3Nlc3Npb25faWQ7XG5cdFx0aWYgKGp4X2NoYXJhY3Rlcl9pZCkgcGFyYW1zLmp4X2NoYXJhY3Rlcl9pZCA9IGp4X2NoYXJhY3Rlcl9pZDtcblx0XHRpZiAoanhfZGlzcGxheV9uYW1lKSBwYXJhbXMuanhfZGlzcGxheV9uYW1lID0ganhfZGlzcGxheV9uYW1lO1xuXHRcdHhtbC5vcGVuKCdQT1NUJywgJy9sYXVuY2gtaGRvcy1qYXI/Jy5jb25jYXQobmV3IFVSTFNlYXJjaFBhcmFtcyhwYXJhbXMpLnRvU3RyaW5nKCkpLCB0cnVlKTtcblx0XHR4bWwub25yZWFkeXN0YXRlY2hhbmdlID0gKCkgPT4ge1xuXHRcdFx0aWYgKHhtbC5yZWFkeVN0YXRlID09IDQpIHtcblx0XHRcdFx0bG9nZ2VyLmluZm8oYEdhbWUgbGF1bmNoIHN0YXR1czogJyR7eG1sLnJlc3BvbnNlVGV4dC50cmltKCl9J2ApO1xuXHRcdFx0XHRpZiAoeG1sLnN0YXR1cyA9PSAyMDAgJiYgdmVyc2lvbikge1xuXHRcdFx0XHRcdGJvbHQuaGRvc0luc3RhbGxlZFZlcnNpb24gPSB2ZXJzaW9uO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0XHR4bWwuc2VuZChqYXIpO1xuXHR9O1xuXG5cdGNvbnN0IHhtbCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXHRjb25zdCB1cmwgPSAnaHR0cHM6Ly9jZG4uaGRvcy5kZXYvY2xpZW50L2dldGRvd24udHh0Jztcblx0eG1sLm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7XG5cdHhtbC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7XG5cdFx0aWYgKHhtbC5yZWFkeVN0YXRlID09IDQpIHtcblx0XHRcdGlmICh4bWwuc3RhdHVzID09IDIwMCkge1xuXHRcdFx0XHRjb25zdCB2ZXJzaW9uUmVnZXg6IFJlZ0V4cE1hdGNoQXJyYXkgfCBudWxsID0geG1sLnJlc3BvbnNlVGV4dC5tYXRjaChcblx0XHRcdFx0XHQvXmxhdW5jaGVyXFwudmVyc2lvbiAqPSAqKC4qPykkL21cblx0XHRcdFx0KTtcblx0XHRcdFx0aWYgKHZlcnNpb25SZWdleCAmJiB2ZXJzaW9uUmVnZXgubGVuZ3RoID49IDIpIHtcblx0XHRcdFx0XHRjb25zdCBsYXRlc3RWZXJzaW9uID0gdmVyc2lvblJlZ2V4WzFdO1xuXHRcdFx0XHRcdGlmIChsYXRlc3RWZXJzaW9uICE9PSBib2x0Lmhkb3NJbnN0YWxsZWRWZXJzaW9uKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBqYXJVcmwgPSBgaHR0cHM6Ly9jZG4uaGRvcy5kZXYvbGF1bmNoZXIvdiR7bGF0ZXN0VmVyc2lvbn0vaGRvcy1sYXVuY2hlci5qYXJgO1xuXHRcdFx0XHRcdFx0bG9nZ2VyLmluZm8oJ0Rvd25sb2FkaW5nIEhET1MuLi4nKTtcblx0XHRcdFx0XHRcdGNvbnN0IHhtbEhkb3MgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0XHRcdFx0XHRcdHhtbEhkb3Mub3BlbignR0VUJywgamFyVXJsLCB0cnVlKTtcblx0XHRcdFx0XHRcdHhtbEhkb3MucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcblx0XHRcdFx0XHRcdHhtbEhkb3Mub25yZWFkeXN0YXRlY2hhbmdlID0gKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAoeG1sSGRvcy5yZWFkeVN0YXRlID09IDQpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoeG1sSGRvcy5zdGF0dXMgPT0gMjAwKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRsYXVuY2gobGF0ZXN0VmVyc2lvbiwgeG1sSGRvcy5yZXNwb25zZSk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IHJ1bmVsaXRlID0gSlNPTi5wYXJzZSh4bWwucmVzcG9uc2VUZXh0KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQubWFwKCh4OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KSA9PiB4LmFzc2V0cylcblx0XHRcdFx0XHRcdFx0XHRcdFx0LmZsYXQoKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQuZmluZCgoeDogUmVjb3JkPHN0cmluZywgc3RyaW5nPikgPT4geC5uYW1lLnRvTG93ZXJDYXNlKCkgPT0gJ3J1bmVsaXRlLmphcicpO1xuXHRcdFx0XHRcdFx0XHRcdFx0bG9nZ2VyLmVycm9yKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRgRXJyb3IgZG93bmxvYWRpbmcgZnJvbSAke3J1bmVsaXRlLnVybH06ICR7eG1sSGRvcy5zdGF0dXN9OiAke3htbEhkb3MucmVzcG9uc2VUZXh0fWBcblx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0eG1sSGRvcy5vbnByb2dyZXNzID0gKGUpID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKGUubG9hZGVkICYmIGUubGVuZ3RoQ29tcHV0YWJsZSkge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHByb2dyZXNzID0gKE1hdGgucm91bmQoKDEwMDAuMCAqIGUubG9hZGVkKSAvIGUudG90YWwpIC8gMTAuMCkudG9GaXhlZCgxKTtcblx0XHRcdFx0XHRcdFx0XHRsb2dnZXIuaW5mbyhgRG93bmxvYWRpbmcgSERPUy4uLiAke3Byb2dyZXNzfSVgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdHhtbEhkb3Muc2VuZCgpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRsb2dnZXIuaW5mbygnTGF0ZXN0IEpBUiBpcyBhbHJlYWR5IGluc3RhbGxlZCcpO1xuXHRcdFx0XHRcdFx0bGF1bmNoKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxvZ2dlci5pbmZvKFwiQ291bGRuJ3QgcGFyc2UgbGF0ZXN0IGxhdW5jaGVyIHZlcnNpb25cIik7XG5cdFx0XHRcdFx0bGF1bmNoKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGxvZ2dlci5lcnJvcihgRXJyb3IgZnJvbSAke3VybH06ICR7eG1sLnN0YXR1c306ICR7eG1sLnJlc3BvbnNlVGV4dH1gKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdHhtbC5zZW5kKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXROZXdDbGllbnRMaXN0UHJvbWlzZSgpOiBQcm9taXNlPEdhbWVDbGllbnRbXT4ge1xuXHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdGNvbnN0IHhtbCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXHRcdGNvbnN0IHVybCA9IGJvbHQuaW50ZXJuYWxVcmwuY29uY2F0KCcvbGlzdC1nYW1lLWNsaWVudHMnKTtcblx0XHR4bWwub3BlbignR0VUJywgdXJsLCB0cnVlKTtcblx0XHR4bWwub25yZWFkeXN0YXRlY2hhbmdlID0gKCkgPT4ge1xuXHRcdFx0aWYgKHhtbC5yZWFkeVN0YXRlID09IDQpIHtcblx0XHRcdFx0aWYgKHhtbC5zdGF0dXMgPT0gMjAwICYmIHhtbC5nZXRSZXNwb25zZUhlYWRlcignY29udGVudC10eXBlJykgPT09ICdhcHBsaWNhdGlvbi9qc29uJykge1xuXHRcdFx0XHRcdGNvbnN0IGRpY3QgPSBKU09OLnBhcnNlKHhtbC5yZXNwb25zZVRleHQpO1xuXHRcdFx0XHRcdHJlc29sdmUoXG5cdFx0XHRcdFx0XHRPYmplY3Qua2V5cyhkaWN0KS5tYXAoXG5cdFx0XHRcdFx0XHRcdCh1aWQpID0+IDxHYW1lQ2xpZW50PnsgdWlkLCBpZGVudGl0eTogZGljdFt1aWRdLmlkZW50aXR5IHx8IG51bGwgfVxuXHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmVqZWN0KGBlcnJvciAoJHt4bWwucmVzcG9uc2VUZXh0fSlgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdFx0eG1sLnNlbmQoKTtcblx0fSk7XG59XG5cbi8vIFRPRE86IG1vdmUgdG8gQm9sdFNlcnZpY2VcbmV4cG9ydCBmdW5jdGlvbiBzYXZlUGx1Z2luQ29uZmlnKCk6IHZvaWQge1xuXHRjb25zdCB4bWwgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0eG1sLm9wZW4oJ1BPU1QnLCAnL3NhdmUtcGx1Z2luLWNvbmZpZycsIHRydWUpO1xuXHR4bWwuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblx0eG1sLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcblx0XHRpZiAoeG1sLnJlYWR5U3RhdGUgPT0gNCkge1xuXHRcdFx0bG9nZ2VyLmluZm8oYFNhdmUtcGx1Z2luLWNvbmZpZyBzdGF0dXM6ICR7eG1sLnJlc3BvbnNlVGV4dC50cmltKCl9YCk7XG5cdFx0fVxuXHR9O1xuXHR4bWwuc2VuZChKU09OLnN0cmluZ2lmeShib2x0LnBsdWdpbkxpc3QpKTtcbn1cblxuLy8gZG93bmxvYWQgYW5kIGF0dGVtcHQgdG8gbGF1bmNoIGFuIG9mZmljaWFsIHdpbmRvd3Mgb3IgbWFjIGNsaWVudFxuLy8gKG5vdCB0aGUgb2ZmaWNpYWwgbGludXggY2xpZW50IC0gdGhhdCBjb21lcyBmcm9tIGEgZGlmZmVyZW50IHVybCwgc2VlIGxhdW5jaFJTM0xpbnV4KVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxhdW5jaE9mZmljaWFsQ2xpZW50KFxuXHR3aW5kb3dzOiBib29sZWFuLFxuXHRvc3JzOiBib29sZWFuLFxuXHRqeF9zZXNzaW9uX2lkOiBzdHJpbmcsXG5cdGp4X2NoYXJhY3Rlcl9pZDogc3RyaW5nLFxuXHRqeF9kaXNwbGF5X25hbWU6IHN0cmluZ1xuKSB7XG5cdEJvbHRTZXJ2aWNlLnNhdmVDb25maWcoKTtcblx0Y29uc3QgbWV0YVBhdGg6IHN0cmluZyA9IGAke29zcnMgPyAnb3NycycgOiBib2x0LmVudi5wcm92aWRlcn0tJHt3aW5kb3dzID8gJ3dpbicgOiAnbWFjJ31gO1xuXHRsZXQgaW5zdGFsbGVkSGFzaCA9IHdpbmRvd3Ncblx0XHQ/IG9zcnNcblx0XHRcdD8gYm9sdC5vc3JzRXhlSW5zdGFsbGVkSGFzaFxuXHRcdFx0OiBib2x0LnJzM0V4ZUluc3RhbGxlZEhhc2hcblx0XHQ6IG9zcnNcblx0XHRcdD8gYm9sdC5vc3JzQXBwSW5zdGFsbGVkSGFzaFxuXHRcdFx0OiBib2x0LnJzM0FwcEluc3RhbGxlZEhhc2g7XG5cblx0Y29uc3QgbGF1bmNoID0gYXN5bmMgKGhhc2g/OiBzdHJpbmcsIGV4ZT86IFByb21pc2U8QXJyYXlCdWZmZXI+KSA9PiB7XG5cdFx0Y29uc3QgcGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG5cdFx0aWYgKGhhc2gpIHBhcmFtcy5oYXNoID0gaGFzaDtcblx0XHRpZiAoanhfc2Vzc2lvbl9pZCkgcGFyYW1zLmp4X3Nlc3Npb25faWQgPSBqeF9zZXNzaW9uX2lkO1xuXHRcdGlmIChqeF9jaGFyYWN0ZXJfaWQpIHBhcmFtcy5qeF9jaGFyYWN0ZXJfaWQgPSBqeF9jaGFyYWN0ZXJfaWQ7XG5cdFx0aWYgKGp4X2Rpc3BsYXlfbmFtZSkgcGFyYW1zLmp4X2Rpc3BsYXlfbmFtZSA9IGp4X2Rpc3BsYXlfbmFtZTtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YC9sYXVuY2gtJHtvc3JzID8gJ29zcnMnIDogJ3JzMyd9LSR7d2luZG93cyA/ICdleGUnIDogJ2FwcCd9PyR7bmV3IFVSTFNlYXJjaFBhcmFtcyhwYXJhbXMpLnRvU3RyaW5nKCl9YCxcblx0XHRcdHtcblx0XHRcdFx0bWV0aG9kOiAnUE9TVCcsXG5cdFx0XHRcdGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nIH0sXG5cdFx0XHRcdGJvZHk6IGF3YWl0IGV4ZVxuXHRcdFx0fVxuXHRcdCk7XG5cdFx0cmVzcG9uc2UudGV4dCgpLnRoZW4oKHRleHQpID0+IGxvZ2dlci5pbmZvKGBHYW1lIGxhdW5jaCBzdGF0dXM6ICcke3RleHQudHJpbSgpfSdgKSk7XG5cdFx0aWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDAgJiYgaGFzaCkge1xuXHRcdFx0aW5zdGFsbGVkSGFzaCA9IGhhc2g7XG5cdFx0fVxuXHR9O1xuXG5cdC8vIGRvd25sb2FkIGEgbGlzdCBvZiBhbGwgdGhlIGVudmlyb25tZW50cywgZmluZCB0aGUgXCJwcm9kdWN0aW9uXCIgZW52aXJvbm1lbnRcblx0Y29uc3QgcHJpbWFyeVVybDogc3RyaW5nID0gYCR7Ym9sdC5lbnYuZGlyZWN0Nl91cmx9JHttZXRhUGF0aH0vJHttZXRhUGF0aH0uanNvbmA7XG5cdGNvbnN0IHByaW1hcnlVcmxSZXNwb25zZSA9IGF3YWl0IGZldGNoKHByaW1hcnlVcmwsIHsgbWV0aG9kOiAnR0VUJyB9KTtcblx0Y29uc3QgcHJpbWFyeVVybFRleHQgPSBhd2FpdCBwcmltYXJ5VXJsUmVzcG9uc2UudGV4dCgpO1xuXHRpZiAocHJpbWFyeVVybFJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG5cdFx0bG9nZ2VyLmVycm9yKGBFcnJvciBmcm9tICR7cHJpbWFyeVVybH06ICR7cHJpbWFyeVVybFJlc3BvbnNlLnN0YXR1c306ICR7cHJpbWFyeVVybFRleHR9YCk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cdGNvbnN0IG1ldGFUb2tlbjogRGlyZWN0NlRva2VuID0gSlNPTi5wYXJzZShhdG9iKHByaW1hcnlVcmxUZXh0LnNwbGl0KCcuJylbMV0pKS5lbnZpcm9ubWVudHNcblx0XHQucHJvZHVjdGlvbjtcblxuXHRpZiAoaW5zdGFsbGVkSGFzaCA9PT0gbWV0YVRva2VuLmlkKSB7XG5cdFx0bG9nZ2VyLmluZm8oJ0xhdGVzdCBjbGllbnQgaXMgYWxyZWFkeSBpbnN0YWxsZWQnKTtcblx0XHRsYXVuY2goKTtcblx0XHRyZXR1cm47XG5cdH1cblx0bG9nZ2VyLmluZm8oYERvd25sb2FkaW5nIGNsaWVudCB2ZXJzaW9uICR7bWV0YVRva2VuLnZlcnNpb259YCk7XG5cblx0Ly8gZG93bmxvYWQgdGhlIGNhdGFsb2cgZm9yIHRoZSBwcm9kdWN0aW9uIGVudmlyb25tZW50LCB3aGljaCBjb250YWlucyBpbmZvIGFib3V0IGFsbCB0aGUgZmlsZXMgYXZhaWxhYmxlIGZvciBkb3dubG9hZFxuXHRjb25zdCBjYXRhbG9nVXJsOiBzdHJpbmcgPSBgJHtib2x0LmVudi5kaXJlY3Q2X3VybH0ke21ldGFQYXRofS9jYXRhbG9nLyR7bWV0YVRva2VuLmlkfS9jYXRhbG9nLmpzb25gO1xuXHRjb25zdCBjYXRhbG9nVXJsUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChjYXRhbG9nVXJsLCB7IG1ldGhvZDogJ0dFVCcgfSk7XG5cdGNvbnN0IGNhdGFsb2dUZXh0ID0gYXdhaXQgY2F0YWxvZ1VybFJlc3BvbnNlLnRleHQoKTtcblx0aWYgKGNhdGFsb2dVcmxSZXNwb25zZS5zdGF0dXMgIT09IDIwMCkge1xuXHRcdGxvZ2dlci5lcnJvcihgRXJyb3IgZnJvbSAke2NhdGFsb2dVcmx9OiAke2NhdGFsb2dVcmxSZXNwb25zZS5zdGF0dXN9OiAke2NhdGFsb2dUZXh0fWApO1xuXHRcdHJldHVybjtcblx0fVxuXHRjb25zdCBjYXRhbG9nID0gSlNPTi5wYXJzZShhdG9iKGNhdGFsb2dUZXh0LnNwbGl0KCcuJylbMV0pKTtcblxuXHQvLyBkb3dubG9hZCB0aGUgbWV0YWZpbGUgdGhhdCdzIGxpbmtlZCBpbiB0aGUgY2F0YWxvZywgdXNlZCB0byBkb3dubG9hZCB0aGUgYWN0dWFsIGZpbGVzXG5cdGNvbnN0IG1ldGFmaWxlVXJsID0gY2F0YWxvZy5tZXRhZmlsZS5yZXBsYWNlKC9eaHR0cDovaSwgJ2h0dHBzOicpO1xuXHRjb25zdCBtZXRhZmlsZVVybFJlc3BvbnNlID0gYXdhaXQgZmV0Y2gobWV0YWZpbGVVcmwsIHsgbWV0aG9kOiAnR0VUJyB9KTtcblx0Y29uc3QgbWV0YWZpbGVUZXh0ID0gYXdhaXQgbWV0YWZpbGVVcmxSZXNwb25zZS50ZXh0KCk7XG5cdGlmIChtZXRhZmlsZVVybFJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG5cdFx0bG9nZ2VyLmVycm9yKGBFcnJvciBmcm9tICR7bWV0YWZpbGVVcmx9OiAke21ldGFmaWxlVXJsUmVzcG9uc2Uuc3RhdHVzfTogJHttZXRhZmlsZVRleHR9YCk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cdGNvbnN0IG1ldGFmaWxlID0gSlNPTi5wYXJzZShhdG9iKG1ldGFmaWxlVGV4dC5zcGxpdCgnLicpWzFdKSk7XG5cblx0Ly8gZG93bmxvYWQgZWFjaCBhdmFpbGFibGUgZ3ppcCBibG9iLCBkZWNvbXByZXNzIHRoZW0sIGFuZCBrZWVwIHRoZW0gaW4gdGhlIGNvcnJlY3Qgb3JkZXJcblx0Y29uc3QgY2h1bmtfcHJvbWlzZXM6IFByb21pc2U8QmxvYj5bXSA9IG1ldGFmaWxlLnBpZWNlcy5kaWdlc3RzLm1hcCgoeDogc3RyaW5nKSA9PiB7XG5cdFx0Y29uc3QgaGV4X2NodW5rOiBzdHJpbmcgPSBhdG9iKHgpXG5cdFx0XHQuc3BsaXQoJycpXG5cdFx0XHQubWFwKChjKSA9PiBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJykpXG5cdFx0XHQuam9pbignJyk7XG5cdFx0Y29uc3QgY2h1bmtfdXJsOiBzdHJpbmcgPSBjYXRhbG9nLmNvbmZpZy5yZW1vdGUuYmFzZVVybFxuXHRcdFx0LnJlcGxhY2UoL15odHRwOi9pLCAnaHR0cHM6Jylcblx0XHRcdC5jb25jYXQoXG5cdFx0XHRcdGNhdGFsb2cuY29uZmlnLnJlbW90ZS5waWVjZUZvcm1hdFxuXHRcdFx0XHRcdC5yZXBsYWNlKCd7U3ViU3RyaW5nOjAsMix7VGFyZ2V0RGlnZXN0fX0nLCBoZXhfY2h1bmsuc3Vic3RyaW5nKDAsIDIpKVxuXHRcdFx0XHRcdC5yZXBsYWNlKCd7VGFyZ2V0RGlnZXN0fScsIGhleF9jaHVuaylcblx0XHRcdCk7XG5cdFx0cmV0dXJuIGZldGNoKGNodW5rX3VybCwgeyBtZXRob2Q6ICdHRVQnIH0pLnRoZW4oKHg6IFJlc3BvbnNlKSA9PlxuXHRcdFx0eC5ibG9iKCkudGhlbigoYmxvYikgPT4ge1xuXHRcdFx0XHRjb25zdCBkcyA9IG5ldyBEZWNvbXByZXNzaW9uU3RyZWFtKCdnemlwJyk7XG5cdFx0XHRcdHJldHVybiBuZXcgUmVzcG9uc2UoYmxvYi5zbGljZSg2KS5zdHJlYW0oKS5waXBlVGhyb3VnaChkcykpLmJsb2IoKTtcblx0XHRcdH0pXG5cdFx0KTtcblx0fSk7XG5cblx0Ly8gd2hpbGUgYWxsIHRoYXQgc3R1ZmYgaXMgZG93bmxvYWRpbmcsIHJlYWQgdGhlIGZpbGUgbGlzdCBhbmQgZmluZCB0aGUgZXhlJ3MgbG9jYXRpb24gaW4gdGhlIGRhdGEgYmxvYlxuXHRsZXQgZXhlT2Zmc2V0OiBudW1iZXIgPSAwO1xuXHRsZXQgZXhlU2l6ZTogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgbWV0YWZpbGUuZmlsZXMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRjb25zdCBpc1RhcmdldEV4ZTogYm9vbGVhbiA9IHdpbmRvd3Ncblx0XHRcdD8gbWV0YWZpbGUuZmlsZXNbaV0ubmFtZS5lbmRzV2l0aCgnLmV4ZScpXG5cdFx0XHQ6IG1ldGFmaWxlLmZpbGVzW2ldLm5hbWUuaW5jbHVkZXMoJy5hcHAvQ29udGVudHMvTWFjT1MvJyk7XG5cdFx0aWYgKGlzVGFyZ2V0RXhlKSB7XG5cdFx0XHRpZiAoZXhlU2l6ZSAhPT0gbnVsbCkge1xuXHRcdFx0XHRsb2dnZXIuZXJyb3IoXG5cdFx0XHRcdFx0YEVycm9yIHBhcnNpbmcgJHttZXRhZmlsZVVybH06IGZpbGUgbGlzdCBoYXMgbXVsdGlwbGUgcG9zc2liaWxpdGllcyBmb3IgbWFpbiBleGVgXG5cdFx0XHRcdCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGV4ZVNpemUgPSBtZXRhZmlsZS5maWxlc1tpXS5zaXplO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoZXhlU2l6ZSA9PT0gbnVsbCkge1xuXHRcdFx0ZXhlT2Zmc2V0ICs9IG1ldGFmaWxlLmZpbGVzW2ldLnNpemU7XG5cdFx0fVxuXHR9XG5cdGlmIChleGVTaXplID09PSBudWxsKSB7XG5cdFx0bG9nZ2VyLmVycm9yKGBFcnJvciBwYXJzaW5nICR7bWV0YWZpbGVVcmx9OiBmaWxlIGxpc3QgaGFzIG5vIHBvc3NpYmlsaXRpZXMgZm9yIG1haW4gZXhlYCk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gc3RpdGNoIGFsbCB0aGUgZGF0YSB0b2dldGhlciwgc2xpY2UgdGhlIGV4ZSBvdXQgb2YgaXQsIGFuZCBsYXVuY2ggdGhlIGdhbWVcblx0UHJvbWlzZS5hbGwoY2h1bmtfcHJvbWlzZXMpLnRoZW4oKHgpID0+IHtcblx0XHRjb25zdCBleGVGaWxlID0gbmV3IEJsb2IoeCkuc2xpY2UoZXhlT2Zmc2V0LCBleGVPZmZzZXQgKyA8bnVtYmVyPmV4ZVNpemUpO1xuXHRcdGxhdW5jaChtZXRhZmlsZS5pZCwgZXhlRmlsZS5hcnJheUJ1ZmZlcigpKTtcblx0fSk7XG59XG4iLCJpbXBvcnQgdHlwZSB7IEdhbWVDbGllbnQgfSBmcm9tICckbGliL1V0aWwvaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyB3cml0YWJsZSwgdHlwZSBXcml0YWJsZSB9IGZyb20gJ3N2ZWx0ZS9zdG9yZSc7XG5cbi8vIFRPRE86IHJlbW92ZSBjbGllbnRMaXN0UHJvbWlzZVxuZXhwb3J0IGNvbnN0IGNsaWVudExpc3RQcm9taXNlOiBXcml0YWJsZTxQcm9taXNlPEdhbWVDbGllbnRbXT4+ID0gd3JpdGFibGUoKTtcbiIsImltcG9ydCB7IFBVQkxJQ19WRVJTSU9OIH0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkL3ZlcnNpb24uanMnO1xuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpXG5cdC8vIEB0cy1pZ25vcmVcblx0KHdpbmRvdy5fX3N2ZWx0ZSB8fCAod2luZG93Ll9fc3ZlbHRlID0geyB2OiBuZXcgU2V0KCkgfSkpLnYuYWRkKFBVQkxJQ19WRVJTSU9OKTtcbiIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XG5cdGltcG9ydCB7IEdsb2JhbFN0YXRlIH0gZnJvbSAnJGxpYi9TdGF0ZS9HbG9iYWxTdGF0ZSc7XG5cblx0Y29uc3QgeyBjb25maWcgfSA9IEdsb2JhbFN0YXRlO1xuXHQkOiBkYXJrVGhlbWUgPSAkY29uZmlnLnVzZV9kYXJrX3RoZW1lO1xuPC9zY3JpcHQ+XG5cbjxtYWluXG5cdGNsYXNzOmRhcms9e2RhcmtUaGVtZX1cblx0Y2xhc3M9XCJmaXhlZCB0b3AtMCBoLXNjcmVlbiB3LXNjcmVlbiBiZy1zbGF0ZS0xMDAgdGV4dC14cyB0ZXh0LXNsYXRlLTkwMCBkdXJhdGlvbi0yMDAgc206dGV4dC1zbSBtZDp0ZXh0LWJhc2UgZGFyazpiZy1zbGF0ZS05MDAgZGFyazp0ZXh0LXNsYXRlLTUwXCJcbj5cblx0PHNsb3QgLz5cbjwvbWFpbj5cbiIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XG5cdGltcG9ydCBNYWluTGF5b3V0IGZyb20gJyRsaWIvQ29tcG9uZW50cy9NYWluTGF5b3V0LnN2ZWx0ZSc7XG5cdGltcG9ydCB7IEF1dGhTZXJ2aWNlLCB0eXBlIEF1dGhUb2tlbnMgfSBmcm9tICckbGliL1NlcnZpY2VzL0F1dGhTZXJ2aWNlJztcblx0aW1wb3J0IHsgQ29va2llU2VydmljZSB9IGZyb20gJyRsaWIvU2VydmljZXMvQ29va2llU2VydmljZSc7XG5cdGltcG9ydCB7IGJvbHQgfSBmcm9tICckbGliL1N0YXRlL0JvbHQnO1xuXHRpbXBvcnQgdHlwZSB7IEJvbHRNZXNzYWdlIH0gZnJvbSAnJGxpYi9VdGlsL2ludGVyZmFjZXMnO1xuXHRpbXBvcnQgeyBvbkRlc3Ryb3ksIG9uTW91bnQgfSBmcm9tICdzdmVsdGUnO1xuXG5cdGNvbnN0IHBhcmVudFdpbmRvdyA9IHdpbmRvdy5vcGVuZXIgYXMge1xuXHRcdHBvc3RNZXNzYWdlOiAoZXZlbnQ6IEJvbHRNZXNzYWdlLCBhbGxvd2VkT3JpZ2luOiBzdHJpbmcpID0+IHZvaWQ7XG5cdH07XG5cblx0aWYgKGJvbHQuZW52ID09IG51bGwpIHtcblx0XHRmYWlsKCdCb2x0RW52IGlzIG5vdCBkZWZpbmVkLiBQbGVhc2UgY2xvc2UgYW5kIHJlLW9wZW4gQm9sdCB0byB0cnkgYWdhaW4uJyk7XG5cdH1cblxuXHRhc3luYyBmdW5jdGlvbiByZXRyaWV2ZU9BdXRoVG9rZW4oYXV0aENvZGU6IHN0cmluZyk6IFByb21pc2U8QXV0aFRva2VucyB8IG51bGw+IHtcblx0XHRjb25zdCB2ZXJpZmllciA9IENvb2tpZVNlcnZpY2UuZ2V0KCdhdXRoX3ZlcmlmaWVyJykgYXMgc3RyaW5nO1xuXHRcdGlmICghdmVyaWZpZXIpIHtcblx0XHRcdGZhaWwoJ1ZlcmlmaWVyIHRva2VuIGhhcyBleHBpcmVkLiBQbGVhc2UgdHJ5IHNpZ25pbmcgaW4gYWdhaW4uJyk7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdFx0Y29uc3QgeyBjbGllbnRpZCwgcmVkaXJlY3QgfSA9IGJvbHQuZW52O1xuXHRcdGNvbnN0IHRva2VuUmVzdWx0ID0gYXdhaXQgQXV0aFNlcnZpY2UuZ2V0T0F1dGhUb2tlbihcblx0XHRcdGJvbHQuZW52Lm9yaWdpbixcblx0XHRcdGNsaWVudGlkLFxuXHRcdFx0dmVyaWZpZXIsXG5cdFx0XHRyZWRpcmVjdCxcblx0XHRcdGF1dGhDb2RlXG5cdFx0KTtcblx0XHRpZiAoIXRva2VuUmVzdWx0Lm9rKSB7XG5cdFx0XHRmYWlsKGBGZXRjaGluZyBPQXV0aCB0b2tlbiBmYWlsZWQuICR7dG9rZW5SZXN1bHQuZXJyb3J9YCk7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdFx0cmV0dXJuIHRva2VuUmVzdWx0LnZhbHVlO1xuXHR9XG5cblx0YXN5bmMgZnVuY3Rpb24gcmV0cmlldmVTZXNzaW9uSWQoaWRUb2tlbjogc3RyaW5nKSB7XG5cdFx0Y29uc3QgZXhwZWN0ZWROb25jZSA9IENvb2tpZVNlcnZpY2UuZ2V0KCdhdXRoX25vbmNlJyk7XG5cdFx0Y29uc3QgdmFsaWRhdGVSZXN1bHQgPSBBdXRoU2VydmljZS52YWxpZGF0ZUlkVG9rZW4oaWRUb2tlbiwgZXhwZWN0ZWROb25jZSA/PyAnJyk7XG5cdFx0aWYgKCF2YWxpZGF0ZVJlc3VsdC5vaykge1xuXHRcdFx0ZmFpbCh2YWxpZGF0ZVJlc3VsdC5lcnJvcik7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdFx0Y29uc3Qgc2Vzc2lvbklkUmVzdWx0ID0gYXdhaXQgQXV0aFNlcnZpY2UuZ2V0U2Vzc2lvbklkKGJvbHQuZW52LmF1dGhfYXBpLCBpZFRva2VuKTtcblx0XHRpZiAoIXNlc3Npb25JZFJlc3VsdC5vaykge1xuXHRcdFx0ZmFpbChgVW5hYmxlIHRvIHJldHJlaXZlIHNlc3Npb24gaWQuICR7c2Vzc2lvbklkUmVzdWx0LmVycm9yfWApO1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHRcdHJldHVybiBzZXNzaW9uSWRSZXN1bHQudmFsdWU7XG5cdH1cblxuXHRmdW5jdGlvbiBmYWlsKHJlYXNvbjogc3RyaW5nKSB7XG5cdFx0bWVzc2FnZSh7IHR5cGU6ICdhdXRoRmFpbGVkJywgcmVhc29uIH0pO1xuXHRcdHdpbmRvdy5jbG9zZSgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIE1lc3NhZ2VzIHRoZSBwYXJlbnQgd2luZG93IHdpdGggYW4gZXZlbnQgbmFtZSBhbmQgYXNzb2NpYXRlZCBkYXRhXG5cdCAqL1xuXHRmdW5jdGlvbiBtZXNzYWdlKGV2ZW50OiBCb2x0TWVzc2FnZSkge1xuXHRcdHBhcmVudFdpbmRvdy5wb3N0TWVzc2FnZShldmVudCwgYm9sdC5pbnRlcm5hbFVybCk7XG5cdH1cblxuXHRvbk1vdW50KGFzeW5jICgpID0+IHtcblx0XHRjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuXHRcdGNvbnN0IGNvZGUgPSBwYXJhbXMuZ2V0KCdjb2RlJyk7XG5cdFx0Y29uc3Qgc3RhdGUgPSBwYXJhbXMuZ2V0KCdzdGF0ZScpO1xuXHRcdGNvbnN0IGlkX3Rva2VuID0gcGFyYW1zLmdldCgnaWRfdG9rZW4nKTtcblx0XHRpZiAoaWRfdG9rZW4gPT0gbnVsbCAmJiBjb2RlICYmIHN0YXRlKSB7XG5cdFx0XHQvLyBGaXJzdCBzdGVwLCBhZnRlciB0aGUgdXNlciBoYXMgc2lnbmVkIGluXG5cdFx0XHRjb25zdCBhdXRoVG9rZW5zID0gYXdhaXQgcmV0cmlldmVPQXV0aFRva2VuKGNvZGUpO1xuXHRcdFx0aWYgKCFhdXRoVG9rZW5zKSByZXR1cm4gZmFpbCgndG9rZW5zIG9iamVjdCBpcyBudWxsLicpO1xuXG5cdFx0XHRtZXNzYWdlKHsgdHlwZTogJ2F1dGhUb2tlblVwZGF0ZScsIHRva2VuczogYXV0aFRva2VucyB9KTtcblx0XHRcdGNvbnN0IG5vbmNlID0gY3J5cHRvLnJhbmRvbVVVSUQoKTtcblx0XHRcdEF1dGhTZXJ2aWNlLm5hdmlnYXRlVG9BdXRoQ29uc2VudChib2x0LmVudi5vcmlnaW4sIGF1dGhUb2tlbnMuaWRfdG9rZW4sIG5vbmNlKTtcblx0XHR9IGVsc2UgaWYgKGlkX3Rva2VuICYmIGNvZGUgJiYgc3RhdGUpIHtcblx0XHRcdC8vIFNlY29uZCBzdGVwLCBhZnRlciByZXRyaWV2aW5nIHRoZSBhdXRoVG9rZW5zIGFuZCBjb25zZW50IHJlcXVlc3QgaGFzIHJldHVybmVkXG5cdFx0XHRjb25zdCBzZXNzaW9uSWQgPSBhd2FpdCByZXRyaWV2ZVNlc3Npb25JZChpZF90b2tlbik7XG5cdFx0XHRpZiAoIXNlc3Npb25JZCkgcmV0dXJuIGZhaWwoJ3Nlc3Npb25JZCBpcyBudWxsJyk7XG5cblx0XHRcdG1lc3NhZ2UoeyB0eXBlOiAnYXV0aFNlc3Npb25VcGRhdGUnLCBzZXNzaW9uSWQgfSk7XG5cdFx0XHR3aW5kb3cuY2xvc2UoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZmFpbChcblx0XHRcdFx0J0F1dGhlbnRpY2F0aW9uIHNlcnZlciBkaWQgbm90IHJlc3BvbnNlIHdpdGggdGhlIGFwcHJvcHJpYXRlIHBhcmFtZXRlcnMuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJ1xuXHRcdFx0KTtcblx0XHR9XG5cdH0pO1xuXG5cdG9uRGVzdHJveSgoKSA9PiB7XG5cdFx0Q29va2llU2VydmljZS5yZW1vdmUoJ2F1dGhfdmVyaWZpZXInKTtcblx0XHRDb29raWVTZXJ2aWNlLnJlbW92ZSgnYXV0aF9ub25jZScpO1xuXHR9KTtcbjwvc2NyaXB0PlxuXG48TWFpbkxheW91dD5cblx0PGRpdiBjbGFzcz1cImZsZXggaC1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuXHRcdDxpbWcgY2xhc3M9XCJoLTYwIHctNjAgYW5pbWF0ZS1zcGluXCIgc3JjPVwic3Zncy9jaXJjbGUtbm90Y2gtc29saWQuc3ZnXCIgYWx0PVwibG9hZGluZ1wiIC8+XG5cdDwvZGl2PlxuPC9NYWluTGF5b3V0PlxuIiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cblx0aW1wb3J0IHsgY3JlYXRlRXZlbnREaXNwYXRjaGVyIH0gZnJvbSAnc3ZlbHRlJztcblxuXHRsZXQgY2xhc3NOYW1lID0gJyc7XG5cdGV4cG9ydCB7IGNsYXNzTmFtZSBhcyBjbGFzcyB9O1xuXHRleHBvcnQgbGV0IGNhblNlbGZDbG9zZSA9IHRydWU7XG5cblx0bGV0IGRpYWxvZzogSFRNTERpYWxvZ0VsZW1lbnQ7XG5cdGxldCBpc09wZW4gPSBmYWxzZTtcblx0Y29uc3QgZGlzcGF0Y2ggPSBjcmVhdGVFdmVudERpc3BhdGNoZXI8eyBjbG9zZTogdW5kZWZpbmVkIH0+KCk7XG5cblx0ZXhwb3J0IGZ1bmN0aW9uIG9wZW4oKSB7XG5cdFx0ZGlhbG9nLnNob3dNb2RhbCgpO1xuXHRcdGlzT3BlbiA9IHRydWU7XG5cdH1cblxuXHRleHBvcnQgZnVuY3Rpb24gY2xvc2UoKSB7XG5cdFx0ZGlzcGF0Y2goJ2Nsb3NlJyk7XG5cdFx0ZGlhbG9nLmNsb3NlKCk7XG5cdFx0aXNPcGVuID0gZmFsc2U7XG5cdH1cbjwvc2NyaXB0PlxuXG48IS0tIHN2ZWx0ZS1pZ25vcmUgYTExeS1uby1ub25pbnRlcmFjdGl2ZS1lbGVtZW50LWludGVyYWN0aW9ucyAtLT5cbjxkaWFsb2dcblx0YmluZDp0aGlzPXtkaWFsb2d9XG5cdG9uOmtleWRvd249eyhlKSA9PiB7XG5cdFx0aWYgKGUua2V5ID09PSAnRXNjYXBlJyAmJiAhY2FuU2VsZkNsb3NlKSBlLnByZXZlbnREZWZhdWx0KCk7XG5cdH19XG5cdG9uOm1vdXNlZG93bnxzZWxmPXsoKSA9PiB7XG5cdFx0aWYgKGNhblNlbGZDbG9zZSkgZGlhbG9nLmNsb3NlKCk7XG5cdH19XG5cdGNsYXNzOmJhY2tkcm9wOmN1cnNvci1wb2ludGVyPXtjYW5TZWxmQ2xvc2V9XG5cdGNsYXNzPVwie2NsYXNzTmFtZX0gYmFja2Ryb3AgbWF4LWgtWzkwJV0gbWF4LXctWzkwJV0gb3ZlcmZsb3ctYXV0byByb3VuZGVkLXhsIHAtMyB0ZXh0LWluaGVyaXQgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmVcIlxuPlxuXHR7I2lmIGNhblNlbGZDbG9zZX1cblx0XHQ8YnV0dG9uXG5cdFx0XHRjbGFzcz1cImFic29sdXRlIHJpZ2h0LTMgdG9wLTMgcm91bmRlZC1mdWxsIGJnLXJvc2UtNTAwIHAtWzJweF0gc2hhZG93LWxnIGR1cmF0aW9uLTIwMCBob3Zlcjpyb3RhdGUtOTAgaG92ZXI6b3BhY2l0eS03NVwiXG5cdFx0XHRvbjpjbGljaz17KCkgPT4gZGlhbG9nLmNsb3NlKCl9XG5cdFx0PlxuXHRcdFx0PGltZyBzcmM9XCJzdmdzL3htYXJrLXNvbGlkLnN2Z1wiIGNsYXNzPVwiaC01IHctNVwiIGFsdD1cIkNsb3NlXCIgLz5cblx0XHQ8L2J1dHRvbj5cblx0ey9pZn1cblx0eyNpZiBpc09wZW59XG5cdFx0PHNsb3QgLz5cblx0ey9pZn1cbjwvZGlhbG9nPlxuXG48c3R5bGUgbGFuZz1cInBvc3Rjc3NcIj5cblx0LmJhY2tkcm9wIHtcblx0XHRAYXBwbHkgYmFja2Ryb3A6YmctYmxhY2svNzUgYmFja2Ryb3A6YmFja2Ryb3AtYmx1ci1zbSBkYXJrOmJnLXNsYXRlLTkwMDtcblx0fVxuPC9zdHlsZT5cbiIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XG5cdGltcG9ydCBNb2RhbCBmcm9tICckbGliL0NvbXBvbmVudHMvQ29tbW9uVUkvTW9kYWwuc3ZlbHRlJztcblx0aW1wb3J0IHsgR2xvYmFsU3RhdGUgfSBmcm9tICckbGliL1N0YXRlL0dsb2JhbFN0YXRlJztcblx0aW1wb3J0IHsgb25Nb3VudCB9IGZyb20gJ3N2ZWx0ZSc7XG5cblx0Y29uc3QgeyBzZXNzaW9ucyB9ID0gR2xvYmFsU3RhdGU7XG5cdGxldCBtb2RhbDogTW9kYWw7XG5cblx0b25Nb3VudCgoKSA9PiB7XG5cdFx0aWYgKCRzZXNzaW9ucy5sZW5ndGggPT0gMCkge1xuXHRcdFx0bW9kYWwub3BlbigpO1xuXHRcdH1cblx0fSk7XG48L3NjcmlwdD5cblxuPE1vZGFsIGJpbmQ6dGhpcz17bW9kYWx9IGNhblNlbGZDbG9zZT17ZmFsc2V9IGNsYXNzPVwidy0xLzIgdGV4dC1jZW50ZXJcIj5cblx0PHAgY2xhc3M9XCJwLTJcIj5cblx0XHR7YXRvYihcblx0XHRcdCdRbTlzZENCcGN5QmhiaUIxYm05bVptbGphV0ZzSUhSb2FYSmtMWEJoY25SNUlHeGhkVzVqYUdWeUxpQkpkQ2R6SUdaeVpXVWdZVzVrSUc5d1pXNHRjMjkxY21ObElITnZablIzWVhKbElHeHBZMlZ1YzJWa0lIVnVaR1Z5SUVGSFVFd2dNeTR3TGc9PSdcblx0XHQpfVxuXHQ8L3A+XG5cdDxwIGNsYXNzPVwicC0yXCI+XG5cdFx0e2F0b2IoXG5cdFx0XHQnU21GblpYZ2dhWE1nYm05MElISmxjM0J2Ym5OcFlteGxJR1p2Y2lCaGJua2djSEp2WW14bGJYTWdiM0lnWkdGdFlXZGxJR05oZFhObFpDQmllU0IxYzJsdVp5QjBhR2x6SUhCeWIyUjFZM1F1J1xuXHRcdCl9XG5cdDwvcD5cblx0PGJ1dHRvblxuXHRcdGNsYXNzPVwibS01IHJvdW5kZWQtbGcgYm9yZGVyLTIgYm9yZGVyLWJsdWUtNTAwIHAtMiBkdXJhdGlvbi0yMDAgaG92ZXI6b3BhY2l0eS03NVwiXG5cdFx0b246Y2xpY2s9eygpID0+IG1vZGFsLmNsb3NlKCl9PkkgVW5kZXJzdGFuZDwvYnV0dG9uXG5cdD5cbjwvTW9kYWw+XG4iLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuXHRpbXBvcnQgeyBvbkRlc3Ryb3kgfSBmcm9tICdzdmVsdGUnO1xuXHRpbXBvcnQgeyBnZXROZXdDbGllbnRMaXN0UHJvbWlzZSwgc2F2ZVBsdWdpbkNvbmZpZyB9IGZyb20gJyRsaWIvVXRpbC9mdW5jdGlvbnMnO1xuXHRpbXBvcnQgeyB0eXBlIFBsdWdpbkNvbmZpZyB9IGZyb20gJyRsaWIvVXRpbC9pbnRlcmZhY2VzJztcblx0aW1wb3J0IHsgY2xpZW50TGlzdFByb21pc2UgfSBmcm9tICckbGliL1V0aWwvc3RvcmUnO1xuXHRpbXBvcnQgeyBsb2dnZXIgfSBmcm9tICckbGliL1V0aWwvTG9nZ2VyJztcblx0aW1wb3J0IE1vZGFsIGZyb20gJyRsaWIvQ29tcG9uZW50cy9Db21tb25VSS9Nb2RhbC5zdmVsdGUnO1xuXHRpbXBvcnQgeyBib2x0IH0gZnJvbSAnJGxpYi9TdGF0ZS9Cb2x0JztcblxuXHRsZXQgbW9kYWw6IE1vZGFsO1xuXG5cdGV4cG9ydCBmdW5jdGlvbiBvcGVuKCkge1xuXHRcdG1vZGFsLm9wZW4oKTtcblx0fVxuXG5cdGNvbnN0IGdldFBsdWdpbkNvbmZpZ1Byb21pc2UgPSAoZGlycGF0aDogc3RyaW5nKTogUHJvbWlzZTxQbHVnaW5Db25maWc+ID0+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0Y29uc3QgcGF0aDogc3RyaW5nID0gZGlycGF0aC5jb25jYXQoZGlycGF0aC5lbmRzV2l0aCgnLycpID8gJ2JvbHQuanNvbicgOiAnL2JvbHQuanNvbicpO1xuXHRcdFx0dmFyIHhtbCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXHRcdFx0eG1sLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcblx0XHRcdFx0aWYgKHhtbC5yZWFkeVN0YXRlID09IDQpIHtcblx0XHRcdFx0XHRpZiAoeG1sLnN0YXR1cyA9PSAyMDApIHtcblx0XHRcdFx0XHRcdHJlc29sdmUoPFBsdWdpbkNvbmZpZz5KU09OLnBhcnNlKHhtbC5yZXNwb25zZVRleHQpKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmVqZWN0KHhtbC5yZXNwb25zZVRleHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdHhtbC5vcGVuKCdHRVQnLCAnL3JlYWQtanNvbi1maWxlPycuY29uY2F0KG5ldyBVUkxTZWFyY2hQYXJhbXMoeyBwYXRoIH0pLnRvU3RyaW5nKCkpLCB0cnVlKTtcblx0XHRcdHhtbC5zZW5kKCk7XG5cdFx0fSk7XG5cdH07XG5cblx0Y29uc3QgZ2V0UGx1Z2luQ29uZmlnUHJvbWlzZUZyb21JRCA9IChpZDogc3RyaW5nKTogUHJvbWlzZTxQbHVnaW5Db25maWc+IHwgbnVsbCA9PiB7XG5cdFx0Y29uc3QgbGlzdCA9IGJvbHQucGx1Z2luTGlzdDtcblx0XHRjb25zdCBtZXRhID0gbGlzdFtpZF07XG5cdFx0aWYgKCFtZXRhKSByZXR1cm4gbnVsbDtcblx0XHRjb25zdCBwYXRoID0gbWV0YS5wYXRoO1xuXHRcdHJldHVybiBwYXRoID8gZ2V0UGx1Z2luQ29uZmlnUHJvbWlzZShwYXRoKSA6IG51bGw7XG5cdH07XG5cblx0Ly8gbmV3IHBsdWdpbiBoYW5kbGVyXG5cdGNvbnN0IHVubmFtZWRQbHVnaW5OYW1lID0gJyh1bm5hbWVkKSc7XG5cdGNvbnN0IHVubmFtZWRDbGllbnROYW1lID0gJyhuZXcgY2hhcmFjdGVyKSc7XG5cdGNvbnN0IGhhbmRsZU5ld1BsdWdpbiA9IChmb2xkZXJQYXRoOiBzdHJpbmcsIGNvbmZpZ1BhdGg6IHN0cmluZykgPT4ge1xuXHRcdGdldFBsdWdpbkNvbmZpZ1Byb21pc2UoZm9sZGVyUGF0aClcblx0XHRcdC50aGVuKChwbHVnaW46IFBsdWdpbkNvbmZpZykgPT4ge1xuXHRcdFx0XHRkbyB7XG5cdFx0XHRcdFx0c2VsZWN0ZWRQbHVnaW4gPSBjcnlwdG8ucmFuZG9tVVVJRCgpO1xuXHRcdFx0XHR9IHdoaWxlIChPYmplY3Qua2V5cyhib2x0LnBsdWdpbkxpc3QpLmluY2x1ZGVzKHNlbGVjdGVkUGx1Z2luKSk7XG5cdFx0XHRcdGJvbHQucGx1Z2luTGlzdFtzZWxlY3RlZFBsdWdpbl0gPSB7XG5cdFx0XHRcdFx0bmFtZTogcGx1Z2luLm5hbWUgPz8gdW5uYW1lZFBsdWdpbk5hbWUsXG5cdFx0XHRcdFx0cGF0aDogZm9sZGVyUGF0aFxuXHRcdFx0XHR9O1xuXHRcdFx0XHRwbHVnaW5Db25maWdEaXJ0eSA9IHRydWU7XG5cdFx0XHR9KVxuXHRcdFx0LmNhdGNoKChyZWFzb24pID0+IHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihgQ29uZmlnIGZpbGUgJyR7Y29uZmlnUGF0aH0nIGNvdWxkbid0IGJlIGZldGNoZWQsIHJlYXNvbjogJHtyZWFzb259YCk7XG5cdFx0XHR9KTtcblx0fTtcblxuXHQvLyBqc29uIGZpbGUgcGlja2VyXG5cdGxldCBkaXNhYmxlQnV0dG9uczogYm9vbGVhbiA9IGZhbHNlO1xuXHRjb25zdCBqc29uRmlsZVBpY2tlciA9ICgpID0+IHtcblx0XHRkaXNhYmxlQnV0dG9ucyA9IHRydWU7XG5cdFx0dmFyIHhtbCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXHRcdHhtbC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7XG5cdFx0XHRpZiAoeG1sLnJlYWR5U3RhdGUgPT0gNCkge1xuXHRcdFx0XHRkaXNhYmxlQnV0dG9ucyA9IGZhbHNlO1xuXHRcdFx0XHQvLyBpZiB0aGUgdXNlciBjbG9zZXMgdGhlIGZpbGUgcGlja2VyIHdpdGhvdXQgc2VsZWN0aW5nIGEgZmlsZSwgc3RhdHVzIGhlcmUgaXMgMjA0XG5cdFx0XHRcdGlmICh4bWwuc3RhdHVzID09IDIwMCkge1xuXHRcdFx0XHRcdGNvbnN0IHBhdGg6IHN0cmluZyA9XG5cdFx0XHRcdFx0XHRib2x0LnBsYXRmb3JtID09PSAnd2luZG93cycgPyB4bWwucmVzcG9uc2VUZXh0LnJlcGxhY2VBbGwoJ1xcXFwnLCAnLycpIDogeG1sLnJlc3BvbnNlVGV4dDtcblx0XHRcdFx0XHRpZiAocGF0aC5lbmRzV2l0aCgnL2JvbHQuanNvbicpKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBzdWJwYXRoOiBzdHJpbmcgPSBwYXRoLnN1YnN0cmluZygwLCBwYXRoLmxlbmd0aCAtIDkpO1xuXHRcdFx0XHRcdFx0aGFuZGxlTmV3UGx1Z2luKHN1YnBhdGgsIHBhdGgpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhgU2VsZWN0aW9uICcke3BhdGh9JyBpcyBub3QgbmFtZWQgYm9sdC5qc29uOyBpZ25vcmVkYCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0XHR4bWwub3BlbignR0VUJywgJy9qc29uLWZpbGUtcGlja2VyJywgdHJ1ZSk7XG5cdFx0eG1sLnNlbmQoKTtcblx0fTtcblxuXHQvLyBnZXQgY29ubmVjdGVkIGNsaWVudCBsaXN0XG5cdGNsaWVudExpc3RQcm9taXNlLnNldChnZXROZXdDbGllbnRMaXN0UHJvbWlzZSgpKTtcblx0JDogJGNsaWVudExpc3RQcm9taXNlLnRoZW4oKHgpID0+IHtcblx0XHRpZiAoIXguc29tZSgoeCkgPT4geC51aWQgPT09IHNlbGVjdGVkQ2xpZW50SWQpKSB7XG5cdFx0XHRpc0NsaWVudFNlbGVjdGVkID0gZmFsc2U7XG5cdFx0fVxuXHR9KTtcblxuXHQvLyBmdW5jdGlvbiB0byBzdGFydCBhIHBsdWdpblxuXHRjb25zdCBzdGFydFBsdWdpbiA9IChjbGllbnQ6IHN0cmluZywgaWQ6IHN0cmluZywgcGF0aDogc3RyaW5nLCBtYWluOiBzdHJpbmcpID0+IHtcblx0XHR2YXIgeG1sID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cdFx0eG1sLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcblx0XHRcdGlmICh4bWwucmVhZHlTdGF0ZSA9PSA0KSB7XG5cdFx0XHRcdGxvZ2dlci5pbmZvKGBTdGFydC1wbHVnaW4gc3RhdHVzOiAke3htbC5zdGF0dXNUZXh0LnRyaW0oKX1gKTtcblx0XHRcdH1cblx0XHR9O1xuXHRcdHhtbC5vcGVuKFxuXHRcdFx0J0dFVCcsXG5cdFx0XHQnL3N0YXJ0LXBsdWdpbj8nLmNvbmNhdChuZXcgVVJMU2VhcmNoUGFyYW1zKHsgY2xpZW50LCBpZCwgcGF0aCwgbWFpbiB9KS50b1N0cmluZygpKSxcblx0XHRcdHRydWVcblx0XHQpO1xuXHRcdHhtbC5zZW5kKCk7XG5cdH07XG5cblx0Ly8gcGx1Z2luIG1hbmFnZW1lbnQgaW50ZXJmYWNlIC0gY3VycmVudGx5LXNlbGVjdGVkIHBsdWdpblxuXHR2YXIgc2VsZWN0ZWRQbHVnaW46IHN0cmluZztcblx0JDogbWFuYWdlbWVudFBsdWdpblByb21pc2UgPSBnZXRQbHVnaW5Db25maWdQcm9taXNlRnJvbUlEKHNlbGVjdGVkUGx1Z2luKTtcblxuXHQvLyBjb25uZWN0ZWQgY2xpZW50cyBsaXN0XG5cdHZhciBpc0NsaWVudFNlbGVjdGVkOiBib29sZWFuID0gZmFsc2U7XG5cdHZhciBzZWxlY3RlZENsaWVudElkOiBzdHJpbmc7XG5cblx0bGV0IHBsdWdpbkNvbmZpZ0RpcnR5OiBib29sZWFuID0gZmFsc2U7XG5cdG9uRGVzdHJveSgoKSA9PiB7XG5cdFx0Ly8gc2F2ZSBwbHVnaW4gY29uZmlnIGlmIGl0J3MgYmVlbiBjaGFuZ2VkXG5cdFx0aWYgKHBsdWdpbkNvbmZpZ0RpcnR5KSBzYXZlUGx1Z2luQ29uZmlnKCk7XG5cdH0pO1xuPC9zY3JpcHQ+XG5cbjxNb2RhbCBiaW5kOnRoaXM9e21vZGFsfSBjbGFzcz1cImgtWzkwJV0gdy1bOTAlXVwiPlxuXHQ8ZGl2XG5cdFx0Y2xhc3M9XCJsZWZ0LTAgZmxvYXQtbGVmdCBoLWZ1bGwgdy1bbWluKDE4MHB4LF81MCUpXSBvdmVyZmxvdy1oaWRkZW4gYm9yZGVyLXItMiBib3JkZXItc2xhdGUtMzAwIHB0LTIgZGFyazpib3JkZXItc2xhdGUtODAwXCJcblx0PlxuXHRcdDxidXR0b25cblx0XHRcdGNsYXNzPVwibXgtYXV0byBtYi0yIHctWzk1JV0gcm91bmRlZC1sZyBib3JkZXItMiB7aXNDbGllbnRTZWxlY3RlZFxuXHRcdFx0XHQ/ICdib3JkZXItYmx1ZS01MDAgdGV4dC1ibGFjayBkYXJrOnRleHQtd2hpdGUnXG5cdFx0XHRcdDogJ2JvcmRlci1ibGFjayBiZy1ibHVlLTUwMCB0ZXh0LWJsYWNrJ30gcC0yIGZvbnQtYm9sZCBob3ZlcjpvcGFjaXR5LTc1XCJcblx0XHRcdG9uOmNsaWNrPXsoKSA9PiAoaXNDbGllbnRTZWxlY3RlZCA9IGZhbHNlKX1cblx0XHQ+XG5cdFx0XHRNYW5hZ2UgUGx1Z2luc1xuXHRcdDwvYnV0dG9uPlxuXHRcdDxociBjbGFzcz1cInAtMSBkYXJrOmJvcmRlci1zbGF0ZS03MDBcIiAvPlxuXHRcdHsjYXdhaXQgJGNsaWVudExpc3RQcm9taXNlfVxuXHRcdFx0PHA+bG9hZGluZy4uLjwvcD5cblx0XHR7OnRoZW4gY2xpZW50c31cblx0XHRcdHsjaWYgY2xpZW50cy5sZW5ndGggPT0gMH1cblx0XHRcdFx0PHA+KHN0YXJ0IGFuIFJTMyBnYW1lIGNsaWVudCB3aXRoIHBsdWdpbnMgZW5hYmxlZCBhbmQgaXQgd2lsbCBiZSBsaXN0ZWQgaGVyZS4pPC9wPlxuXHRcdFx0ezplbHNlfVxuXHRcdFx0XHR7I2VhY2ggY2xpZW50cyBhcyBjbGllbnR9XG5cdFx0XHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRcdFx0b246Y2xpY2s9eygpID0+IHtcblx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRDbGllbnRJZCA9IGNsaWVudC51aWQ7XG5cdFx0XHRcdFx0XHRcdGlzQ2xpZW50U2VsZWN0ZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0fX1cblx0XHRcdFx0XHRcdGNsYXNzPVwibS0xIGgtWzI4cHhdIHctWzk1JV0gcm91bmRlZC1sZyBib3JkZXItMiB7aXNDbGllbnRTZWxlY3RlZCAmJlxuXHRcdFx0XHRcdFx0c2VsZWN0ZWRDbGllbnRJZCA9PT0gY2xpZW50LnVpZFxuXHRcdFx0XHRcdFx0XHQ/ICdib3JkZXItYmxhY2sgYmctYmx1ZS01MDAgdGV4dC1ibGFjaydcblx0XHRcdFx0XHRcdFx0OiAnYm9yZGVyLWJsdWUtNTAwIHRleHQtYmxhY2sgZGFyazp0ZXh0LXdoaXRlJ30gaG92ZXI6b3BhY2l0eS03NVwiXG5cdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0e2NsaWVudC5pZGVudGl0eSB8fCB1bm5hbWVkQ2xpZW50TmFtZX1cblx0XHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0XHQ8YnIgLz5cblx0XHRcdFx0ey9lYWNofVxuXHRcdFx0ey9pZn1cblx0XHR7OmNhdGNofVxuXHRcdFx0PHA+ZXJyb3I8L3A+XG5cdFx0ey9hd2FpdH1cblx0PC9kaXY+XG5cdDxkaXYgY2xhc3M9XCJoLWZ1bGwgcHQtMTBcIj5cblx0XHR7I2lmIGJvbHQuaGFzQm9sdFBsdWdpbnN9XG5cdFx0XHQ8c2VsZWN0XG5cdFx0XHRcdGJpbmQ6dmFsdWU9e3NlbGVjdGVkUGx1Z2lufVxuXHRcdFx0XHRjbGFzcz1cIm14LWF1dG8gbWItNCB3LVttaW4oMjgwcHgsXzQ1JSldIGN1cnNvci1wb2ludGVyIHJvdW5kZWQtbGcgYm9yZGVyLTIgYm9yZGVyLXNsYXRlLTMwMCBiZy1pbmhlcml0IHAtMiB0ZXh0LWluaGVyaXQgZHVyYXRpb24tMjAwIGhvdmVyOm9wYWNpdHktNzUgZGFyazpib3JkZXItc2xhdGUtODAwXCJcblx0XHRcdD5cblx0XHRcdFx0eyNlYWNoIE9iamVjdC5lbnRyaWVzKGJvbHQucGx1Z2luTGlzdCkgYXMgW2lkLCBwbHVnaW5dfVxuXHRcdFx0XHRcdDxvcHRpb24gY2xhc3M9XCJkYXJrOmJnLXNsYXRlLTkwMFwiIHZhbHVlPXtpZH0+e3BsdWdpbi5uYW1lID8/IHVubmFtZWRQbHVnaW5OYW1lfTwvb3B0aW9uPlxuXHRcdFx0XHR7L2VhY2h9XG5cdFx0XHQ8L3NlbGVjdD5cblx0XHRcdHsjaWYgIWlzQ2xpZW50U2VsZWN0ZWR9XG5cdFx0XHRcdDxidXR0b25cblx0XHRcdFx0XHRjbGFzcz1cImFzcGVjdC1zcXVhcmUgdy04IHJvdW5kZWQtbGcgYm9yZGVyLTIgYm9yZGVyLWJsdWUtNTAwIHRleHQtWzIwcHhdIGZvbnQtYm9sZCBkdXJhdGlvbi0yMDAgZW5hYmxlZDpob3ZlcjpvcGFjaXR5LTc1IGRpc2FibGVkOmJvcmRlci1ncmF5LTUwMFwiXG5cdFx0XHRcdFx0b246Y2xpY2s9e2pzb25GaWxlUGlja2VyfVxuXHRcdFx0XHRcdGRpc2FibGVkPXtkaXNhYmxlQnV0dG9uc31cblx0XHRcdFx0PlxuXHRcdFx0XHRcdCtcblx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdDxiciAvPlxuXHRcdFx0XHR7I2lmIE9iamVjdC5lbnRyaWVzKGJvbHQucGx1Z2luTGlzdCkubGVuZ3RoICE9PSAwfVxuXHRcdFx0XHRcdHsjaWYgT2JqZWN0LmtleXMoYm9sdC5wbHVnaW5MaXN0KS5pbmNsdWRlcyhzZWxlY3RlZFBsdWdpbikgJiYgbWFuYWdlbWVudFBsdWdpblByb21pc2UgIT09IG51bGx9XG5cdFx0XHRcdFx0XHR7I2F3YWl0IG1hbmFnZW1lbnRQbHVnaW5Qcm9taXNlfVxuXHRcdFx0XHRcdFx0XHQ8cD5sb2FkaW5nLi4uPC9wPlxuXHRcdFx0XHRcdFx0ezp0aGVuIHBsdWdpbn1cblx0XHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJwYi00IHRleHQteGwgZm9udC1ib2xkXCI+XG5cdFx0XHRcdFx0XHRcdFx0e3BsdWdpbi5uYW1lID8/IHVubmFtZWRQbHVnaW5OYW1lfVxuXHRcdFx0XHRcdFx0XHQ8L3A+XG5cdFx0XHRcdFx0XHRcdDxwIGNsYXNzPXtwbHVnaW4uZGVzY3JpcHRpb24gPyBudWxsIDogJ2l0YWxpYyd9PlxuXHRcdFx0XHRcdFx0XHRcdHtwbHVnaW4uZGVzY3JpcHRpb24gPz8gJ25vIGRlc2NyaXB0aW9uJ31cblx0XHRcdFx0XHRcdFx0PC9wPlxuXHRcdFx0XHRcdFx0XHQ8YnIgLz5cblx0XHRcdFx0XHRcdHs6Y2F0Y2h9XG5cdFx0XHRcdFx0XHRcdDxwPmVycm9yPC9wPlxuXHRcdFx0XHRcdFx0XHQ8YnIgLz5cblx0XHRcdFx0XHRcdHsvYXdhaXR9XG5cdFx0XHRcdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdFx0XHRcdGNsYXNzPVwibXgtYXV0byBtYi0xIHctW21pbigxNDRweCxfMjUlKV0gcm91bmRlZC1sZyBwLTIgZm9udC1ib2xkIHRleHQtYmxhY2sgZHVyYXRpb24tMjAwIGVuYWJsZWQ6Ymctcm9zZS01MDAgZW5hYmxlZDpob3ZlcjpvcGFjaXR5LTc1IGRpc2FibGVkOmJnLWdyYXktNTAwXCJcblx0XHRcdFx0XHRcdFx0b246Y2xpY2s9eygpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRtYW5hZ2VtZW50UGx1Z2luUHJvbWlzZSA9IG51bGw7XG5cdFx0XHRcdFx0XHRcdFx0cGx1Z2luQ29uZmlnRGlydHkgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdGxldCBsaXN0ID0gYm9sdC5wbHVnaW5MaXN0O1xuXHRcdFx0XHRcdFx0XHRcdGRlbGV0ZSBsaXN0W3NlbGVjdGVkUGx1Z2luXTtcblx0XHRcdFx0XHRcdFx0XHRib2x0LnBsdWdpbkxpc3QgPSBsaXN0O1xuXHRcdFx0XHRcdFx0XHR9fVxuXHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHRSZW1vdmVcblx0XHRcdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRcdFx0XHRjbGFzcz1cIm14LWF1dG8gbWItMSB3LVttaW4oMTQ0cHgsXzI1JSldIHJvdW5kZWQtbGcgcC0yIGZvbnQtYm9sZCB0ZXh0LWJsYWNrIGR1cmF0aW9uLTIwMCBlbmFibGVkOmJnLWJsdWUtNTAwIGVuYWJsZWQ6aG92ZXI6b3BhY2l0eS03NSBkaXNhYmxlZDpiZy1ncmF5LTUwMFwiXG5cdFx0XHRcdFx0XHRcdG9uOmNsaWNrPXsoKSA9PlxuXHRcdFx0XHRcdFx0XHRcdChtYW5hZ2VtZW50UGx1Z2luUHJvbWlzZSA9IGdldFBsdWdpbkNvbmZpZ1Byb21pc2VGcm9tSUQoc2VsZWN0ZWRQbHVnaW4pKX1cblx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0UmVsb2FkXG5cdFx0XHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0XHR7L2lmfVxuXHRcdFx0XHR7OmVsc2V9XG5cdFx0XHRcdFx0PHA+XG5cdFx0XHRcdFx0XHRZb3UgaGF2ZSBubyBwbHVnaW5zIGluc3RhbGxlZC4gQ2xpY2sgdGhlICsgYnV0dG9uIGFuZCBzZWxlY3QgYSBwbHVnaW4ncyBib2x0Lmpzb24gZmlsZVxuXHRcdFx0XHRcdFx0dG8gYWRkIGl0LlxuXHRcdFx0XHRcdDwvcD5cblx0XHRcdFx0ey9pZn1cblx0XHRcdHs6ZWxzZX1cblx0XHRcdFx0PGJyIC8+XG5cdFx0XHRcdHsjYXdhaXQgbWFuYWdlbWVudFBsdWdpblByb21pc2V9XG5cdFx0XHRcdFx0PHA+bG9hZGluZy4uLjwvcD5cblx0XHRcdFx0ezp0aGVuIHBsdWdpbn1cblx0XHRcdFx0XHR7I2lmIHBsdWdpbiAmJiBwbHVnaW4ubWFpbiAmJiBPYmplY3Qua2V5cyhib2x0LnBsdWdpbkxpc3QpLmluY2x1ZGVzKHNlbGVjdGVkUGx1Z2luKX1cblx0XHRcdFx0XHRcdHsjaWYgYm9sdC5wbHVnaW5MaXN0W3NlbGVjdGVkUGx1Z2luXS5wYXRofVxuXHRcdFx0XHRcdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3M9XCJteC1hdXRvIG1iLTEgdy1hdXRvIHJvdW5kZWQtbGcgYmctZW1lcmFsZC01MDAgcC0yIGZvbnQtYm9sZCB0ZXh0LWJsYWNrIGR1cmF0aW9uLTIwMCBob3ZlcjpvcGFjaXR5LTc1XCJcblx0XHRcdFx0XHRcdFx0XHRvbjpjbGljaz17KCkgPT5cblx0XHRcdFx0XHRcdFx0XHRcdHN0YXJ0UGx1Z2luKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZENsaWVudElkLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZFBsdWdpbixcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ym9sdC5wbHVnaW5MaXN0W3NlbGVjdGVkUGx1Z2luXS5wYXRoID8/ICcnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRwbHVnaW4ubWFpbiA/PyAnJ1xuXHRcdFx0XHRcdFx0XHRcdFx0KX1cblx0XHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHRcdFN0YXJ0IHtwbHVnaW4ubmFtZX1cblx0XHRcdFx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdFx0XHR7OmVsc2V9XG5cdFx0XHRcdFx0XHRcdDxwPmNhbid0IHN0YXJ0IHBsdWdpbjogbm8gcGF0aCBpcyBjb25maWd1cmVkPC9wPlxuXHRcdFx0XHRcdFx0ey9pZn1cblx0XHRcdFx0XHR7OmVsc2V9XG5cdFx0XHRcdFx0XHQ8cD5jYW4ndCBzdGFydCBwbHVnaW46IGRvZXMgbm90IGFwcGVhciB0byBiZSBjb25maWd1cmVkPC9wPlxuXHRcdFx0XHRcdHsvaWZ9XG5cdFx0XHRcdHs6Y2F0Y2h9XG5cdFx0XHRcdFx0PHA+ZXJyb3I8L3A+XG5cdFx0XHRcdHsvYXdhaXR9XG5cdFx0XHR7L2lmfVxuXHRcdHs6ZWxzZX1cblx0XHRcdDxwPmVycm9yPC9wPlxuXHRcdHsvaWZ9XG5cdDwvZGl2PlxuPC9Nb2RhbD5cbiIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XG5cdGltcG9ydCBQbHVnaW5Nb2RhbCBmcm9tICckbGliL0NvbXBvbmVudHMvUGx1Z2luTW9kYWwuc3ZlbHRlJztcblx0aW1wb3J0IHsgQm9sdFNlcnZpY2UgfSBmcm9tICckbGliL1NlcnZpY2VzL0JvbHRTZXJ2aWNlJztcblx0aW1wb3J0IHsgYm9sdCwgUGxhdGZvcm0gfSBmcm9tICckbGliL1N0YXRlL0JvbHQnO1xuXHRpbXBvcnQgeyBHbG9iYWxTdGF0ZSB9IGZyb20gJyRsaWIvU3RhdGUvR2xvYmFsU3RhdGUnO1xuXHRpbXBvcnQge1xuXHRcdGxhdW5jaEhkb3MsXG5cdFx0bGF1bmNoT2ZmaWNpYWxDbGllbnQsXG5cdFx0bGF1bmNoUlMzTGludXgsXG5cdFx0bGF1bmNoUnVuZUxpdGVcblx0fSBmcm9tICckbGliL1V0aWwvZnVuY3Rpb25zJztcblx0aW1wb3J0IHsgQ2xpZW50LCBjbGllbnRNYXAsIEdhbWUgfSBmcm9tICckbGliL1V0aWwvaW50ZXJmYWNlcyc7XG5cdGltcG9ydCB7IGxvZ2dlciB9IGZyb20gJyRsaWIvVXRpbC9Mb2dnZXInO1xuXG5cdGxldCBwbHVnaW5Nb2RhbDogUGx1Z2luTW9kYWw7XG5cdGxldCB7IGNvbmZpZyB9ID0gR2xvYmFsU3RhdGU7XG5cdCQ6IGFjY291bnRzID0gQm9sdFNlcnZpY2UuZmluZFNlc3Npb24oJGNvbmZpZy5zZWxlY3RlZF91c2VyX2lkID8/ICcnKT8uYWNjb3VudHMgPz8gW107XG5cblx0Ly8gd2hlbiBwbGF5IGlzIGNsaWNrZWQsIGNoZWNrIHRoZSBzZWxlY3RlZF9wbGF5IHN0b3JlIGZvciBhbGwgcmVsZXZhbnQgZGV0YWlsc1xuXHQvLyBjYWxscyB0aGUgYXBwcm9wcmlhdGUgbGF1bmNoIGZ1bmN0aW9uc1xuXHRmdW5jdGlvbiBsYXVuY2goZ2FtZTogR2FtZSwgY2xpZW50OiBDbGllbnQpOiB2b2lkIHtcblx0XHRpZiAoISRjb25maWcuc2VsZWN0ZWRfdXNlcl9pZCB8fCAhJGNvbmZpZy5zZWxlY3RlZF9hY2NvdW50X2lkKSB7XG5cdFx0XHRyZXR1cm4gbG9nZ2VyLndhcm4oJ1BsZWFzZSBsb2cgaW4gdG8gbGF1bmNoIGEgY2xpZW50Jyk7XG5cdFx0fVxuXHRcdGNvbnN0IHNlc3Npb24gPSBCb2x0U2VydmljZS5maW5kU2Vzc2lvbigkY29uZmlnLnNlbGVjdGVkX3VzZXJfaWQpO1xuXHRcdGlmICghc2Vzc2lvbikgcmV0dXJuIGxvZ2dlci53YXJuKCdVbmFibGUgdG8gbGF1bmNoIGdhbWUsIHNlc3Npb24gd2FzIG5vdCBmb3VuZC4nKTtcblx0XHRjb25zdCB7IHNlc3Npb25faWQgfSA9IHNlc3Npb247XG5cdFx0Y29uc3QgYWNjb3VudCA9IEJvbHRTZXJ2aWNlLmZpbmRBY2NvdW50KHNlc3Npb24uYWNjb3VudHMsICRjb25maWcuc2VsZWN0ZWRfYWNjb3VudF9pZCk7XG5cdFx0aWYgKCFhY2NvdW50KSByZXR1cm4gbG9nZ2VyLndhcm4oJ1VuYWJsZSB0byBsYXVuY2ggZ2FtZSwgYWNjb3VudCB3YXMgbm90IGZvdW5kLicpO1xuXHRcdGNvbnN0IHsgYWNjb3VudElkLCBkaXNwbGF5TmFtZSB9ID0gYWNjb3VudDtcblx0XHRjb25zdCBpc1dpbmRvd3MgPSBib2x0LnBsYXRmb3JtID09PSBQbGF0Zm9ybS5XaW5kb3dzO1xuXHRcdGNvbnN0IGlzTGludXggPSBib2x0LnBsYXRmb3JtID09PSBQbGF0Zm9ybS5MaW51eDtcblx0XHRzd2l0Y2ggKGdhbWUpIHtcblx0XHRcdGNhc2UgR2FtZS5vc3JzOlxuXHRcdFx0XHRzd2l0Y2ggKGNsaWVudCkge1xuXHRcdFx0XHRcdGNhc2UgQ2xpZW50Lm9mZmljaWFsOlxuXHRcdFx0XHRcdFx0bGF1bmNoT2ZmaWNpYWxDbGllbnQoaXNXaW5kb3dzLCB0cnVlLCBzZXNzaW9uX2lkLCBhY2NvdW50SWQsIGRpc3BsYXlOYW1lKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgQ2xpZW50LnJ1bmVsaXRlOlxuXHRcdFx0XHRcdFx0bGF1bmNoUnVuZUxpdGUoc2Vzc2lvbl9pZCwgYWNjb3VudElkLCBkaXNwbGF5TmFtZSwgZmFsc2UpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBDbGllbnQuaGRvczpcblx0XHRcdFx0XHRcdGxhdW5jaEhkb3Moc2Vzc2lvbl9pZCwgYWNjb3VudElkLCBkaXNwbGF5TmFtZSk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgR2FtZS5yczM6XG5cdFx0XHRcdGlmIChpc0xpbnV4KSB7XG5cdFx0XHRcdFx0bGF1bmNoUlMzTGludXgoc2Vzc2lvbl9pZCwgYWNjb3VudElkLCBkaXNwbGF5TmFtZSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bGF1bmNoT2ZmaWNpYWxDbGllbnQoaXNXaW5kb3dzLCBmYWxzZSwgc2Vzc2lvbl9pZCwgYWNjb3VudElkLCBkaXNwbGF5TmFtZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9XG48L3NjcmlwdD5cblxueyNpZiBib2x0Lmhhc0JvbHRQbHVnaW5zfVxuXHQ8UGx1Z2luTW9kYWwgYmluZDp0aGlzPXtwbHVnaW5Nb2RhbH0+PC9QbHVnaW5Nb2RhbD5cbnsvaWZ9XG5cbjxkaXYgY2xhc3M9XCJiZy1ncmFkIGZsZXggaC1mdWxsIGZsZXgtY29sIGJvcmRlci1zbGF0ZS0zMDAgcC01IGR1cmF0aW9uLTIwMCBkYXJrOmJvcmRlci1zbGF0ZS04MDBcIj5cblx0PGltZ1xuXHRcdHNyYz1cInN2Z3Mvcm9ja2V0LXNvbGlkLnN2Z1wiXG5cdFx0YWx0PVwiTGF1bmNoIGljb25cIlxuXHRcdGNsYXNzPVwibXgtYXV0byBtYi01IHctMjQgcm91bmRlZC0zeGwgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1yb3NlLTUwMCB0by12aW9sZXQtNTAwIHAtNVwiXG5cdC8+XG5cdDxidXR0b25cblx0XHRjbGFzcz1cIm14LWF1dG8gbWItMiB3LTUyIHJvdW5kZWQtbGcgYmctZW1lcmFsZC01MDAgcC0yIGZvbnQtYm9sZCB0ZXh0LWJsYWNrIGR1cmF0aW9uLTIwMCBob3ZlcjpvcGFjaXR5LTc1XCJcblx0XHRvbjpjbGljaz17KCkgPT4gbGF1bmNoKCRjb25maWcuc2VsZWN0ZWRfZ2FtZSwgJGNvbmZpZy5zZWxlY3RlZF9jbGllbnQpfVxuXHQ+XG5cdFx0UGxheVxuXHQ8L2J1dHRvbj5cblx0PGRpdiBjbGFzcz1cIm14LWF1dG8gbXktMlwiPlxuXHRcdHsjaWYgJGNvbmZpZy5zZWxlY3RlZF9nYW1lID09IEdhbWUub3Nyc31cblx0XHRcdDxsYWJlbD5cblx0XHRcdFx0PHNwYW4gY2xhc3M9XCJ0ZXh0LXNtXCI+R2FtZSBDbGllbnQ8L3NwYW4+XG5cdFx0XHRcdDxzZWxlY3Rcblx0XHRcdFx0XHRpZD1cImdhbWVfY2xpZW50X3NlbGVjdFwiXG5cdFx0XHRcdFx0Y2xhc3M9XCJteC1hdXRvIHctNTIgY3Vyc29yLXBvaW50ZXIgcm91bmRlZC1sZyBib3JkZXItMiBib3JkZXItc2xhdGUtMzAwIGJnLWluaGVyaXQgcC0yIHRleHQtaW5oZXJpdCBkdXJhdGlvbi0yMDAgaG92ZXI6b3BhY2l0eS03NSBkYXJrOmJvcmRlci1zbGF0ZS04MDBcIlxuXHRcdFx0XHRcdGJpbmQ6dmFsdWU9eyRjb25maWcuc2VsZWN0ZWRfY2xpZW50fVxuXHRcdFx0XHQ+XG5cdFx0XHRcdFx0eyNlYWNoIGNsaWVudE1hcFskY29uZmlnLnNlbGVjdGVkX2dhbWVdIGFzIGNsaWVudH1cblx0XHRcdFx0XHRcdDxvcHRpb25cblx0XHRcdFx0XHRcdFx0Y2xhc3M9XCJkYXJrOmJnLXNsYXRlLTkwMFwiXG5cdFx0XHRcdFx0XHRcdGRpc2FibGVkPXtjbGllbnQgPT09IENsaWVudC5vZmZpY2lhbCAmJiBib2x0LnBsYXRmb3JtICE9PSBQbGF0Zm9ybS5MaW51eH1cblx0XHRcdFx0XHRcdFx0dmFsdWU9e2NsaWVudH0+e2NsaWVudH08L29wdGlvblxuXHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdHsvZWFjaH1cblx0XHRcdFx0PC9zZWxlY3Q+XG5cdFx0XHQ8L2xhYmVsPlxuXHRcdHs6ZWxzZSBpZiAkY29uZmlnLnNlbGVjdGVkX2dhbWUgPT09IEdhbWUucnMzfVxuXHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRkaXNhYmxlZD17IWJvbHQuaGFzQm9sdFBsdWdpbnN9XG5cdFx0XHRcdHRpdGxlPXtib2x0Lmhhc0JvbHRQbHVnaW5zID8gbnVsbCA6ICdDb21pbmcgc29vbi4uLid9XG5cdFx0XHRcdGNsYXNzPVwibXgtYXV0byBtYi0yIHctNTIgcm91bmRlZC1sZyBwLTIgZm9udC1ib2xkIHRleHQtYmxhY2sgZHVyYXRpb24tMjAwIGVuYWJsZWQ6YmctYmx1ZS01MDAgZW5hYmxlZDpob3ZlcjpvcGFjaXR5LTc1IGRpc2FibGVkOmJnLWdyYXktNTAwXCJcblx0XHRcdFx0b246Y2xpY2s9eygpID0+IHtcblx0XHRcdFx0XHRwbHVnaW5Nb2RhbC5vcGVuKCk7XG5cdFx0XHRcdH19XG5cdFx0XHQ+XG5cdFx0XHRcdFBsdWdpbiBtZW51XG5cdFx0XHQ8L2J1dHRvbj5cblx0XHR7L2lmfVxuXHQ8L2Rpdj5cblx0PGRpdiBjbGFzcz1cIm14LWF1dG8gbXktMlwiPlxuXHRcdDxsYWJlbD5cblx0XHRcdDxzcGFuIGNsYXNzPVwidGV4dC1zbVwiPkNoYXJhY3Rlcjwvc3Bhbj5cblxuXHRcdFx0PHNlbGVjdFxuXHRcdFx0XHRpZD1cImNoYXJhY3Rlcl9zZWxlY3RcIlxuXHRcdFx0XHRjbGFzcz1cIm14LWF1dG8gdy01MiBjdXJzb3ItcG9pbnRlciByb3VuZGVkLWxnIGJvcmRlci0yIGJvcmRlci1zbGF0ZS0zMDAgYmctaW5oZXJpdCBwLTIgdGV4dC1pbmhlcml0IGR1cmF0aW9uLTIwMCBob3ZlcjpvcGFjaXR5LTc1IGRhcms6Ym9yZGVyLXNsYXRlLTgwMFwiXG5cdFx0XHRcdGJpbmQ6dmFsdWU9eyRjb25maWcuc2VsZWN0ZWRfYWNjb3VudF9pZH1cblx0XHRcdD5cblx0XHRcdFx0eyNlYWNoIGFjY291bnRzIGFzIGFjY291bnR9XG5cdFx0XHRcdFx0PG9wdGlvbiB2YWx1ZT17YWNjb3VudC5hY2NvdW50SWR9IGNsYXNzPVwiZGFyazpiZy1zbGF0ZS05MDBcIj5cblx0XHRcdFx0XHRcdHsjaWYgYWNjb3VudC5kaXNwbGF5TmFtZX1cblx0XHRcdFx0XHRcdFx0e2FjY291bnQuZGlzcGxheU5hbWV9XG5cdFx0XHRcdFx0XHR7OmVsc2V9XG5cdFx0XHRcdFx0XHRcdE5ldyBDaGFyYWN0ZXJcblx0XHRcdFx0XHRcdHsvaWZ9XG5cdFx0XHRcdFx0PC9vcHRpb24+XG5cdFx0XHRcdHs6ZWxzZX1cblx0XHRcdFx0XHQ8b3B0aW9uIGNsYXNzPVwiZGFyazpiZy1zbGF0ZS05MDBcIiBkaXNhYmxlZCBzZWxlY3RlZD5ObyBjaGFyYWN0ZXJzPC9vcHRpb24+XG5cdFx0XHRcdHsvZWFjaH1cblx0XHRcdDwvc2VsZWN0PlxuXHRcdDwvbGFiZWw+XG5cdDwvZGl2PlxuPC9kaXY+XG4iLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuXHRpbXBvcnQgeyBTZXZlcml0eSwgdHlwZSBMb2cgfSBmcm9tICckbGliL1V0aWwvTG9nZ2VyJztcblxuXHRleHBvcnQgbGV0IGxvZ3M6IExvZ1tdO1xuPC9zY3JpcHQ+XG5cbjxkaXZcblx0Y2xhc3M9XCJmaXhlZCBib3R0b20tMCBoLTEvNCB3LXNjcmVlbiBib3JkZXItdC0yIGJvcmRlci10LXNsYXRlLTMwMCBiZy1zbGF0ZS0xMDAgZHVyYXRpb24tMjAwIGRhcms6Ym9yZGVyLXQtc2xhdGUtODAwIGRhcms6Ymctc2xhdGUtOTAwXCJcbj5cblx0PGRpdiBjbGFzcz1cImFic29sdXRlIHJpZ2h0LTYgdG9wLTJcIj5cblx0XHQ8aW1nXG5cdFx0XHRzcmM9XCJzdmdzL2NpcmNsZS1pbmZvLXNvbGlkLnN2Z1wiXG5cdFx0XHRhbHQ9XCJNZXNzYWdlIGxpc3QgaWNvblwiXG5cdFx0XHRjbGFzcz1cImgtNyB3LTcgcm91bmRlZC1mdWxsIGJnLWJsdWUtNTAwIHAtWzNweF0gZHVyYXRpb24tMjAwXCJcblx0XHQvPlxuXHQ8L2Rpdj5cblx0PG9sXG5cdFx0aWQ9XCJtZXNzYWdlX2xpc3RcIlxuXHRcdGNsYXNzPVwiaC1mdWxsIGxpc3QtaW5zaWRlIGxpc3QtZGlzYyBvdmVyZmxvdy15LWF1dG8gcGwtNSBwdC0xIG1hcmtlcjp0ZXh0LWJsdWUtNTAwXCJcblx0PlxuXHRcdHsjZWFjaCBsb2dzIGFzIHsgZGF0ZSwgc2V2ZXJpdHksIGNvbnRlbnQgfX1cblx0XHRcdDxsaVxuXHRcdFx0XHRjbGFzczp0ZXh0LXJvc2UtNTAwPXtzZXZlcml0eSA9PT0gU2V2ZXJpdHkuZXJyb3J9XG5cdFx0XHRcdGNsYXNzOnRleHQtb3JhbmdlLTcwMD17c2V2ZXJpdHkgPT09IFNldmVyaXR5Lndhcm59XG5cdFx0XHQ+XG5cdFx0XHRcdHtkYXRlPy50b0xvY2FsZVRpbWVTdHJpbmcoKX1cblx0XHRcdFx0LSB7Y29udGVudH1cblx0XHRcdDwvbGk+XG5cdFx0ey9lYWNofVxuXHQ8L29sPlxuPC9kaXY+XG4iLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuXHRpbXBvcnQgeyBsb2dnZXIgfSBmcm9tICckbGliL1V0aWwvTG9nZ2VyJztcblxuXHQvLyBvcGVucyBsb2NhbCBkYXRhIG9uIGRpc2tcblx0ZnVuY3Rpb24gb3BlbkRhdGFEaXIoKTogdm9pZCB7XG5cdFx0dmFyIHhtbCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXHRcdHhtbC5vcGVuKCdHRVQnLCAnL2Jyb3dzZS1kYXRhJyk7XG5cdFx0eG1sLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcblx0XHRcdGlmICh4bWwucmVhZHlTdGF0ZSA9PSA0KSB7XG5cdFx0XHRcdGxvZ2dlci5pbmZvKGBCcm93c2Ugc3RhdHVzOiAnJHt4bWwucmVzcG9uc2VUZXh0LnRyaW0oKX0nYCk7XG5cdFx0XHR9XG5cdFx0fTtcblx0XHR4bWwuc2VuZCgpO1xuXHR9XG48L3NjcmlwdD5cblxuPGRpdiBpZD1cImdlbmVyYWxfb3B0aW9uc1wiIGNsYXNzPVwiY29sLXNwYW4tMyBwLTUgcHQtMTBcIj5cblx0PGJ1dHRvblxuXHRcdGlkPVwiZGF0YV9kaXJfYnV0dG9uXCJcblx0XHRjbGFzcz1cInAtMiBob3ZlcjpvcGFjaXR5LTc1XCJcblx0XHRvbjpjbGljaz17KCkgPT4ge1xuXHRcdFx0b3BlbkRhdGFEaXIoKTtcblx0XHR9fVxuXHQ+XG5cdFx0PGRpdiBjbGFzcz1cImZsZXhcIj5cblx0XHRcdDxpbWdcblx0XHRcdFx0c3JjPVwic3Zncy9kYXRhYmFzZS1zb2xpZC5zdmdcIlxuXHRcdFx0XHRhbHQ9XCJCcm93c2UgYXBwIGRhdGFcIlxuXHRcdFx0XHRjbGFzcz1cIm1yLTIgaC03IHctNyByb3VuZGVkLWxnIGJnLXZpb2xldC01MDAgcC0xXCJcblx0XHRcdC8+XG5cdFx0XHRCcm93c2UgQXBwIERhdGFcblx0XHQ8L2Rpdj5cblx0PC9idXR0b24+XG48L2Rpdj5cbiIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XG5cdGltcG9ydCB7IEJvbHRTZXJ2aWNlIH0gZnJvbSAnJGxpYi9TZXJ2aWNlcy9Cb2x0U2VydmljZSc7XG5cdGltcG9ydCB7IEdsb2JhbFN0YXRlIH0gZnJvbSAnJGxpYi9TdGF0ZS9HbG9iYWxTdGF0ZSc7XG5cdGltcG9ydCB7IGxhdW5jaFJ1bmVMaXRlIH0gZnJvbSAnJGxpYi9VdGlsL2Z1bmN0aW9ucyc7XG5cblx0Y29uc3QgeyBjb25maWcgfSA9IEdsb2JhbFN0YXRlO1xuXG5cdCQ6IHNlbGVjdGVkU2Vzc2lvbiA9IEJvbHRTZXJ2aWNlLmZpbmRTZXNzaW9uKCRjb25maWcuc2VsZWN0ZWRfdXNlcl9pZCA/PyAnJyk7XG5cdCQ6IHNlbGVjdGVkQWNjb3VudCA9IEJvbHRTZXJ2aWNlLmZpbmRBY2NvdW50KFxuXHRcdHNlbGVjdGVkU2Vzc2lvbj8uYWNjb3VudHMgPz8gW10sXG5cdFx0JGNvbmZpZy5zZWxlY3RlZF9hY2NvdW50X2lkID8/ICcnXG5cdCk7XG5cdCQ6IGNvbmZpZ3VyZVJ1bmVMaXRlRGlzYWJsZWQgPSAhKHNlbGVjdGVkU2Vzc2lvbj8uc2Vzc2lvbl9pZCAmJiBzZWxlY3RlZEFjY291bnQ/LmFjY291bnRJZCk7XG5cblx0bGV0IGN1cnJlbnRseVBpY2tpbmdGaWxlID0gZmFsc2U7XG5cblx0YXN5bmMgZnVuY3Rpb24gb3BlbkZpbGVQaWNrZXIoKSB7XG5cdFx0Y3VycmVudGx5UGlja2luZ0ZpbGUgPSB0cnVlO1xuXHRcdCRjb25maWcucnVuZWxpdGVfY3VzdG9tX2phciA9IGF3YWl0IEJvbHRTZXJ2aWNlLm9wZW5GaWxlUGlja2VyKCk7XG5cdFx0Y29uc29sZS5sb2coJ2RvbmUgcGlja2luZycpO1xuXHRcdGN1cnJlbnRseVBpY2tpbmdGaWxlID0gZmFsc2U7XG5cdH1cblxuXHRmdW5jdGlvbiBsYXVuY2hDb25maWd1cmUoKTogdm9pZCB7XG5cdFx0aWYgKFxuXHRcdFx0IXNlbGVjdGVkU2Vzc2lvbj8uc2Vzc2lvbl9pZCB8fFxuXHRcdFx0IXNlbGVjdGVkQWNjb3VudD8uYWNjb3VudElkIHx8XG5cdFx0XHQhc2VsZWN0ZWRBY2NvdW50Py5kaXNwbGF5TmFtZVxuXHRcdCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGxhdW5jaFJ1bmVMaXRlKFxuXHRcdFx0c2VsZWN0ZWRTZXNzaW9uLnNlc3Npb25faWQsXG5cdFx0XHRzZWxlY3RlZEFjY291bnQuYWNjb3VudElkLFxuXHRcdFx0c2VsZWN0ZWRBY2NvdW50LmRpc3BsYXlOYW1lLFxuXHRcdFx0dHJ1ZVxuXHRcdCk7XG5cdH1cbjwvc2NyaXB0PlxuXG48ZGl2IGlkPVwib3Nyc19vcHRpb25zXCIgY2xhc3M9XCJjb2wtc3Bhbi0zIHAtNSBwdC0xMFwiPlxuXHQ8YnV0dG9uXG5cdFx0ZGlzYWJsZWQ9e2NvbmZpZ3VyZVJ1bmVMaXRlRGlzYWJsZWR9XG5cdFx0Y2xhc3M9XCJwLTIgcGItNSBob3ZlcjpvcGFjaXR5LTc1XCJcblx0XHRvbjpjbGljaz17KCkgPT4gbGF1bmNoQ29uZmlndXJlKCl9XG5cdD5cblx0XHQ8ZGl2IGNsYXNzPVwiZmxleFwiPlxuXHRcdFx0PGltZ1xuXHRcdFx0XHRzcmM9XCJzdmdzL3dyZW5jaC1zb2xpZC5zdmdcIlxuXHRcdFx0XHRhbHQ9XCJDb25maWd1cmUgUnVuZUxpdGVcIlxuXHRcdFx0XHRjbGFzcz1cIm1yLTIgaC03IHctNyByb3VuZGVkLWxnIGJnLXBpbmstNTAwIHAtMVwiXG5cdFx0XHQvPlxuXHRcdFx0Q29uZmlndXJlIFJ1bmVMaXRlXG5cdFx0PC9kaXY+XG5cdDwvYnV0dG9uPlxuXHQ8ZGl2IGNsYXNzPVwibXgtYXV0byBib3JkZXItdC0yIGJvcmRlci1zbGF0ZS0zMDAgcC0yIHB0LTUgZGFyazpib3JkZXItc2xhdGUtODAwXCI+XG5cdFx0PGxhYmVsIGZvcj1cInVzZV9jdXN0b21famFyXCI+VXNlIGN1c3RvbSBSdW5lTGl0ZSBKQVI6IDwvbGFiZWw+XG5cdFx0PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGJpbmQ6Y2hlY2tlZD17JGNvbmZpZy5ydW5lbGl0ZV91c2VfY3VzdG9tX2phcn0gY2xhc3M9XCJtbC0yXCIgLz5cblx0PC9kaXY+XG5cdDxkaXYgY2xhc3M9XCJteC1hdXRvIHAtMlwiIGNsYXNzOm9wYWNpdHktMjU9eyEkY29uZmlnLnJ1bmVsaXRlX3VzZV9jdXN0b21famFyfT5cblx0XHQ8dGV4dGFyZWFcblx0XHRcdGNsYXNzPVwiaC0xMCByb3VuZGVkIGJvcmRlci0yIGJvcmRlci1zbGF0ZS0zMDAgYmctc2xhdGUtMTAwIHRleHQtc2xhdGUtOTUwIGRhcms6Ym9yZGVyLXNsYXRlLTgwMCBkYXJrOmJnLXNsYXRlLTkwMCBkYXJrOnRleHQtc2xhdGUtNTBcIlxuXHRcdFx0ZGlzYWJsZWQ9eyEkY29uZmlnLnJ1bmVsaXRlX3VzZV9jdXN0b21famFyfVxuXHRcdFx0YmluZDp2YWx1ZT17JGNvbmZpZy5ydW5lbGl0ZV9jdXN0b21famFyfVxuXHRcdD48L3RleHRhcmVhPlxuXHRcdDxiciAvPlxuXHRcdDxidXR0b25cblx0XHRcdGNsYXNzPVwibXQtMSByb3VuZGVkLWxnIGJvcmRlci0yIGJvcmRlci1ibHVlLTUwMCBwLTEgZHVyYXRpb24tMjAwIGhvdmVyOm9wYWNpdHktNzVcIlxuXHRcdFx0ZGlzYWJsZWQ9e2N1cnJlbnRseVBpY2tpbmdGaWxlfVxuXHRcdFx0b246Y2xpY2s9eygpID0+IHtcblx0XHRcdFx0b3BlbkZpbGVQaWNrZXIoKTtcblx0XHRcdH19XG5cdFx0PlxuXHRcdFx0U2VsZWN0IEZpbGU8L2J1dHRvblxuXHRcdD5cblx0PC9kaXY+XG48L2Rpdj5cbiIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XG5cdGltcG9ydCB7IGJvbHQgfSBmcm9tICckbGliL1N0YXRlL0JvbHQnO1xuXHRpbXBvcnQgeyBHbG9iYWxTdGF0ZSB9IGZyb20gJyRsaWIvU3RhdGUvR2xvYmFsU3RhdGUnO1xuXG5cdGNvbnN0IHsgY29uZmlnIH0gPSBHbG9iYWxTdGF0ZTtcbjwvc2NyaXB0PlxuXG48ZGl2IGlkPVwicnMzX29wdGlvbnNcIiBjbGFzcz1cImNvbC1zcGFuLTMgcC01IHB0LTEwXCI+XG5cdHsjaWYgYm9sdC5oYXNCb2x0UGx1Z2luc31cblx0XHQ8ZGl2IGNsYXNzPVwibXgtYXV0byBwLTJcIj5cblx0XHRcdDxsYWJlbCBmb3I9XCJlbmFibGVfcGx1Z2luc1wiPkVuYWJsZSBCb2x0IHBsdWdpbiBsb2FkZXI6IDwvbGFiZWw+XG5cdFx0XHQ8aW5wdXRcblx0XHRcdFx0dHlwZT1cImNoZWNrYm94XCJcblx0XHRcdFx0bmFtZT1cImVuYWJsZV9wbHVnaW5zXCJcblx0XHRcdFx0aWQ9XCJlbmFibGVfcGx1Z2luc1wiXG5cdFx0XHRcdGJpbmQ6Y2hlY2tlZD17JGNvbmZpZy5yc19wbHVnaW5fbG9hZGVyfVxuXHRcdFx0XHRjbGFzcz1cIm1sLTJcIlxuXHRcdFx0Lz5cblx0XHQ8L2Rpdj5cblx0ey9pZn1cblx0PGRpdiBjbGFzcz1cIm14LWF1dG8gcC0yXCI+XG5cdFx0PGxhYmVsIGZvcj1cInVzZV9jdXN0b21fdXJpXCI+VXNlIGN1c3RvbSBjb25maWcgVVJJOiA8L2xhYmVsPlxuXHRcdDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBiaW5kOmNoZWNrZWQ9eyRjb25maWcudXNlX2N1c3RvbV9yc19jb25maWdfdXJpfSBjbGFzcz1cIm1sLTJcIiAvPlxuXHQ8L2Rpdj5cblx0PGRpdiBjbGFzcz1cInAtMlwiPlxuXHRcdDx0ZXh0YXJlYVxuXHRcdFx0Y2xhc3M9XCJyb3VuZGVkIGJvcmRlci0yIGJvcmRlci1zbGF0ZS0zMDAgYmctc2xhdGUtMTAwIHRleHQtc2xhdGUtOTUwIGRpc2FibGVkOm9wYWNpdHktNTAgZGFyazpib3JkZXItc2xhdGUtODAwIGRhcms6Ymctc2xhdGUtOTAwIGRhcms6dGV4dC1zbGF0ZS01MFwiXG5cdFx0XHRkaXNhYmxlZD17ISRjb25maWcudXNlX2N1c3RvbV9yc19jb25maWdfdXJpfVxuXHRcdFx0cm93cz1cIjRcIlxuXHRcdFx0cGxhY2Vob2xkZXI9e2JvbHQuZW52LmRlZmF1bHRfY29uZmlnX3VyaX1cblx0XHRcdGJpbmQ6dmFsdWU9eyRjb25maWcucnNfY29uZmlnX3VyaX1cblx0XHQvPlxuXHQ8L2Rpdj5cbjwvZGl2PlxuIiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cblx0aW1wb3J0IE1vZGFsIGZyb20gJyRsaWIvQ29tcG9uZW50cy9Db21tb25VSS9Nb2RhbC5zdmVsdGUnO1xuXHRpbXBvcnQgR2VuZXJhbFNldHRpbmdzVGFiIGZyb20gJyRsaWIvQ29tcG9uZW50cy9TZXR0aW5ncy9HZW5lcmFsU2V0dGluZ3NUYWIuc3ZlbHRlJztcblx0aW1wb3J0IE9zcnNTZXR0aW5nc1RhYiBmcm9tICckbGliL0NvbXBvbmVudHMvU2V0dGluZ3MvT3Nyc1NldHRpbmdzVGFiLnN2ZWx0ZSc7XG5cdGltcG9ydCBSczNTZXR0aW5nc1RhYiBmcm9tICckbGliL0NvbXBvbmVudHMvU2V0dGluZ3MvUnMzU2V0dGluZ3NUYWIuc3ZlbHRlJztcblxuXHRsZXQgbW9kYWw6IE1vZGFsO1xuXHRleHBvcnQgZnVuY3Rpb24gb3BlbigpIHtcblx0XHRtb2RhbC5vcGVuKCk7XG5cdH1cblxuXHQvLyBzZXR0aW5ncyBjYXRlZ29yaWVzXG5cdGVudW0gVGFiIHtcblx0XHRnZW5lcmFsLFxuXHRcdG9zcnMsXG5cdFx0cnMzXG5cdH1cblxuXHQvLyB2YXJpYWJsZXMgZm9yIHN3YXBwaW5nIG9wdGlvbnMgYW5kIHN0eWxpbmdcblx0bGV0IG9wZW5UYWI6IFRhYiA9IFRhYi5vc3JzO1xuXHRsZXQgYWN0aXZlQ2xhc3MgPVxuXHRcdCdib3JkZXItMiBib3JkZXItYmx1ZS01MDAgYmctYmx1ZS01MDAgaG92ZXI6b3BhY2l0eS03NSBmb250LWJvbGQgdGV4dC1ibGFjayBkdXJhdGlvbi0yMDAgcm91bmRlZC1sZyBwLTEgbXgtYXV0byBteS0xIHctMy80Jztcblx0bGV0IGluYWN0aXZlQ2xhc3MgPVxuXHRcdCdib3JkZXItMiBib3JkZXItYmx1ZS01MDAgaG92ZXI6b3BhY2l0eS03NSBkdXJhdGlvbi0yMDAgcm91bmRlZC1sZyBwLTEgbXgtYXV0byBteS0xIHctMy80Jztcbjwvc2NyaXB0PlxuXG48TW9kYWwgYmluZDp0aGlzPXttb2RhbH0gY2xhc3M9XCJoLTMvNCB3LTMvNFwiPlxuXHQ8ZGl2IGNsYXNzPVwiZ3JpZCBoLWZ1bGwgZ3JpZC1jb2xzLTRcIj5cblx0XHQ8ZGl2IGNsYXNzPVwicmVsYXRpdmUgaC1mdWxsIGJvcmRlci1yLTIgYm9yZGVyLXNsYXRlLTMwMCBwdC0xMCBkYXJrOmJvcmRlci1zbGF0ZS04MDBcIj5cblx0XHRcdDxidXR0b25cblx0XHRcdFx0Y2xhc3M9e29wZW5UYWIgPT09IFRhYi5nZW5lcmFsID8gYWN0aXZlQ2xhc3MgOiBpbmFjdGl2ZUNsYXNzfVxuXHRcdFx0XHRvbjpjbGljaz17KCkgPT4ge1xuXHRcdFx0XHRcdG9wZW5UYWIgPSBUYWIuZ2VuZXJhbDtcblx0XHRcdFx0fX0+R2VuZXJhbDwvYnV0dG9uXG5cdFx0XHQ+PGJyIC8+XG5cdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdGNsYXNzPXtvcGVuVGFiID09PSBUYWIub3NycyA/IGFjdGl2ZUNsYXNzIDogaW5hY3RpdmVDbGFzc31cblx0XHRcdFx0b246Y2xpY2s9eygpID0+IHtcblx0XHRcdFx0XHRvcGVuVGFiID0gVGFiLm9zcnM7XG5cdFx0XHRcdH19Pk9TUlM8L2J1dHRvblxuXHRcdFx0PjxiciAvPlxuXHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRjbGFzcz17b3BlblRhYiA9PT0gVGFiLnJzMyA/IGFjdGl2ZUNsYXNzIDogaW5hY3RpdmVDbGFzc31cblx0XHRcdFx0b246Y2xpY2s9eygpID0+IHtcblx0XHRcdFx0XHRvcGVuVGFiID0gVGFiLnJzMztcblx0XHRcdFx0fX0+UlMzPC9idXR0b25cblx0XHRcdD5cblx0XHQ8L2Rpdj5cblxuXHRcdHsjaWYgb3BlblRhYiA9PSBUYWIuZ2VuZXJhbH1cblx0XHRcdDxHZW5lcmFsU2V0dGluZ3NUYWIgLz5cblx0XHR7OmVsc2UgaWYgb3BlblRhYiA9PSBUYWIub3Nyc31cblx0XHRcdDxPc3JzU2V0dGluZ3NUYWIgLz5cblx0XHR7OmVsc2UgaWYgb3BlblRhYiA9PSBUYWIucnMzfVxuXHRcdFx0PFJzM1NldHRpbmdzVGFiIC8+XG5cdFx0ey9pZn1cblx0PC9kaXY+XG48L01vZGFsPlxuIiwiaW50ZXJmYWNlIElPcHRpb25zIHtcblx0Y2FsbGJhY2s6ICgpID0+IHZvaWQ7XG5cdGlnbm9yZT86IEhUTUxFbGVtZW50W107XG59XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9UaDFua0sxRC9zdmVsdGUtdXNlLWNsaWNrLW91dHNpZGVcbmZ1bmN0aW9uIGNsaWNrT3V0c2lkZShcblx0bm9kZTogSFRNTEVsZW1lbnQsXG5cdHsgY2FsbGJhY2ssIGlnbm9yZSA9IFtdIH06IElPcHRpb25zXG4pOiB7IGRlc3Ryb3k6ICgpID0+IHZvaWQgfSB7XG5cdGNvbnN0IG9uQ2xpY2sgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcblx0XHRjb25zdCB0YXJnZXRJc0lnbm9yZWQgPSBpZ25vcmUuc29tZSgoZWwpID0+IGVsLmNvbnRhaW5zKGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudCkpO1xuXG5cdFx0aWYgKFxuXHRcdFx0bm9kZSAmJlxuXHRcdFx0IW5vZGUuY29udGFpbnMoZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50KSAmJlxuXHRcdFx0IWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgJiZcblx0XHRcdCF0YXJnZXRJc0lnbm9yZWRcblx0XHQpIHtcblx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0fVxuXHR9O1xuXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbGljaywgdHJ1ZSk7XG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51Jywgb25DbGljaywgdHJ1ZSk7XG5cblx0cmV0dXJuIHtcblx0XHRkZXN0cm95KCkge1xuXHRcdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNsaWNrLCB0cnVlKTtcblx0XHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51Jywgb25DbGljaywgdHJ1ZSk7XG5cdFx0fVxuXHR9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGlja091dHNpZGU7XG4iLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuXHRpbXBvcnQgY2xpY2tPdXRzaWRlIGZyb20gJyRsaWIvVXRpbC9DbGlja091dHNpZGUnO1xuXG5cdGxldCBjbGFzc05hbWUgPSAnJztcblx0ZXhwb3J0IHsgY2xhc3NOYW1lIGFzIGNsYXNzIH07XG5cdGV4cG9ydCBsZXQgcG9zaXRpb246ICd0b3AnIHwgJ3JpZ2h0JyB8ICdib3R0b20nIHwgJ2xlZnQnID0gJ2JvdHRvbSc7XG5cdGV4cG9ydCBsZXQgYWxpZ246ICdzdGFydCcgfCAnY2VudGVyJyB8ICdlbmQnID0gJ3N0YXJ0JztcblxuXHRsZXQgaXNPcGVuID0gZmFsc2U7XG5cdGxldCBvcGVuQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcblxuXHRleHBvcnQgZnVuY3Rpb24gb3BlbigpIHtcblx0XHRpc09wZW4gPSB0cnVlO1xuXHR9XG5cblx0ZXhwb3J0IGZ1bmN0aW9uIGNsb3NlKCkge1xuXHRcdGlzT3BlbiA9IGZhbHNlO1xuXHR9XG5cblx0ZnVuY3Rpb24gdG9nZ2xlKCkge1xuXHRcdGlzT3BlbiA/IGNsb3NlKCkgOiBvcGVuKCk7XG5cdH1cbjwvc2NyaXB0PlxuXG48ZGl2IGNsYXNzPVwicmVsYXRpdmUgaC1maXQgdy1maXQge2NsYXNzTmFtZX1cIj5cblx0PGJ1dHRvbiBiaW5kOnRoaXM9e29wZW5CdXR0b259IG9uOmNsaWNrPXt0b2dnbGV9PjxzbG90IC8+PC9idXR0b24+XG5cblx0eyNpZiBpc09wZW59XG5cdFx0PGRpdlxuXHRcdFx0Y2xhc3M9XCJkcm9wZG93bi1jb2xvciBhYnNvbHV0ZSB6LTIwIHJvdW5kZWQtbGcgYm9yZGVyLTIge3Bvc2l0aW9ufSB7YWxpZ259XCJcblx0XHRcdHVzZTpjbGlja091dHNpZGU9e3sgY2FsbGJhY2s6IGNsb3NlLCBpZ25vcmU6IFtvcGVuQnV0dG9uXSB9fVxuXHRcdD5cblx0XHRcdDxzbG90IG5hbWU9XCJjb250ZW50XCIgLz5cblx0XHQ8L2Rpdj5cblx0ey9pZn1cbjwvZGl2PlxuXG48c3R5bGUgbGFuZz1cInBvc3Rjc3NcIj5cblx0LmRyb3Bkb3duLWNvbG9yIHtcblx0XHRAYXBwbHkgYm9yZGVyLXNsYXRlLTMwMCBiZy1zbGF0ZS0xMDAgcC0zIHNoYWRvdyBkYXJrOmJvcmRlci1zbGF0ZS04MDAgZGFyazpiZy1zbGF0ZS05MDA7XG5cdH1cblxuXHQudG9wIHtcblx0XHRib3R0b206IDEwMCU7XG5cdFx0QGFwcGx5IG1iLTE7XG5cdH1cblxuXHQuYm90dG9tIHtcblx0XHR0b3A6IDEwMCU7XG5cdFx0QGFwcGx5IG10LTE7XG5cdH1cblxuXHQudG9wLnN0YXJ0LFxuXHQuYm90dG9tLnN0YXJ0IHtcblx0XHRsZWZ0OiAwO1xuXHR9XG5cblx0LnRvcC5jZW50ZXIsXG5cdC5ib3R0b20uY2VudGVyIHtcblx0XHRsZWZ0OiA1MCU7XG5cdFx0dHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xuXHR9XG5cblx0LnRvcC5lbmQsXG5cdC5ib3R0b20uZW5kIHtcblx0XHRyaWdodDogMDtcblx0fVxuXG5cdC5sZWZ0IHtcblx0XHRyaWdodDogMTAwJTtcblx0XHRAYXBwbHkgbXItMTtcblx0fVxuXG5cdC5yaWdodCB7XG5cdFx0bGVmdDogMTAwJTtcblx0XHRAYXBwbHkgbWwtMTtcblx0fVxuXG5cdC5sZWZ0LnN0YXJ0LFxuXHQucmlnaHQuc3RhcnQge1xuXHRcdHRvcDogMDtcblx0fVxuXG5cdC5sZWZ0LmNlbnRlcixcblx0LnJpZ2h0LmNlbnRlciB7XG5cdFx0dG9wOiA1MCU7XG5cdFx0dHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xuXHR9XG5cblx0LmxlZnQuZW5kLFxuXHQucmlnaHQuZW5kIHtcblx0XHRib3R0b206IDA7XG5cdH1cbjwvc3R5bGU+XG4iLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuXHRpbXBvcnQgeyBBdXRoU2VydmljZSB9IGZyb20gJyRsaWIvU2VydmljZXMvQXV0aFNlcnZpY2UnO1xuXHRpbXBvcnQgeyBCb2x0U2VydmljZSB9IGZyb20gJyRsaWIvU2VydmljZXMvQm9sdFNlcnZpY2UnO1xuXHRpbXBvcnQgeyBib2x0IH0gZnJvbSAnJGxpYi9TdGF0ZS9Cb2x0Jztcblx0aW1wb3J0IHsgR2xvYmFsU3RhdGUgfSBmcm9tICckbGliL1N0YXRlL0dsb2JhbFN0YXRlJztcblxuXHRjb25zdCB7IHNlc3Npb25zLCBjb25maWcgfSA9IEdsb2JhbFN0YXRlO1xuPC9zY3JpcHQ+XG5cbjxzZWxlY3Rcblx0Y2xhc3M9XCJ3LWZ1bGwgY3Vyc29yLXBvaW50ZXIgcm91bmRlZC1sZyBib3JkZXItMiBib3JkZXItaW5oZXJpdCBiZy1pbmhlcml0IHAtMiB0ZXh0LWNlbnRlclwiXG5cdGJpbmQ6dmFsdWU9eyRjb25maWcuc2VsZWN0ZWRfdXNlcl9pZH1cbj5cblx0eyNlYWNoICRzZXNzaW9ucyBhcyBzZXNzaW9uIChzZXNzaW9uLnVzZXIudXNlcklkKX1cblx0XHQ8b3B0aW9uXG5cdFx0XHRzZWxlY3RlZD17c2Vzc2lvbi51c2VyLnVzZXJJZCA9PT0gJGNvbmZpZy5zZWxlY3RlZF91c2VyX2lkfVxuXHRcdFx0dmFsdWU9e3Nlc3Npb24udXNlci51c2VySWR9XG5cdFx0XHRjbGFzcz1cImRhcms6Ymctc2xhdGUtOTAwXCI+e3Nlc3Npb24udXNlci5kaXNwbGF5TmFtZX08L29wdGlvblxuXHRcdD5cblx0ey9lYWNofVxuPC9zZWxlY3Q+XG5cbjxkaXYgY2xhc3M9XCJtdC01IGZsZXhcIj5cblx0PGJ1dHRvblxuXHRcdGNsYXNzPVwibXgtYXV0byBtci0yIHJvdW5kZWQtbGcgYmctYmx1ZS01MDAgcC0yIGZvbnQtYm9sZCB0ZXh0LWJsYWNrIGR1cmF0aW9uLTIwMCBob3ZlcjpvcGFjaXR5LTc1XCJcblx0XHRvbjpjbGljaz17KCkgPT4ge1xuXHRcdFx0Y29uc3QgeyBvcmlnaW4sIHJlZGlyZWN0LCBjbGllbnRpZCB9ID0gYm9sdC5lbnY7XG5cdFx0XHRBdXRoU2VydmljZS5vcGVuTG9naW5XaW5kb3cob3JpZ2luLCByZWRpcmVjdCwgY2xpZW50aWQpO1xuXHRcdH19XG5cdD5cblx0XHRMb2cgSW5cblx0PC9idXR0b24+XG5cdDxidXR0b25cblx0XHRjbGFzcz1cIm14LWF1dG8gcm91bmRlZC1sZyBib3JkZXItMiBib3JkZXItYmx1ZS01MDAgcC0yIGZvbnQtYm9sZCBkdXJhdGlvbi0yMDAgaG92ZXI6b3BhY2l0eS03NVwiXG5cdFx0ZGlzYWJsZWQ9eyEkY29uZmlnLnNlbGVjdGVkX3VzZXJfaWR9XG5cdFx0b246Y2xpY2s9eygpID0+IHtcblx0XHRcdGlmICghJGNvbmZpZy5zZWxlY3RlZF91c2VyX2lkKSByZXR1cm47XG5cdFx0XHRCb2x0U2VydmljZS5sb2dvdXQoJGNvbmZpZy5zZWxlY3RlZF91c2VyX2lkKTtcblx0XHR9fVxuXHQ+XG5cdFx0TG9nIE91dFxuXHQ8L2J1dHRvbj5cbjwvZGl2PlxuIiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cblx0aW1wb3J0IHsgR2FtZSB9IGZyb20gJyRsaWIvVXRpbC9pbnRlcmZhY2VzJztcblx0aW1wb3J0IFNldHRpbmdzTW9kYWwgZnJvbSAnJGxpYi9Db21wb25lbnRzL1NldHRpbmdzTW9kYWwuc3ZlbHRlJztcblx0aW1wb3J0IERyb3Bkb3duIGZyb20gJyRsaWIvQ29tcG9uZW50cy9Db21tb25VSS9Ecm9wZG93bi5zdmVsdGUnO1xuXHRpbXBvcnQgeyBBdXRoU2VydmljZSB9IGZyb20gJyRsaWIvU2VydmljZXMvQXV0aFNlcnZpY2UnO1xuXHRpbXBvcnQgeyBib2x0IH0gZnJvbSAnJGxpYi9TdGF0ZS9Cb2x0Jztcblx0aW1wb3J0IEFjY291bnREcm9wZG93bkNvbnRlbnQgZnJvbSAnJGxpYi9Db21wb25lbnRzL0FjY291bnREcm9wZG93bkNvbnRlbnQuc3ZlbHRlJztcblx0aW1wb3J0IHsgR2xvYmFsU3RhdGUgfSBmcm9tICckbGliL1N0YXRlL0dsb2JhbFN0YXRlJztcblx0aW1wb3J0IHsgQm9sdFNlcnZpY2UgfSBmcm9tICckbGliL1NlcnZpY2VzL0JvbHRTZXJ2aWNlJztcblxuXHRjb25zdCB7IGNvbmZpZywgc2Vzc2lvbnMgfSA9IEdsb2JhbFN0YXRlO1xuXHRsZXQgc2V0dGluZ3NNb2RhbDogU2V0dGluZ3NNb2RhbDtcbjwvc2NyaXB0PlxuXG48U2V0dGluZ3NNb2RhbCBiaW5kOnRoaXM9e3NldHRpbmdzTW9kYWx9PjwvU2V0dGluZ3NNb2RhbD5cblxuPGRpdlxuXHRjbGFzcz1cImZpeGVkIHRvcC0wIGZsZXggaC0xNiB3LXNjcmVlbiBib3JkZXItYi0yIGJvcmRlci1zbGF0ZS0zMDAgYmctc2xhdGUtMTAwIGR1cmF0aW9uLTIwMCBkYXJrOmJvcmRlci1zbGF0ZS04MDAgZGFyazpiZy1zbGF0ZS05MDBcIlxuPlxuXHQ8ZGl2IGNsYXNzPVwibS0zIG1sLTkgZm9udC1ib2xkXCI+XG5cdFx0PGJ1dHRvblxuXHRcdFx0Y2xhc3M9XCJteC0xIHctMjAgcm91bmRlZC1sZyBib3JkZXItMiBib3JkZXItYmx1ZS01MDAgcC0yIGR1cmF0aW9uLTIwMCBob3ZlcjpvcGFjaXR5LTc1XCJcblx0XHRcdGNsYXNzOnRleHQtYmxhY2s9eyRjb25maWcuc2VsZWN0ZWRfZ2FtZSA9PT0gR2FtZS5yczN9XG5cdFx0XHRjbGFzczpiZy1ibHVlLTUwMD17JGNvbmZpZy5zZWxlY3RlZF9nYW1lID09PSBHYW1lLnJzM31cblx0XHRcdG9uOmNsaWNrPXsoKSA9PiB7XG5cdFx0XHRcdCRjb25maWcuc2VsZWN0ZWRfZ2FtZSA9IEdhbWUucnMzO1xuXHRcdFx0fX1cblx0XHQ+XG5cdFx0XHRSUzNcblx0XHQ8L2J1dHRvbj5cblx0XHQ8YnV0dG9uXG5cdFx0XHRjbGFzcz1cIm14LTEgdy0yMCByb3VuZGVkLWxnIGJvcmRlci0yIGJvcmRlci1ibHVlLTUwMCBiZy1ibHVlLTUwMCBwLTIgdGV4dC1ibGFjayBkdXJhdGlvbi0yMDAgaG92ZXI6b3BhY2l0eS03NVwiXG5cdFx0XHRjbGFzczp0ZXh0LWJsYWNrPXskY29uZmlnLnNlbGVjdGVkX2dhbWUgPT09IEdhbWUub3Nyc31cblx0XHRcdGNsYXNzOmJnLWJsdWUtNTAwPXskY29uZmlnLnNlbGVjdGVkX2dhbWUgPT09IEdhbWUub3Nyc31cblx0XHRcdG9uOmNsaWNrPXsoKSA9PiB7XG5cdFx0XHRcdCRjb25maWcuc2VsZWN0ZWRfZ2FtZSA9IEdhbWUub3Nycztcblx0XHRcdH19XG5cdFx0PlxuXHRcdFx0T1NSU1xuXHRcdDwvYnV0dG9uPlxuXHQ8L2Rpdj5cblx0PGRpdiBjbGFzcz1cIm0tMiBtbC1hdXRvIGZsZXggZ2FwLTJcIj5cblx0XHQ8YnV0dG9uXG5cdFx0XHRjbGFzcz1cImgtMTAgdy0xMCByb3VuZGVkLWZ1bGwgYmctYmx1ZS01MDAgdGV4dC1jZW50ZXIgZHVyYXRpb24tMjAwIGhvdmVyOnJvdGF0ZS00NSBob3ZlcjpvcGFjaXR5LTc1XCJcblx0XHRcdG9uOmNsaWNrPXsoKSA9PiAoJGNvbmZpZy51c2VfZGFya190aGVtZSA9ICEkY29uZmlnLnVzZV9kYXJrX3RoZW1lKX1cblx0XHQ+XG5cdFx0XHQ8aW1nIHNyYz1cInN2Z3MvbGlnaHRidWxiLXNvbGlkLnN2Z1wiIGNsYXNzPVwibS1hdXRvIGgtNiB3LTZcIiBhbHQ9XCJDaGFuZ2UgVGhlbWVcIiAvPlxuXHRcdDwvYnV0dG9uPlxuXHRcdDxidXR0b25cblx0XHRcdGNsYXNzPVwiaC0xMCB3LTEwIHJvdW5kZWQtZnVsbCBiZy1ibHVlLTUwMCB0ZXh0LWNlbnRlciBkdXJhdGlvbi0yMDAgaG92ZXI6cm90YXRlLTQ1IGhvdmVyOm9wYWNpdHktNzVcIlxuXHRcdFx0b246Y2xpY2s9eygpID0+IHNldHRpbmdzTW9kYWwub3BlbigpfVxuXHRcdD5cblx0XHRcdDxpbWcgc3JjPVwic3Zncy9nZWFyLXNvbGlkLnN2Z1wiIGNsYXNzPVwibS1hdXRvIGgtNiB3LTZcIiBhbHQ9XCJTZXR0aW5nc1wiIC8+XG5cdFx0PC9idXR0b24+XG5cdFx0eyNpZiAkc2Vzc2lvbnMubGVuZ3RoID4gMH1cblx0XHRcdHtAY29uc3Qgc2VsZWN0ZWRTZXNzaW9uID0gQm9sdFNlcnZpY2UuZmluZFNlc3Npb24oJGNvbmZpZy5zZWxlY3RlZF91c2VyX2lkID8/ICcnKX1cblx0XHRcdDxEcm9wZG93biBhbGlnbj1cImNlbnRlclwiPlxuXHRcdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdFx0Y2xhc3M9XCJoLTExIHctNDggcm91bmRlZC1sZyBib3JkZXItMiBib3JkZXItc2xhdGUtMzAwIGJnLWluaGVyaXQgdGV4dC1jZW50ZXIgZm9udC1ib2xkIHRleHQtYmxhY2sgZHVyYXRpb24tMjAwIGhvdmVyOm9wYWNpdHktNzUgZGFyazpib3JkZXItc2xhdGUtODAwIGRhcms6dGV4dC1zbGF0ZS01MFwiXG5cdFx0XHRcdD5cblx0XHRcdFx0XHR7c2VsZWN0ZWRTZXNzaW9uPy51c2VyLmRpc3BsYXlOYW1lID8/ICdObyB1c2VyIHNlbGVjdGVkJ31cblx0XHRcdFx0PC9idXR0b24+XG5cblx0XHRcdFx0PGRpdiBzbG90PVwiY29udGVudFwiIGNsYXNzPVwidy00MFwiPlxuXHRcdFx0XHRcdDxBY2NvdW50RHJvcGRvd25Db250ZW50IC8+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9Ecm9wZG93bj5cblx0XHR7OmVsc2V9XG5cdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdGNsYXNzPVwiaC0xMSB3LTQ4IHJvdW5kZWQtbGcgYm9yZGVyLTIgYm9yZGVyLXNsYXRlLTMwMCBiZy1pbmhlcml0IHAtMiB0ZXh0LWNlbnRlciBmb250LWJvbGQgdGV4dC1ibGFjayBkdXJhdGlvbi0yMDAgaG92ZXI6b3BhY2l0eS03NSBkYXJrOmJvcmRlci1zbGF0ZS04MDAgZGFyazp0ZXh0LXNsYXRlLTUwXCJcblx0XHRcdFx0b246Y2xpY2s9eygpID0+IHtcblx0XHRcdFx0XHRjb25zdCB7IG9yaWdpbiwgcmVkaXJlY3QsIGNsaWVudGlkIH0gPSBib2x0LmVudjtcblx0XHRcdFx0XHRBdXRoU2VydmljZS5vcGVuTG9naW5XaW5kb3cob3JpZ2luLCByZWRpcmVjdCwgY2xpZW50aWQpO1xuXHRcdFx0XHR9fVxuXHRcdFx0PlxuXHRcdFx0XHRMb2dpblxuXHRcdFx0PC9idXR0b24+XG5cdFx0ey9pZn1cblx0PC9kaXY+XG48L2Rpdj5cbiIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XG5cdGltcG9ydCBEaXNjbGFpbWVyTW9kYWwgZnJvbSAnJGxpYi9Db21wb25lbnRzL0Rpc2NsYWltZXJNb2RhbC5zdmVsdGUnO1xuXHRpbXBvcnQgTGF1bmNoIGZyb20gJyRsaWIvQ29tcG9uZW50cy9MYXVuY2guc3ZlbHRlJztcblx0aW1wb3J0IExvZ1ZpZXcgZnJvbSAnJGxpYi9Db21wb25lbnRzL0xvZ1ZpZXcuc3ZlbHRlJztcblx0aW1wb3J0IE1haW5MYXlvdXQgZnJvbSAnJGxpYi9Db21wb25lbnRzL01haW5MYXlvdXQuc3ZlbHRlJztcblx0aW1wb3J0IFRvcEJhciBmcm9tICckbGliL0NvbXBvbmVudHMvVG9wQmFyLnN2ZWx0ZSc7XG5cdGltcG9ydCB7IEJvbHRTZXJ2aWNlIH0gZnJvbSAnJGxpYi9TZXJ2aWNlcy9Cb2x0U2VydmljZSc7XG5cdGltcG9ydCB7IGxvZ2dlciB9IGZyb20gJyRsaWIvVXRpbC9Mb2dnZXInO1xuXG5cdGNvbnN0IGxvZ3MgPSBsb2dnZXIubG9ncztcbjwvc2NyaXB0PlxuXG48c3ZlbHRlOndpbmRvdyBvbjpiZWZvcmV1bmxvYWQ9eygpID0+IEJvbHRTZXJ2aWNlLnNhdmVDb25maWcoKX0gLz5cblxuPE1haW5MYXlvdXQ+XG5cdDxEaXNjbGFpbWVyTW9kYWwgLz5cblx0PFRvcEJhcj48L1RvcEJhcj5cblx0PGRpdiBjbGFzcz1cIm10LTE2IGdyaWQgaC1mdWxsIGdyaWQtZmxvdy1jb2wgZ3JpZC1jb2xzLTNcIj5cblx0XHQ8ZGl2PjwvZGl2PlxuXHRcdDxMYXVuY2g+PC9MYXVuY2g+XG5cdFx0PGRpdj48L2Rpdj5cblx0PC9kaXY+XG5cdDxMb2dWaWV3IGxvZ3M9eyRsb2dzfSAvPlxuPC9NYWluTGF5b3V0PlxuIiwiaW1wb3J0IHsgQXV0aFNlcnZpY2UsIHR5cGUgQXV0aFRva2VucyB9IGZyb20gJyRsaWIvU2VydmljZXMvQXV0aFNlcnZpY2UnO1xuaW1wb3J0IHsgQm9sdFNlcnZpY2UgfSBmcm9tICckbGliL1NlcnZpY2VzL0JvbHRTZXJ2aWNlJztcbmltcG9ydCB7IFVzZXJTZXJ2aWNlLCB0eXBlIFNlc3Npb24gfSBmcm9tICckbGliL1NlcnZpY2VzL1VzZXJTZXJ2aWNlJztcbmltcG9ydCB7IFBsYXRmb3JtLCBib2x0IH0gZnJvbSAnJGxpYi9TdGF0ZS9Cb2x0JztcbmltcG9ydCB7IEdsb2JhbFN0YXRlIH0gZnJvbSAnJGxpYi9TdGF0ZS9HbG9iYWxTdGF0ZSc7XG5pbXBvcnQgeyBpbml0Q29uZmlnLCBzZWxlY3RGaXJzdFNlc3Npb24gfSBmcm9tICckbGliL1V0aWwvQ29uZmlnVXRpbHMnO1xuaW1wb3J0IHsgZ2V0TmV3Q2xpZW50TGlzdFByb21pc2UgfSBmcm9tICckbGliL1V0aWwvZnVuY3Rpb25zJztcbmltcG9ydCB7IHR5cGUgQm9sdE1lc3NhZ2UgfSBmcm9tICckbGliL1V0aWwvaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICckbGliL1V0aWwvTG9nZ2VyJztcbmltcG9ydCB7IGNsaWVudExpc3RQcm9taXNlIH0gZnJvbSAnJGxpYi9VdGlsL3N0b3JlJztcbmltcG9ydCBBdXRoQXBwIGZyb20gJ0AvQXV0aEFwcC5zdmVsdGUnO1xuaW1wb3J0IEJvbHRBcHAgZnJvbSAnQC9Cb2x0QXBwLnN2ZWx0ZSc7XG5pbXBvcnQgeyBnZXQgfSBmcm9tICdzdmVsdGUvc3RvcmUnO1xuXG5sZXQgYXBwOiBCb2x0QXBwIHwgQXV0aEFwcDtcbmNvbnN0IGFwcENvbmZpZyA9IHtcblx0dGFyZ2V0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJykgYXMgSFRNTEVsZW1lbnRcbn07XG5cbi8vIFRPRE86IGluc3RlYWQgb2YgcmVuZGVyaW5nIGRpZmZlcmVudCBhcHBzIGhlcmUsIHdlIHNob3VsZCBoYXZlIHNlcGFyYXRlIC5odG1sIGZpbGVzLlxuLy8gRm9yIGVnLCBpbmRleC5odG1sLCBhbmQgYXV0aGVudGljYXRlLmh0bWxcbi8vIHdpbmRvdy5vcGVuZXIgaXMgc2V0IHdoZW4gdGhlIGN1cnJlbnQgd2luZG93IGlzIGEgcG9wdXAgKHRoZSBhdXRoIHdpbmRvdylcbi8vIGlkX3Rva2VuIGlzIHNldCBhZnRlciBzZW5kaW5nIHRoZSBjb25zZW50IHJlcXVlc3QsIGFrYSB0aGUgdXNlciBpcyBzdGlsbCBhdXRoZW50aWNhdGluZ1xuaWYgKHdpbmRvdy5vcGVuZXIgfHwgd2luZG93LmxvY2F0aW9uLnNlYXJjaC5pbmNsdWRlcygnJmlkX3Rva2VuJykpIHtcblx0YXBwID0gbmV3IEF1dGhBcHAoYXBwQ29uZmlnKTtcbn0gZWxzZSB7XG5cdHNldHVwQm9sdEFwcCgpO1xuXHRhcHAgPSBuZXcgQm9sdEFwcChhcHBDb25maWcpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBhcHA7XG5cbmFzeW5jIGZ1bmN0aW9uIHNldHVwQm9sdEFwcCgpIHtcblx0aW5pdEJvbHQoKTtcblx0Ly8gcmVmcmVzaFN0b3JlZFNlc3Npb25zIG5lZWRzIHRvIGhhcHBlbiBiZWZvcmUgaW5pdENvbmZpZywgc2luY2UgaW5pdENvbmZpZyBjb250YWlucyBjb2RlIHRoYXRcblx0Ly8gY2hhbmdlcyB0aGUgc2VsZWN0ZWQgc2Vzc2lvbi9hY2NvdW50IGlmIHRoZXkgYXJlbid0IGluIHRoZSBsaXN0IG9mIGF2YWlsYWJsZSBvcHRpb25zLlxuXHQvLyBUaGUgb25lIGRyYXdiYWNrIHRvIHRoaXMgbWV0aG9kLCBpcyBpZiB0aGUgdXNlciBwaWNrcyBsaWdodCBtb2RlLCBpdCB3aWxsIHNob3cgZGFyayBtb2RlIGZpcnN0XG5cdC8vIGFuZCBjaGFuZ2UgdG8gd2hpdGUgbW9kZSBhZnRlciByZWZyZXNoaW5nLlxuXHRhd2FpdCByZWZyZXNoU3RvcmVkU2Vzc2lvbnMoKTtcblx0aW5pdENvbmZpZygpO1xuXHRhZGRNZXNzYWdlTGlzdGVuZXJzKCk7XG59XG5cbmZ1bmN0aW9uIGluaXRCb2x0KCkge1xuXHRjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuXHRib2x0LnBsYXRmb3JtID0gcGFyYW1zLmdldCgncGxhdGZvcm0nKSBhcyBQbGF0Zm9ybSB8IG51bGw7XG5cdGJvbHQuaXNGbGF0aHViID0gcGFyYW1zLmdldCgnZmxhdGh1YicpID09PSAnMSc7XG5cdGJvbHQucnMzRGViSW5zdGFsbGVkSGFzaCA9IHBhcmFtcy5nZXQoJ3JzM19kZWJfaW5zdGFsbGVkX2hhc2gnKTtcblx0Ym9sdC5yczNFeGVJbnN0YWxsZWRIYXNoID0gcGFyYW1zLmdldCgncnMzX2V4ZV9pbnN0YWxsZWRfaGFzaCcpO1xuXHRib2x0LnJzM0FwcEluc3RhbGxlZEhhc2ggPSBwYXJhbXMuZ2V0KCdyczNfYXBwX2luc3RhbGxlZF9oYXNoJyk7XG5cdGJvbHQub3Nyc0V4ZUluc3RhbGxlZEhhc2ggPSBwYXJhbXMuZ2V0KCdvc3JzX2V4ZV9pbnN0YWxsZWRfaGFzaCcpO1xuXHRib2x0Lm9zcnNBcHBJbnN0YWxsZWRIYXNoID0gcGFyYW1zLmdldCgnb3Nyc19hcHBfaW5zdGFsbGVkX2hhc2gnKTtcblx0Ym9sdC5ydW5lTGl0ZUluc3RhbGxlZElkID0gcGFyYW1zLmdldCgncnVuZWxpdGVfaW5zdGFsbGVkX2lkJyk7XG5cdGJvbHQuaGRvc0luc3RhbGxlZFZlcnNpb24gPSBwYXJhbXMuZ2V0KCdoZG9zX2luc3RhbGxlZF92ZXJzaW9uJyk7XG5cblx0Y29uc3QgcGx1Z2lucyA9IHBhcmFtcy5nZXQoJ3BsdWdpbnMnKTtcblx0Ym9sdC5oYXNCb2x0UGx1Z2lucyA9IHBsdWdpbnMgIT09IG51bGw7XG5cdGlmIChwbHVnaW5zICE9PSBudWxsKSB7XG5cdFx0dHJ5IHtcblx0XHRcdGJvbHQucGx1Z2luTGlzdCA9IEpTT04ucGFyc2UocGx1Z2lucyk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0bG9nZ2VyLmVycm9yKCdVbmFibGUgdG8gcGFyc2UgcGx1Z2luIGxpc3QnKTtcblx0XHR9XG5cdH1cblxuXHRjb25zdCBzZXNzaW9uc1BhcmFtID0gcGFyYW1zLmdldCgnY3JlZGVudGlhbHMnKTtcblx0aWYgKHNlc3Npb25zUGFyYW0pIHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3Qgc2Vzc2lvbnMgPSBKU09OLnBhcnNlKHNlc3Npb25zUGFyYW0pIGFzIFNlc3Npb25bXTtcblx0XHRcdGNvbnN0IHZhbGlkQ29uZmlnID0gc2Vzc2lvbnMuZXZlcnkoKHNlc3Npb24pID0+IHtcblx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHR0eXBlb2Ygc2Vzc2lvbi5zZXNzaW9uX2lkID09PSAnc3RyaW5nJyAmJlxuXHRcdFx0XHRcdHR5cGVvZiBzZXNzaW9uLnRva2VucyA9PT0gJ29iamVjdCcgJiZcblx0XHRcdFx0XHR0eXBlb2Ygc2Vzc2lvbi5hY2NvdW50cyA9PT0gJ29iamVjdCcgJiZcblx0XHRcdFx0XHR0eXBlb2Ygc2Vzc2lvbi51c2VyID09PSAnb2JqZWN0J1xuXHRcdFx0XHQpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGlmICh2YWxpZENvbmZpZykge1xuXHRcdFx0XHRHbG9iYWxTdGF0ZS5zZXNzaW9ucy5zZXQoc2Vzc2lvbnMpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0R2xvYmFsU3RhdGUuc2Vzc2lvbnMuc2V0KFtdKTtcblx0XHRcdFx0Qm9sdFNlcnZpY2Uuc2F2ZUNyZWRlbnRpYWxzKCk7XG5cdFx0XHRcdGxvZ2dlci53YXJuKCdDcmVkZW50aWFscyBzYXZlZCBvbiBkaXNrIGFyZSBvdXQgb2YgZGF0ZS4gUGxlYXNlIHNpZ24gaW4gYWdhaW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRHbG9iYWxTdGF0ZS5zZXNzaW9ucy5zZXQodmFsaWRDb25maWcgPyBzZXNzaW9ucyA6IFtdKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRHbG9iYWxTdGF0ZS5zZXNzaW9ucy5zZXQoW10pO1xuXHRcdFx0Qm9sdFNlcnZpY2Uuc2F2ZUNyZWRlbnRpYWxzKCk7XG5cdFx0XHRsb2dnZXIuZXJyb3IoJ1VuYWJsZSB0byBwYXJzZSBzYXZlZCBjcmVkZW50aWFscy4gUGxlYXNlIHNpZ24gaW4gYWdhaW4uJyk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGFkZE1lc3NhZ2VMaXN0ZW5lcnMoKTogdm9pZCB7XG5cdGNvbnN0IHsgb3JpZ2luLCBvcmlnaW5fMmZhIH0gPSBib2x0LmVudjtcblxuXHRjb25zdCBhbGxvd2VkT3JpZ2lucyA9IFtib2x0LmludGVybmFsVXJsLCBvcmlnaW4sIG9yaWdpbl8yZmFdO1xuXHRsZXQgdG9rZW5zOiBBdXRoVG9rZW5zIHwgbnVsbCA9IG51bGw7XG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgYXN5bmMgKGV2ZW50OiBNZXNzYWdlRXZlbnQ8Qm9sdE1lc3NhZ2U+KSA9PiB7XG5cdFx0aWYgKCFhbGxvd2VkT3JpZ2lucy5pbmNsdWRlcyhldmVudC5vcmlnaW4pKSB7XG5cdFx0XHRsb2dnZXIuaW5mbyhgZGlzY2FyZGluZyB3aW5kb3cgbWVzc2FnZSBmcm9tIG9yaWdpbiAke2V2ZW50Lm9yaWdpbn1gKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0c3dpdGNoIChldmVudC5kYXRhLnR5cGUpIHtcblx0XHRcdGNhc2UgJ2F1dGhUb2tlblVwZGF0ZSc6IHtcblx0XHRcdFx0dG9rZW5zID0gZXZlbnQuZGF0YS50b2tlbnM7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0Y2FzZSAnYXV0aFNlc3Npb25VcGRhdGUnOiB7XG5cdFx0XHRcdGlmICh0b2tlbnMgPT09IG51bGwpIHtcblx0XHRcdFx0XHRyZXR1cm4gbG9nZ2VyLmVycm9yKCdhdXRoIGlzIG51bGwuIFBsZWFzZSB0cnkgYWdhaW4uJyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29uc3Qgc2Vzc2lvbl9pZCA9IGV2ZW50LmRhdGEuc2Vzc2lvbklkO1xuXHRcdFx0XHRjb25zdCBzZXNzaW9uUmVzdWx0ID0gYXdhaXQgVXNlclNlcnZpY2UuYnVpbGRTZXNzaW9uKHRva2Vucywgc2Vzc2lvbl9pZCk7XG5cdFx0XHRcdGNvbnN0IHsgY29uZmlnLCBzZXNzaW9ucyB9ID0gR2xvYmFsU3RhdGU7XG5cdFx0XHRcdGlmIChzZXNzaW9uUmVzdWx0Lm9rKSB7XG5cdFx0XHRcdFx0c2Vzc2lvbnMudXBkYXRlKChzZXNzaW9uKSA9PiB7XG5cdFx0XHRcdFx0XHRzZXNzaW9uLnB1c2goc2Vzc2lvblJlc3VsdC52YWx1ZSk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gc2Vzc2lvbjtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRpZiAoIWdldChjb25maWcpLnNlbGVjdGVkX3VzZXJfaWQpIHNlbGVjdEZpcnN0U2Vzc2lvbigpO1xuXHRcdFx0XHRcdEJvbHRTZXJ2aWNlLnNhdmVDcmVkZW50aWFscygpO1xuXHRcdFx0XHRcdGxvZ2dlci5pbmZvKGBTdWNjZXNzZnVsbHkgYWRkZWQgYWNjb3VudCAnJHtzZXNzaW9uUmVzdWx0LnZhbHVlLnVzZXIuZGlzcGxheU5hbWV9J2ApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxvZ2dlci5lcnJvcihgVW5hYmxlIHRvIHNpZ24gaW50byBhY2NvdW50LiAke3Nlc3Npb25SZXN1bHQuZXJyb3J9YCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRBdXRoU2VydmljZS5wZW5kaW5nTG9naW5XaW5kb3cgPSBudWxsO1xuXHRcdFx0XHR0b2tlbnMgPSBudWxsO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGNhc2UgJ2F1dGhGYWlsZWQnOiB7XG5cdFx0XHRcdGxvZ2dlci5lcnJvcihgVW5hYmxlIHRvIGF1dGhlbnRpY2F0ZTogJHtldmVudC5kYXRhLnJlYXNvbn1gKTtcblx0XHRcdFx0QXV0aFNlcnZpY2UucGVuZGluZ0xvZ2luV2luZG93ID0gbnVsbDtcblx0XHRcdFx0dG9rZW5zID0gbnVsbDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRjYXNlICdleHRlcm5hbFVybCc6IHtcblx0XHRcdFx0Y29uc3QgeG1sID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cdFx0XHRcdHhtbC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKHhtbC5yZWFkeVN0YXRlID09IDQpIHtcblx0XHRcdFx0XHRcdGxvZ2dlci5pbmZvKGBFeHRlcm5hbCBVUkwgc3RhdHVzOiAnJHt4bWwucmVzcG9uc2VUZXh0LnRyaW0oKX0nYCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0XHR4bWwub3BlbignUE9TVCcsICcvb3Blbi1leHRlcm5hbC11cmwnLCB0cnVlKTtcblx0XHRcdFx0eG1sLnNlbmQoZXZlbnQuZGF0YS51cmwpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGNhc2UgJ2dhbWVDbGllbnRMaXN0VXBkYXRlJzpcblx0XHRcdFx0Y2xpZW50TGlzdFByb21pc2Uuc2V0KGdldE5ld0NsaWVudExpc3RQcm9taXNlKCkpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGRlZmF1bHQ6IHtcblx0XHRcdFx0Y29uc3QgdHlwZSA9IChldmVudC5kYXRhIGFzIHsgdHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkIH0pPy50eXBlID8/ICdubyB0eXBlIHByb3ZpZGVkJztcblx0XHRcdFx0bG9nZ2VyLmluZm8oYFVua25vd24gbWVzc2FnZSB0eXBlOiAke3R5cGV9YCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJlZnJlc2hTdG9yZWRTZXNzaW9ucygpIHtcblx0Y29uc3Qgc2Vzc2lvbnMgPSBnZXQoR2xvYmFsU3RhdGUuc2Vzc2lvbnMpO1xuXHRjb25zdCBleHBpcmVkVG9rZW5zOiBzdHJpbmdbXSA9IFtdO1xuXG5cdGZvciAoY29uc3Qgc2Vzc2lvbiBvZiBzZXNzaW9ucykge1xuXHRcdGNvbnN0IHRva2Vuc1Jlc3VsdCA9IGF3YWl0IEF1dGhTZXJ2aWNlLnJlZnJlc2hPQXV0aFRva2VuKHNlc3Npb24udG9rZW5zKTtcblx0XHRpZiAoIXRva2Vuc1Jlc3VsdC5vaykge1xuXHRcdFx0aWYgKHRva2Vuc1Jlc3VsdC5lcnJvciA9PT0gMCkge1xuXHRcdFx0XHRsb2dnZXIuZXJyb3IoXG5cdFx0XHRcdFx0YFVuYWJsZSB0byB2ZXJpZnkgc2F2ZWQgbG9naW4sIHN0YXR1czogJHt0b2tlbnNSZXN1bHQuZXJyb3J9LiBEbyB5b3UgaGF2ZSBhbiBpbnRlcm5ldCBjb25uZWN0aW9uPyBQbGVhc2UgcmVsYXVuY2ggQm9sdCB0byB0cnkgYWdhaW4uYFxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bG9nZ2VyLmVycm9yKFxuXHRcdFx0XHRcdGBEaXNjYXJkaW5nIGV4cGlyZWQgbG9naW4sIHN0YXR1czogJHt0b2tlbnNSZXN1bHQuZXJyb3J9LiBQbGVhc2Ugc2lnbiBpbiBhZ2Fpbi5gXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGV4cGlyZWRUb2tlbnMucHVzaChzZXNzaW9uLnRva2Vucy5zdWIpO1xuXHRcdFx0fVxuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0Y29uc3QgdG9rZW5zID0gdG9rZW5zUmVzdWx0LnZhbHVlO1xuXHRcdHNlc3Npb24udG9rZW5zID0gdG9rZW5zO1xuXHRcdGNvbnN0IHNlc3Npb25SZXN1bHQgPSBhd2FpdCBVc2VyU2VydmljZS5idWlsZFNlc3Npb24odG9rZW5zLCBzZXNzaW9uLnNlc3Npb25faWQpO1xuXHRcdGlmIChzZXNzaW9uUmVzdWx0Lm9rKSB7XG5cdFx0XHRjb25zdCBleGlzdGluZ1Nlc3Npb24gPSBCb2x0U2VydmljZS5maW5kU2Vzc2lvbih0b2tlbnMuc3ViKTtcblx0XHRcdGlmICghZXhpc3RpbmdTZXNzaW9uKSB7XG5cdFx0XHRcdHNlc3Npb24udXNlciA9IHNlc3Npb25SZXN1bHQudmFsdWUudXNlcjtcblx0XHRcdFx0c2Vzc2lvbi5hY2NvdW50cyA9IHNlc3Npb25SZXN1bHQudmFsdWUuYWNjb3VudHM7XG5cdFx0XHR9XG5cdFx0XHRsb2dnZXIuaW5mbyhgTG9nZ2VkIGludG8gYWNjb3VudCAnJHtzZXNzaW9uUmVzdWx0LnZhbHVlLnVzZXIuZGlzcGxheU5hbWV9J2ApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRsb2dnZXIuZXJyb3IoXG5cdFx0XHRcdGBVbmFibGUgdG8gbG9naW4gdG8gYWNjb3VudCAnJHtzZXNzaW9uLnVzZXIuZGlzcGxheU5hbWV9Jy4gJHtzZXNzaW9uUmVzdWx0LmVycm9yfWBcblx0XHRcdCk7XG5cdFx0XHRleHBpcmVkVG9rZW5zLnB1c2goc2Vzc2lvbi50b2tlbnMuc3ViKTtcblx0XHR9XG5cdH1cblxuXHRleHBpcmVkVG9rZW5zLmZvckVhY2goKHN1YikgPT4ge1xuXHRcdEJvbHRTZXJ2aWNlLmxvZ291dChzdWIpO1xuXHR9KTtcblxuXHRHbG9iYWxTdGF0ZS5zZXNzaW9ucy5zZXQoc2Vzc2lvbnMpO1xuXHRCb2x0U2VydmljZS5zYXZlQ3JlZGVudGlhbHMoKTtcbn1cbiJdLCJuYW1lcyI6WyJUaW1lIiwiQ29va2llU2VydmljZSIsIm5hbWUiLCJ2YWx1ZSIsImR1cmF0aW9uIiwidW5pdCIsImRhdGUiLCJleHBpcmVzIiwibmFtZUVRIiwiY2EiLCJpIiwiYyIsIm9rIiwiZXJyb3IiLCJHYW1lIiwiQ2xpZW50IiwiY2xpZW50TWFwIiwiUGFyc2VVdGlscyIsInJlc3BvbnNlIiwib2F1dGhDcmVkcyIsInNlY3Rpb25zIiwibXNnIiwiaGVhZGVyIiwicGF5bG9hZCIsInBhcnNlZCIsImVuY29kZWQiLCJkZWNvZGVkT2JqZWN0IiwiX2tleSIsImtleSIsIml0ZW0iLCJQbGF0Zm9ybSIsImJvbHQiLCJTdHJpbmdVdGlscyIsInVybCIsInZlcmlmaWVyRGF0YSIsImRpZ2VzdGVkIiwicmF3IiwiYnl0ZXMiLCJjb2RlQ2hhbGxlbmdlIiwidCIsIm4iLCJlIiwiciIsIm8iLCJfQXV0aFNlcnZpY2UiLCJvcmlnaW4iLCJyZWRpcmVjdCIsImNsaWVudGlkIiwic3RhdGUiLCJ2ZXJpZmllciIsInBhcmFtcyIsImxvZ2luVXJsIiwiaWRfdG9rZW4iLCJub25jZSIsImNvbnNlbnRVcmwiLCJhdXRoVG9rZW5zIiwicmVzb2x2ZSIsInBvc3REYXRhIiwieG1sIiwiY3JlZGVudGlhbFJlc3VsdCIsImNsaWVudF9pZCIsImNvZGVfdmVyaWZpZXIiLCJyZWRpcmVjdF91cmkiLCJhdXRoQ29kZSIsInRva2VuVXJsIiwicGFyc2VSZXN1bHQiLCJwb3N0X2RhdGEiLCJhY2Nlc3NfdG9rZW4iLCJyZXZva2VVcmwiLCJhdXRoX2FwaSIsImlkVG9rZW4iLCJzZXNzaW9uc1VybCIsInRva2VuIiwiZXhwZWN0ZWROb25jZSIsIl9fcHVibGljRmllbGQiLCJBdXRoU2VydmljZSIsIlVzZXJTZXJ2aWNlIiwidG9rZW5zIiwic2Vzc2lvbl9pZCIsInVzZXJSZXN1bHQiLCJhY2NvdW50UmVzdWx0IiwidXNlcklkIiwidXNlciIsImFjY291bnRzVXJsIiwiYWNjb3VudHMiLCJub29wIiwiYXNzaWduIiwidGFyIiwic3JjIiwiayIsImlzX3Byb21pc2UiLCJydW4iLCJmbiIsImJsYW5rX29iamVjdCIsInJ1bl9hbGwiLCJmbnMiLCJpc19mdW5jdGlvbiIsInRoaW5nIiwic2FmZV9ub3RfZXF1YWwiLCJhIiwiYiIsInNyY191cmxfZXF1YWxfYW5jaG9yIiwic3JjX3VybF9lcXVhbCIsImVsZW1lbnRfc3JjIiwiaXNfZW1wdHkiLCJvYmoiLCJzdWJzY3JpYmUiLCJzdG9yZSIsImNhbGxiYWNrcyIsImNhbGxiYWNrIiwidW5zdWIiLCJnZXRfc3RvcmVfdmFsdWUiLCJfIiwiY29tcG9uZW50X3N1YnNjcmliZSIsImNvbXBvbmVudCIsImNyZWF0ZV9zbG90IiwiZGVmaW5pdGlvbiIsImN0eCIsIiQkc2NvcGUiLCJzbG90X2N0eCIsImdldF9zbG90X2NvbnRleHQiLCJnZXRfc2xvdF9jaGFuZ2VzIiwiZGlydHkiLCJsZXRzIiwibWVyZ2VkIiwibGVuIiwidXBkYXRlX3Nsb3RfYmFzZSIsInNsb3QiLCJzbG90X2RlZmluaXRpb24iLCJzbG90X2NoYW5nZXMiLCJnZXRfc2xvdF9jb250ZXh0X2ZuIiwic2xvdF9jb250ZXh0IiwiZ2V0X2FsbF9kaXJ0eV9mcm9tX3Njb3BlIiwibGVuZ3RoIiwic2V0X3N0b3JlX3ZhbHVlIiwicmV0IiwiYWN0aW9uX2Rlc3Ryb3llciIsImFjdGlvbl9yZXN1bHQiLCJhcHBlbmQiLCJ0YXJnZXQiLCJub2RlIiwiaW5zZXJ0IiwiYW5jaG9yIiwiZGV0YWNoIiwiZGVzdHJveV9lYWNoIiwiaXRlcmF0aW9ucyIsImRldGFjaGluZyIsImVsZW1lbnQiLCJ0ZXh0IiwiZGF0YSIsInNwYWNlIiwiZW1wdHkiLCJsaXN0ZW4iLCJldmVudCIsImhhbmRsZXIiLCJvcHRpb25zIiwic2VsZiIsImF0dHIiLCJhdHRyaWJ1dGUiLCJjaGlsZHJlbiIsInNldF9kYXRhIiwic2V0X2lucHV0X3ZhbHVlIiwiaW5wdXQiLCJzZWxlY3Rfb3B0aW9uIiwic2VsZWN0IiwibW91bnRpbmciLCJvcHRpb24iLCJzZWxlY3RfdmFsdWUiLCJzZWxlY3RlZF9vcHRpb24iLCJ0b2dnbGVfY2xhc3MiLCJ0b2dnbGUiLCJjdXN0b21fZXZlbnQiLCJ0eXBlIiwiZGV0YWlsIiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJjdXJyZW50X2NvbXBvbmVudCIsInNldF9jdXJyZW50X2NvbXBvbmVudCIsImdldF9jdXJyZW50X2NvbXBvbmVudCIsIm9uTW91bnQiLCJvbkRlc3Ryb3kiLCJjcmVhdGVFdmVudERpc3BhdGNoZXIiLCJkaXJ0eV9jb21wb25lbnRzIiwiYmluZGluZ19jYWxsYmFja3MiLCJyZW5kZXJfY2FsbGJhY2tzIiwiZmx1c2hfY2FsbGJhY2tzIiwicmVzb2x2ZWRfcHJvbWlzZSIsInVwZGF0ZV9zY2hlZHVsZWQiLCJzY2hlZHVsZV91cGRhdGUiLCJmbHVzaCIsImFkZF9yZW5kZXJfY2FsbGJhY2siLCJzZWVuX2NhbGxiYWNrcyIsImZsdXNoaWR4Iiwic2F2ZWRfY29tcG9uZW50IiwidXBkYXRlIiwiJCQiLCJmbHVzaF9yZW5kZXJfY2FsbGJhY2tzIiwiZmlsdGVyZWQiLCJ0YXJnZXRzIiwib3V0cm9pbmciLCJvdXRyb3MiLCJncm91cF9vdXRyb3MiLCJjaGVja19vdXRyb3MiLCJ0cmFuc2l0aW9uX2luIiwiYmxvY2siLCJsb2NhbCIsInRyYW5zaXRpb25fb3V0IiwiaGFuZGxlX3Byb21pc2UiLCJwcm9taXNlIiwiaW5mbyIsImluZGV4IiwiY2hpbGRfY3R4IiwibmVlZHNfZmx1c2giLCJ1cGRhdGVfYXdhaXRfYmxvY2tfYnJhbmNoIiwicmVzb2x2ZWQiLCJlbnN1cmVfYXJyYXlfbGlrZSIsImFycmF5X2xpa2Vfb3JfaXRlcmF0b3IiLCJkZXN0cm95X2Jsb2NrIiwibG9va3VwIiwidXBkYXRlX2tleWVkX2VhY2giLCJvbGRfYmxvY2tzIiwiZ2V0X2tleSIsImR5bmFtaWMiLCJsaXN0IiwiZGVzdHJveSIsImNyZWF0ZV9lYWNoX2Jsb2NrIiwibmV4dCIsImdldF9jb250ZXh0Iiwib2xkX2luZGV4ZXMiLCJuZXdfYmxvY2tzIiwibmV3X2xvb2t1cCIsImRlbHRhcyIsInVwZGF0ZXMiLCJ3aWxsX21vdmUiLCJkaWRfbW92ZSIsIm5ld19ibG9jayIsIm9sZF9ibG9jayIsIm5ld19rZXkiLCJvbGRfa2V5IiwiY3JlYXRlX2NvbXBvbmVudCIsIm1vdW50X2NvbXBvbmVudCIsImZyYWdtZW50IiwiYWZ0ZXJfdXBkYXRlIiwibmV3X29uX2Rlc3Ryb3kiLCJkZXN0cm95X2NvbXBvbmVudCIsIm1ha2VfZGlydHkiLCJpbml0IiwiaW5zdGFuY2UiLCJjcmVhdGVfZnJhZ21lbnQiLCJub3RfZXF1YWwiLCJwcm9wcyIsImFwcGVuZF9zdHlsZXMiLCJwYXJlbnRfY29tcG9uZW50IiwicmVhZHkiLCJyZXN0Iiwibm9kZXMiLCJTdmVsdGVDb21wb25lbnQiLCJQVUJMSUNfVkVSU0lPTiIsInN1YnNjcmliZXJfcXVldWUiLCJ3cml0YWJsZSIsInN0YXJ0Iiwic3RvcCIsInN1YnNjcmliZXJzIiwic2V0IiwibmV3X3ZhbHVlIiwicnVuX3F1ZXVlIiwic3Vic2NyaWJlciIsImludmFsaWRhdGUiLCJTZXZlcml0eSIsIkxvZ2dlciIsInNldmVyaXR5IiwiY29udGVudCIsImxvZ3MiLCJsb2dnZXIiLCJvbldyaXRhYmxlQ2hhbmdlIiwiaW5pdGlhbGl6ZWQiLCJkZWZhdWx0Q29uZmlnIiwiaW5pdENvbmZpZyIsImNvbmZpZ1BhcmFtIiwiaXNDb25maWdWYWxpZCIsImNvbmYiLCJjb25maWciLCJHbG9iYWxTdGF0ZSIsInBhcnNlZENvbmZpZyIsInNlbGVjdGVkX3VzZXJfaWQiLCJnZXQiLCJCb2x0U2VydmljZSIsInNlbGVjdEZpcnN0U2Vzc2lvbiIsInNlc3Npb25zU3RvcmUiLCJfY29uZmlnIiwic2Vzc2lvbnMiLCJmaXJzdFNlc3Npb24iLCJzYXZlSW5Qcm9ncmVzcyIsInN1YiIsInNlc3Npb25JbmRleCIsInNlc3Npb24iLCJjaGVja0ZvclBlbmRpbmdDaGFuZ2VzIiwiYWNjb3VudElkIiwiYWNjb3VudCIsImxhdW5jaFJTM0xpbnV4Iiwianhfc2Vzc2lvbl9pZCIsImp4X2NoYXJhY3Rlcl9pZCIsImp4X2Rpc3BsYXlfbmFtZSIsImxhdW5jaCIsImhhc2giLCJkZWIiLCJjb250ZW50VXJsIiwibGluZXMiLCJ4IiwiZXhlWG1sIiwicHJvZ3Jlc3MiLCJsYXVuY2hSdW5lTGl0ZSIsImNvbmZpZ3VyZSIsImxhdW5jaFBhdGgiLCJpZCIsImphciIsImphclBhdGgiLCJydW5lbGl0ZSIsInhtbFJsIiwibGF1bmNoSGRvcyIsInZlcnNpb24iLCJ2ZXJzaW9uUmVnZXgiLCJsYXRlc3RWZXJzaW9uIiwiamFyVXJsIiwieG1sSGRvcyIsImdldE5ld0NsaWVudExpc3RQcm9taXNlIiwicmVqZWN0IiwiZGljdCIsInVpZCIsInNhdmVQbHVnaW5Db25maWciLCJsYXVuY2hPZmZpY2lhbENsaWVudCIsIndpbmRvd3MiLCJvc3JzIiwibWV0YVBhdGgiLCJpbnN0YWxsZWRIYXNoIiwiZXhlIiwicHJpbWFyeVVybCIsInByaW1hcnlVcmxSZXNwb25zZSIsInByaW1hcnlVcmxUZXh0IiwibWV0YVRva2VuIiwiY2F0YWxvZ1VybCIsImNhdGFsb2dVcmxSZXNwb25zZSIsImNhdGFsb2dUZXh0IiwiY2F0YWxvZyIsIm1ldGFmaWxlVXJsIiwibWV0YWZpbGVVcmxSZXNwb25zZSIsIm1ldGFmaWxlVGV4dCIsIm1ldGFmaWxlIiwiY2h1bmtfcHJvbWlzZXMiLCJoZXhfY2h1bmsiLCJjaHVua191cmwiLCJibG9iIiwiZHMiLCJleGVPZmZzZXQiLCJleGVTaXplIiwiZXhlRmlsZSIsImNsaWVudExpc3RQcm9taXNlIiwibWFpbiIsIiQkaW52YWxpZGF0ZSIsImRhcmtUaGVtZSIsIiRjb25maWciLCJkaXYiLCJwYXJlbnRXaW5kb3ciLCJmYWlsIiwicmV0cmlldmVPQXV0aFRva2VuIiwidG9rZW5SZXN1bHQiLCJyZXRyaWV2ZVNlc3Npb25JZCIsInZhbGlkYXRlUmVzdWx0Iiwic2Vzc2lvbklkUmVzdWx0IiwicmVhc29uIiwibWVzc2FnZSIsImNvZGUiLCJzZXNzaW9uSWQiLCJidXR0b24iLCJjcmVhdGVfaWZfYmxvY2tfMSIsImNyZWF0ZV9pZl9ibG9jayIsImRpYWxvZ18xIiwiY2xhc3NOYW1lIiwiJCRwcm9wcyIsImNhblNlbGZDbG9zZSIsImRpYWxvZyIsImlzT3BlbiIsImRpc3BhdGNoIiwib3BlbiIsImNsb3NlIiwiY2xpY2tfaGFuZGxlciIsIiQkdmFsdWUiLCJwMCIsInAxIiwibW9kYWwiLCIkc2Vzc2lvbnMiLCJwIiwiY3JlYXRlX2lmX2Jsb2NrXzYiLCJ1bm5hbWVkQ2xpZW50TmFtZSIsImJ1dHRvbl9jbGFzc192YWx1ZSIsImJyIiwidDAiLCJ0MF92YWx1ZSIsImVhY2hfdmFsdWUiLCJ1bm5hbWVkUGx1Z2luTmFtZSIsInRfdmFsdWUiLCJzaG93X2lmIiwiY3JlYXRlX2lmX2Jsb2NrXzUiLCJ0MV92YWx1ZSIsInQxIiwiYnV0dG9uMCIsImJ1dHRvbjEiLCJwMV9jbGFzc192YWx1ZSIsInQyIiwidDJfdmFsdWUiLCJkaXYwIiwiaHIiLCJkaXYxIiwiZ2V0UGx1Z2luQ29uZmlnUHJvbWlzZSIsImRpcnBhdGgiLCJwYXRoIiwiZ2V0UGx1Z2luQ29uZmlnUHJvbWlzZUZyb21JRCIsIm1ldGEiLCJoYW5kbGVOZXdQbHVnaW4iLCJmb2xkZXJQYXRoIiwiY29uZmlnUGF0aCIsInBsdWdpbiIsInNlbGVjdGVkUGx1Z2luIiwicGx1Z2luQ29uZmlnRGlydHkiLCJkaXNhYmxlQnV0dG9ucyIsImpzb25GaWxlUGlja2VyIiwic3VicGF0aCIsInN0YXJ0UGx1Z2luIiwiY2xpZW50IiwiaXNDbGllbnRTZWxlY3RlZCIsInNlbGVjdGVkQ2xpZW50SWQiLCJtYW5hZ2VtZW50UGx1Z2luUHJvbWlzZSIsImNsaWNrX2hhbmRsZXJfNCIsIiRjbGllbnRMaXN0UHJvbWlzZSIsImxhYmVsIiwic3BhbiIsIm9wdGlvbl92YWx1ZV92YWx1ZSIsImlmX2Jsb2NrMCIsImNyZWF0ZV9pZl9ibG9ja18zIiwiY3JlYXRlX2lmX2Jsb2NrXzIiLCJkaXYyIiwiaW1nIiwiZWFjaF8xX2Vsc2UiLCJwbHVnaW5Nb2RhbCIsImdhbWUiLCJkaXNwbGF5TmFtZSIsImlzV2luZG93cyIsImlzTGludXgiLCJfYSIsImxpIiwib2wiLCJvcGVuRGF0YURpciIsInRleHRhcmVhIiwidGV4dGFyZWFfZGlzYWJsZWRfdmFsdWUiLCJkaXYzIiwiY3VycmVudGx5UGlja2luZ0ZpbGUiLCJvcGVuRmlsZVBpY2tlciIsImxhdW5jaENvbmZpZ3VyZSIsInNlbGVjdGVkU2Vzc2lvbiIsInNlbGVjdGVkQWNjb3VudCIsImNvbmZpZ3VyZVJ1bmVMaXRlRGlzYWJsZWQiLCJpZl9ibG9jayIsImFjdGl2ZUNsYXNzIiwiaW5hY3RpdmVDbGFzcyIsImJyMCIsImJyMSIsImJ1dHRvbjIiLCJUYWIiLCJUYWIyIiwib3BlblRhYiIsImNsaWNrT3V0c2lkZSIsImlnbm9yZSIsIm9uQ2xpY2siLCJ0YXJnZXRJc0lnbm9yZWQiLCJlbCIsImRpdl9jbGFzc192YWx1ZSIsImN1cnJlbnQiLCJwb3NpdGlvbiIsImFsaWduIiwib3BlbkJ1dHRvbiIsIm9wdGlvbl9zZWxlY3RlZF92YWx1ZSIsImJ1dHRvbjFfZGlzYWJsZWRfdmFsdWUiLCJjb25zdGFudHNfMCIsImJ1dHRvbjMiLCJzZXR0aW5nc01vZGFsIiwiYXBwQ29uZmlnIiwiQXV0aEFwcCIsInNldHVwQm9sdEFwcCIsIkJvbHRBcHAiLCJpbml0Qm9sdCIsInJlZnJlc2hTdG9yZWRTZXNzaW9ucyIsImFkZE1lc3NhZ2VMaXN0ZW5lcnMiLCJwbHVnaW5zIiwic2Vzc2lvbnNQYXJhbSIsInZhbGlkQ29uZmlnIiwib3JpZ2luXzJmYSIsImFsbG93ZWRPcmlnaW5zIiwic2Vzc2lvblJlc3VsdCIsImV4cGlyZWRUb2tlbnMiLCJ0b2tlbnNSZXN1bHQiXSwibWFwcGluZ3MiOiJtM0JBQVksSUFBQUEsSUFBQUEsSUFDWEEsRUFBQUEsRUFBQSxPQUFTLEdBQVQsRUFBQSxTQUNBQSxFQUFBQSxFQUFBLE9BQVMsR0FBVCxFQUFBLFNBQ0FBLEVBQUFBLEVBQUEsVUFBWSxJQUFaLEVBQUEsWUFDQUEsRUFBQUEsRUFBQSxLQUFPLElBQVAsRUFBQSxPQUNBQSxFQUFBQSxFQUFBLElBQU0sS0FBTixFQUFBLE1BQ0FBLEVBQUFBLEVBQUEsS0FBTyxNQUFQLEVBQUEsT0FDQUEsRUFBQUEsRUFBQSxNQUFRLE1BQVIsRUFBQSxRQVBXQSxJQUFBQSxJQUFBLENBQUEsQ0FBQSxFQ0VMLE1BQU1DLEVBQWMsQ0FDMUIsT0FBTyxJQUFJQyxFQUFjQyxFQUFlQyxFQUFrQkMsRUFBa0IsQ0FDckUsTUFBQUMsTUFBVyxLQUNqQkEsRUFBSyxRQUFRQSxFQUFLLFFBQVEsRUFBSUYsRUFBV0MsQ0FBSSxFQUM3QyxNQUFNRSxFQUFVLFdBQVdELEVBQUssWUFBQSxDQUFhLEdBQzdDLFNBQVMsT0FBUyxHQUFHSixD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QWUsQ0FDYixNQUFBbkIsRUFBTSxJQUFJLGVBQ2hCQSxFQUFJLG1CQUFxQixJQUFNLENBQzFCQSxFQUFJLFlBQWMsR0FDckJ1TixFQUFPLEtBQUsseUJBQXlCdk4sRUFBSSxhQUFhLEtBQUEsQ0FBTSxHQUFHLENBQ2hFLEVBRUdBLEVBQUEsS0FBSyxPQUFRLHFCQUFzQixFQUFJLEVBQ3ZDQSxFQUFBLEtBQUsrRixFQUFNLEtBQUssR0FBRyxFQUN2QixLQUNELENBQ0EsSUFBSyx1QkFDYzJNLEdBQUEsSUFBSS9CLElBQXlCLEVBQy9DLE1BQ0QsUUFBUyxDQUNGLE1BQUF6SixJQUFRb1IsRUFBQXZTLEVBQU0sT0FBTixZQUFBdVMsRUFBNkMsT0FBUSxtQkFDNUQvSyxFQUFBLEtBQUsseUJBQXlCckcsQ0FBSSxFQUFFLEVBQzNDLEtBQ0QsQ0FDRCxDQUFBLENBQ0EsQ0FDRixDQUVBLGVBQWU4VCxJQUF3QixDQUNoQyxNQUFBeE0sRUFBV0wsR0FBSUgsRUFBWSxRQUFRLEVBQ25Dd04sRUFBMEIsQ0FBQSxFQUVoQyxVQUFXM00sS0FBV0wsRUFBVSxDQUMvQixNQUFNaU4sRUFBZSxNQUFNeGEsR0FBWSxrQkFBa0I0TixFQUFRLE1BQU0sRUFDbkUsR0FBQSxDQUFDNE0sRUFBYSxHQUFJLENBQ2pCQSxFQUFhLFFBQVUsRUFDbkJsTyxFQUFBLE1BQ04seUNBQXlDa08sRUFBYSxLQUFLLDBFQUFBLEdBR3JEbE8sRUFBQSxNQUNOLHFDQUFxQ2tPLEVBQWEsS0FBSyx5QkFBQSxFQUUxQ0QsRUFBQSxLQUFLM00sRUFBUSxPQUFPLEdBQUcsR0FFdEMsUUFDRCxDQUVBLE1BQU0xTixFQUFTc2EsRUFBYSxNQUM1QjVNLEVBQVEsT0FBUzFOLEVBQ2pCLE1BQU1vYSxFQUFnQixNQUFNcmEsR0FBWSxhQUFhQyxFQUFRME4sRUFBUSxVQUFVLEVBQzNFME0sRUFBYyxJQUNPbk4sRUFBWSxZQUFZak4sRUFBTyxHQUFHLElBRWpEME4sRUFBQSxLQUFPME0sRUFBYyxNQUFNLEtBQzNCMU0sRUFBQSxTQUFXME0sRUFBYyxNQUFNLFVBRXhDaE8sRUFBTyxLQUFLLHdCQUF3QmdPLEVBQWMsTUFBTSxLQUFLLFdBQVcsR0FBRyxJQUVwRWhPLEVBQUEsTUFDTiwrQkFBK0JzQixFQUFRLEtBQUssV0FBVyxNQUFNME0sRUFBYyxLQUFLLEVBQUEsRUFFbkVDLEVBQUEsS0FBSzNNLEVBQVEsT0FBTyxHQUFHLEVBRXZDLENBRWMyTSxFQUFBLFFBQVM3TSxHQUFRLENBQzlCUCxFQUFZLE9BQU9PLENBQUcsQ0FBQSxDQUN0QixFQUVXWCxFQUFBLFNBQVMsSUFBSVEsQ0FBUSxFQUNqQ0osRUFBWSxnQkFBZ0IsQ0FDN0IiLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbOCw5LDEwLDExLDEyLDEzLDE0LDE1LDE2LDE3LDI1XX0=
